function b0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ad(e){return b0(e)&&typeof e._ref=="string"}function i4e(e){return b0(e)&&ad(e.asset)&&e.asset._ref.startsWith("image-")}function Ove(e){return b0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function s4e(e){return b0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function _F(e){return b0(e)&&typeof e._type=="string"}function Dl(e){return b0(e)&&typeof e._key=="string"}function a4e(e){return e.level==="error"}const l4e=/_key\s*==\s*['"](.*)['"]/,c4e=/^\d*:\d*$/;function El(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function $r(e){return typeof e=="string"?l4e.test(e.trim()):typeof e=="object"&&"_key"in e}function Mp(e){if(typeof e=="string"&&c4e.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function A2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ou(e){return A2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>A2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>A2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Js(e){return A2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function u4e(e){return Ou(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function hm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Za(e){return hm(e)?e.jsonType==="object":!1}function zl(e){return hm(e)?e.jsonType==="array":!1}function SF(e){return zl(e)&&e.of.every(t=>Za(t))}function d4e(e){return zl(e)&&e.of.every(t=>$ve(t))}function lw(e){return hm(e)?e.jsonType==="boolean":!1}function Rve(e){return hm(e)?e.jsonType==="string":!1}function Fp(e){return hm(e)?e.jsonType==="number":!1}function $ve(e){return lw(e)||Rve(e)||Fp(e)}function Ru(e){return hm(e)&&(e.name==="reference"||Ru(e.type))}function EF(e){return hm(e)&&(e.name==="crossDatasetReference"||EF(e.type))}function kF(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Mve(e,t){return e}function f4e(e,t){return e}function h4e(e){return e.level==="error"}function p4e(e){return e.level==="warning"}var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m4e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Fve={exports:{}},W5={},Lve={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=Symbol.for("react.element"),g4e=Symbol.for("react.portal"),v4e=Symbol.for("react.fragment"),y4e=Symbol.for("react.strict_mode"),b4e=Symbol.for("react.profiler"),x4e=Symbol.for("react.provider"),w4e=Symbol.for("react.context"),C4e=Symbol.for("react.forward_ref"),_4e=Symbol.for("react.suspense"),S4e=Symbol.for("react.memo"),E4e=Symbol.for("react.lazy"),qz=Symbol.iterator;function k4e(e){return e===null||typeof e!="object"?null:(e=qz&&e[qz]||e["@@iterator"],typeof e=="function"?e:null)}var Bve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nve=Object.assign,zve={};function x0(e,t,n){this.props=e,this.context=t,this.refs=zve,this.updater=n||Bve}x0.prototype.isReactComponent={};x0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};x0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vve(){}Vve.prototype=x0.prototype;function jF(e,t,n){this.props=e,this.context=t,this.refs=zve,this.updater=n||Bve}var TF=jF.prototype=new Vve;TF.constructor=jF;Nve(TF,x0.prototype);TF.isPureReactComponent=!0;var Gz=Array.isArray,Hve=Object.prototype.hasOwnProperty,AF={current:null},Uve={key:!0,ref:!0,__self:!0,__source:!0};function Wve(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Hve.call(t,r)&&!Uve.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:cw,type:e,key:i,ref:s,props:o,_owner:AF.current}}function j4e(e,t){return{$$typeof:cw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function DF(e){return typeof e=="object"&&e!==null&&e.$$typeof===cw}function T4e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kz=/\/+/g;function DD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T4e(""+e.key):t.toString(36)}function D2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case cw:case g4e:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+DD(s,0):r,Gz(o)?(n="",e!=null&&(n=e.replace(Kz,"$&/")+"/"),D2(o,t,n,"",function(u){return u})):o!=null&&(DF(o)&&(o=j4e(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Kz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Gz(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+DD(i,a);s+=D2(i,t,n,c,o)}else if(c=k4e(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+DD(i,a++),s+=D2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function LC(e,t,n){if(e==null)return e;var r=[],o=0;return D2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function A4e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rs={current:null},I2={transition:null},D4e={ReactCurrentDispatcher:rs,ReactCurrentBatchConfig:I2,ReactCurrentOwner:AF};Yt.Children={map:LC,forEach:function(e,t,n){LC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return LC(e,function(){t++}),t},toArray:function(e){return LC(e,function(t){return t})||[]},only:function(e){if(!DF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=x0;Yt.Fragment=v4e;Yt.Profiler=b4e;Yt.PureComponent=jF;Yt.StrictMode=y4e;Yt.Suspense=_4e;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4e;Yt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nve({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=AF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Hve.call(t,c)&&!Uve.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cw,type:e.type,key:o,ref:i,props:r,_owner:s}};Yt.createContext=function(e){return e={$$typeof:w4e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x4e,_context:e},e.Consumer=e};Yt.createElement=Wve;Yt.createFactory=function(e){var t=Wve.bind(null,e);return t.type=e,t};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:C4e,render:e}};Yt.isValidElement=DF;Yt.lazy=function(e){return{$$typeof:E4e,_payload:{_status:-1,_result:e},_init:A4e}};Yt.memo=function(e,t){return{$$typeof:S4e,type:e,compare:t===void 0?null:t}};Yt.startTransition=function(e){var t=I2.transition;I2.transition={};try{e()}finally{I2.transition=t}};Yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Yt.useCallback=function(e,t){return rs.current.useCallback(e,t)};Yt.useContext=function(e){return rs.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return rs.current.useDeferredValue(e)};Yt.useEffect=function(e,t){return rs.current.useEffect(e,t)};Yt.useId=function(){return rs.current.useId()};Yt.useImperativeHandle=function(e,t,n){return rs.current.useImperativeHandle(e,t,n)};Yt.useInsertionEffect=function(e,t){return rs.current.useInsertionEffect(e,t)};Yt.useLayoutEffect=function(e,t){return rs.current.useLayoutEffect(e,t)};Yt.useMemo=function(e,t){return rs.current.useMemo(e,t)};Yt.useReducer=function(e,t,n){return rs.current.useReducer(e,t,n)};Yt.useRef=function(e){return rs.current.useRef(e)};Yt.useState=function(e){return rs.current.useState(e)};Yt.useSyncExternalStore=function(e,t,n){return rs.current.useSyncExternalStore(e,t,n)};Yt.useTransition=function(){return rs.current.useTransition()};Yt.version="18.2.0";Lve.exports=Yt;var h=Lve.exports;const ne=Pe(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4e=h,P4e=Symbol.for("react.element"),O4e=Symbol.for("react.fragment"),R4e=Object.prototype.hasOwnProperty,$4e=I4e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M4e={key:!0,ref:!0,__self:!0,__source:!0};function Yve(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)R4e.call(t,r)&&!M4e.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:P4e,type:e,key:i,ref:s,props:o,_owner:$4e.current}}W5.Fragment=O4e;W5.jsx=Yve;W5.jsxs=Yve;Fve.exports=W5;var l=Fve.exports;const F4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L4e=/_key\s*==\s*['"](.*)['"]/,qve=[],Gve="$";function pm(e,t,n){const r=typeof t=="string"?Il(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(El(s)){if(!Array.isArray(o))return n;o=o[s]}if($r(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const ID=new Map;function Pc(e){if(e.length===0)return qve;const t=zr(e);return ID.has(t)?ID.get(t):(ID.set(t,e),Object.freeze(e),e)}function wn(e,t){return e.length===t.length&&e.every((n,r)=>Y5(n,t[r]))}function B4e(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!Y5(e[r],t[r]))return r;return n}function Y5(e,t){return $r(e)&&$r(t)?e._key===t._key:El(e)?Number(e)===Number(t):Mp(e)&&Mp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Si(e,t){return e.every((n,r)=>Y5(n,t[r]))}function qy(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return Y5(n,o)?Pc(qy(r,i)):t}function IF(e,t){return Si(e,t)?qy(e,t):qve}function zr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if($r(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function P3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...P3(i,r)]}const o=pm(e,[n]);return[n,...P3(o,r)]}function N4e(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return Pc(P3(e,t))}function Il(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(F4e);if(!t)throw new Error("Invalid path string");return t.map(z4e)}function z4e(e){return El(e)?V4e(e):$r(e)?H4e(e):Mp(e)?U4e(e):e}function V4e(e){return Number(e.replace(/[^\d]/g,""))}function H4e(e){return{_key:e.match(L4e)[1]}}function U4e(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var W4e=typeof Element<"u",Y4e=typeof Map=="function",q4e=typeof Set=="function",G4e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function P2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!P2(e[r],t[r]))return!1;return!0}var i;if(Y4e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!P2(r.value[1],t.get(r.value[0])))return!1;return!0}if(q4e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(G4e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(W4e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!P2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var K4e=function(t,n){try{return P2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const PF=Pe(K4e);function Z4e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xa=Z4e;const uw=Pe(Xa);var X4e=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs,Kve=X4e,Q4e=Kve,J4e=typeof self=="object"&&self&&self.Object===Object&&self,eFe=Q4e||J4e||Function("return this")(),Vl=eFe,tFe=Vl,nFe=function(){return tFe.Date.now()},rFe=nFe,oFe=/\s/;function iFe(e){for(var t=e.length;t--&&oFe.test(e.charAt(t)););return t}var sFe=iFe,aFe=sFe,lFe=/^\s+/;function cFe(e){return e&&e.slice(0,aFe(e)+1).replace(lFe,"")}var Zve=cFe,uFe=Vl,dFe=uFe.Symbol,w0=dFe,Zz=w0,Xve=Object.prototype,fFe=Xve.hasOwnProperty,hFe=Xve.toString,A1=Zz?Zz.toStringTag:void 0;function pFe(e){var t=fFe.call(e,A1),n=e[A1];try{e[A1]=void 0;var r=!0}catch{}var o=hFe.call(e);return r&&(t?e[A1]=n:delete e[A1]),o}var mFe=pFe,gFe=Object.prototype,vFe=gFe.toString;function yFe(e){return vFe.call(e)}var bFe=yFe,Xz=w0,xFe=mFe,wFe=bFe,CFe="[object Null]",_Fe="[object Undefined]",Qz=Xz?Xz.toStringTag:void 0;function SFe(e){return e==null?e===void 0?_Fe:CFe:Qz&&Qz in Object(e)?xFe(e):wFe(e)}var Xf=SFe;function EFe(e){return e!=null&&typeof e=="object"}var Qa=EFe,kFe=Xf,jFe=Qa,TFe="[object Symbol]";function AFe(e){return typeof e=="symbol"||jFe(e)&&kFe(e)==TFe}var mm=AFe,DFe=Zve,Jz=Xa,IFe=mm,eV=0/0,PFe=/^[-+]0x[0-9a-f]+$/i,OFe=/^0b[01]+$/i,RFe=/^0o[0-7]+$/i,$Fe=parseInt;function MFe(e){if(typeof e=="number")return e;if(IFe(e))return eV;if(Jz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Jz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=DFe(e);var n=OFe.test(e);return n||RFe.test(e)?$Fe(e.slice(2),n?2:8):PFe.test(e)?eV:+e}var Qve=MFe,FFe=Xa,PD=rFe,tV=Qve,LFe="Expected a function",BFe=Math.max,NFe=Math.min;function zFe(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(LFe);t=tV(t)||0,FFe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?BFe(tV(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-c,j=S-u,k=t-E;return f?NFe(k,i-j):k}function y(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function x(){var S=PD();if(y(S))return b(S);a=setTimeout(x,g(S))}function b(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:b(PD())}function _(){var S=PD(),E=y(S);if(r=arguments,o=this,c=S,E){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var Jve=zFe;const dw=Pe(Jve);function OF(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var e0e={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RF=Symbol.for("react.element"),$F=Symbol.for("react.portal"),q5=Symbol.for("react.fragment"),G5=Symbol.for("react.strict_mode"),K5=Symbol.for("react.profiler"),Z5=Symbol.for("react.provider"),X5=Symbol.for("react.context"),VFe=Symbol.for("react.server_context"),Q5=Symbol.for("react.forward_ref"),J5=Symbol.for("react.suspense"),ej=Symbol.for("react.suspense_list"),tj=Symbol.for("react.memo"),nj=Symbol.for("react.lazy"),HFe=Symbol.for("react.offscreen"),t0e;t0e=Symbol.for("react.module.reference");function Ja(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case RF:switch(e=e.type,e){case q5:case K5:case G5:case J5:case ej:return e;default:switch(e=e&&e.$$typeof,e){case VFe:case X5:case Q5:case nj:case tj:case Z5:return e;default:return t}}case $F:return t}}}kn.ContextConsumer=X5;kn.ContextProvider=Z5;kn.Element=RF;kn.ForwardRef=Q5;kn.Fragment=q5;kn.Lazy=nj;kn.Memo=tj;kn.Portal=$F;kn.Profiler=K5;kn.StrictMode=G5;kn.Suspense=J5;kn.SuspenseList=ej;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return Ja(e)===X5};kn.isContextProvider=function(e){return Ja(e)===Z5};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===RF};kn.isForwardRef=function(e){return Ja(e)===Q5};kn.isFragment=function(e){return Ja(e)===q5};kn.isLazy=function(e){return Ja(e)===nj};kn.isMemo=function(e){return Ja(e)===tj};kn.isPortal=function(e){return Ja(e)===$F};kn.isProfiler=function(e){return Ja(e)===K5};kn.isStrictMode=function(e){return Ja(e)===G5};kn.isSuspense=function(e){return Ja(e)===J5};kn.isSuspenseList=function(e){return Ja(e)===ej};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===q5||e===K5||e===G5||e===J5||e===ej||e===HFe||typeof e=="object"&&e!==null&&(e.$$typeof===nj||e.$$typeof===tj||e.$$typeof===Z5||e.$$typeof===X5||e.$$typeof===Q5||e.$$typeof===t0e||e.getModuleId!==void 0)};kn.typeOf=Ja;e0e.exports=kn;var Sr=e0e.exports;const UFe=Pe(Sr);var O3=function(e,t){return O3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},O3(e,t)};function ua(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O3(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ko=function(){return ko=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ko.apply(this,arguments)};function WFe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function n0e(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Lp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ha(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function ai(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function nv(e){return this instanceof nv?(this.v=e,this):new nv(e)}function YFe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof nv?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function qFe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Lp=="function"?Lp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var nr="-ms-",Gy="-moz-",bn="-webkit-",r0e="comm",rj="rule",MF="decl",GFe="@import",o0e="@keyframes",KFe="@layer",ZFe=Math.abs,FF=String.fromCharCode,R3=Object.assign;function XFe(e,t){return Lo(e,0)^45?(((t<<2^Lo(e,0))<<2^Lo(e,1))<<2^Lo(e,2))<<2^Lo(e,3):0}function i0e(e){return e.trim()}function uu(e,t){return(e=t.exec(e))?e[0]:e}function jt(e,t,n){return e.replace(t,n)}function O2(e,t){return e.indexOf(t)}function Lo(e,t){return e.charCodeAt(t)|0}function $v(e,t,n){return e.slice(t,n)}function fc(e){return e.length}function s0e(e){return e.length}function xy(e,t){return t.push(e),e}function QFe(e,t){return e.map(t).join("")}function nV(e,t){return e.filter(function(n){return!uu(n,t)})}var oj=1,Mv=1,a0e=0,Ua=0,co=0,C0="";function ij(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:oj,column:Mv,length:s,return:"",siblings:a}}function Dd(e,t){return R3(ij("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Zm(e){for(;e.root;)e=Dd(e.root,{children:[e]});xy(e,e.siblings)}function JFe(){return co}function eLe(){return co=Ua>0?Lo(C0,--Ua):0,Mv--,co===10&&(Mv=1,oj--),co}function kl(){return co=Ua<a0e?Lo(C0,Ua++):0,Mv++,co===10&&(Mv=1,oj++),co}function wp(){return Lo(C0,Ua)}function R2(){return Ua}function sj(e,t){return $v(C0,e,t)}function $3(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tLe(e){return oj=Mv=1,a0e=fc(C0=e),Ua=0,[]}function nLe(e){return C0="",e}function OD(e){return i0e(sj(Ua-1,M3(e===91?e+2:e===40?e+1:e)))}function rLe(e){for(;(co=wp())&&co<33;)kl();return $3(e)>2||$3(co)>3?"":" "}function oLe(e,t){for(;--t&&kl()&&!(co<48||co>102||co>57&&co<65||co>70&&co<97););return sj(e,R2()+(t<6&&wp()==32&&kl()==32))}function M3(e){for(;kl();)switch(co){case e:return Ua;case 34:case 39:e!==34&&e!==39&&M3(co);break;case 40:e===41&&M3(e);break;case 92:kl();break}return Ua}function iLe(e,t){for(;kl()&&e+co!==47+10;)if(e+co===42+42&&wp()===47)break;return"/*"+sj(t,Ua-1)+"*"+FF(e===47?e:kl())}function sLe(e){for(;!$3(wp());)kl();return sj(e,Ua)}function aLe(e){return nLe($2("",null,null,null,[""],e=tLe(e),0,[0],e))}function $2(e,t,n,r,o,i,s,a,c){for(var u=0,d=0,f=s,p=0,m=0,v=0,g=1,y=1,x=1,b=0,w="",C=o,_=i,S=r,E=w;y;)switch(v=b,b=kl()){case 40:if(v!=108&&Lo(E,f-1)==58){O2(E+=jt(OD(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=OD(b);break;case 9:case 10:case 13:case 32:E+=rLe(v);break;case 92:E+=oLe(R2()-1,7);continue;case 47:switch(wp()){case 42:case 47:xy(lLe(iLe(kl(),R2()),t,n,c),c);break;default:E+="/"}break;case 123*g:a[u++]=fc(E)*x;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(E=jt(E,/\f/g,"")),m>0&&fc(E)-f&&xy(m>32?oV(E+";",r,n,f-1,c):oV(jt(E," ","")+";",r,n,f-2,c),c);break;case 59:E+=";";default:if(xy(S=rV(E,t,n,u,d,o,a,w,C=[],_=[],f,i),i),b===123)if(d===0)$2(E,t,S,S,C,i,f,a,_);else switch(p===99&&Lo(E,3)===110?100:p){case 100:case 108:case 109:case 115:$2(e,S,S,r&&xy(rV(e,S,S,0,0,o,a,w,o,C=[],f,_),_),o,_,f,a,r?C:_);break;default:$2(E,S,S,S,[""],_,0,a,_)}}u=d=m=0,g=x=1,w=E="",f=s;break;case 58:f=1+fc(E),m=v;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&eLe()==125)continue}switch(E+=FF(b),b*g){case 38:x=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(fc(E)-1)*x,x=1;break;case 64:wp()===45&&(E+=OD(kl())),p=wp(),d=f=fc(w=E+=sLe(R2())),b++;break;case 45:v===45&&fc(E)==2&&(g=0)}}return i}function rV(e,t,n,r,o,i,s,a,c,u,d,f){for(var p=o-1,m=o===0?i:[""],v=s0e(m),g=0,y=0,x=0;g<r;++g)for(var b=0,w=$v(e,p+1,p=ZFe(y=s[g])),C=e;b<v;++b)(C=i0e(y>0?m[b]+" "+w:jt(w,/&\f/g,m[b])))&&(c[x++]=C);return ij(e,t,n,o===0?rj:a,c,u,d,f)}function lLe(e,t,n,r){return ij(e,t,n,r0e,FF(JFe()),$v(e,2,-2),0,r)}function oV(e,t,n,r,o){return ij(e,t,n,MF,$v(e,0,r),$v(e,r+1,-1),r,o)}function l0e(e,t,n){switch(XFe(e,t)){case 5103:return bn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bn+e+e;case 4789:return Gy+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bn+e+Gy+e+nr+e+e;case 5936:switch(Lo(e,t+11)){case 114:return bn+e+nr+jt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bn+e+nr+jt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bn+e+nr+jt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return bn+e+nr+e+e;case 6165:return bn+e+nr+"flex-"+e+e;case 5187:return bn+e+jt(e,/(\w+).+(:[^]+)/,bn+"box-$1$2"+nr+"flex-$1$2")+e;case 5443:return bn+e+nr+"flex-item-"+jt(e,/flex-|-self/g,"")+(uu(e,/flex-|baseline/)?"":nr+"grid-row-"+jt(e,/flex-|-self/g,""))+e;case 4675:return bn+e+nr+"flex-line-pack"+jt(e,/align-content|flex-|-self/g,"")+e;case 5548:return bn+e+nr+jt(e,"shrink","negative")+e;case 5292:return bn+e+nr+jt(e,"basis","preferred-size")+e;case 6060:return bn+"box-"+jt(e,"-grow","")+bn+e+nr+jt(e,"grow","positive")+e;case 4554:return bn+jt(e,/([^-])(transform)/g,"$1"+bn+"$2")+e;case 6187:return jt(jt(jt(e,/(zoom-|grab)/,bn+"$1"),/(image-set)/,bn+"$1"),e,"")+e;case 5495:case 3959:return jt(e,/(image-set\([^]*)/,bn+"$1$`$1");case 4968:return jt(jt(e,/(.+:)(flex-)?(.*)/,bn+"box-pack:$3"+nr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bn+e+e;case 4200:if(!uu(e,/flex-|baseline/))return nr+"grid-column-align"+$v(e,t)+e;break;case 2592:case 3360:return nr+jt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,uu(r.props,/grid-\w+-end/)})?~O2(e+(n=n[t].value),"span")?e:nr+jt(e,"-start","")+e+nr+"grid-row-span:"+(~O2(n,"span")?uu(n,/\d+/):+uu(n,/\d+/)-+uu(e,/\d+/))+";":nr+jt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return uu(r.props,/grid-\w+-start/)})?e:nr+jt(jt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return jt(e,/(.+)-inline(.+)/,bn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fc(e)-1-t>6)switch(Lo(e,t+1)){case 109:if(Lo(e,t+4)!==45)break;case 102:return jt(e,/(.+:)(.+)-([^]+)/,"$1"+bn+"$2-$3$1"+Gy+(Lo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~O2(e,"stretch")?l0e(jt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return jt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,c,u){return nr+o+":"+i+u+(s?nr+o+"-span:"+(a?c:+c-+i)+u:"")+e});case 4949:if(Lo(e,t+6)===121)return jt(e,":",":"+bn)+e;break;case 6444:switch(Lo(e,Lo(e,14)===45?18:11)){case 120:return jt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bn+(Lo(e,14)===45?"inline-":"")+"box$3$1"+bn+"$2$3$1"+nr+"$2box$3")+e;case 100:return jt(e,":",":"+nr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return jt(e,"scroll-","scroll-snap-")+e}return e}function eE(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function cLe(e,t,n,r){switch(e.type){case KFe:if(e.children.length)break;case GFe:case MF:return e.return=e.return||e.value;case r0e:return"";case o0e:return e.return=e.value+"{"+eE(e.children,r)+"}";case rj:if(!fc(e.value=e.props.join(",")))return""}return fc(n=eE(e.children,r))?e.return=e.value+"{"+n+"}":""}function uLe(e){var t=s0e(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function dLe(e){return function(t){t.root||(t=t.return)&&e(t)}}function fLe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case MF:e.return=l0e(e.value,e.length,n);return;case o0e:return eE([Dd(e,{value:jt(e.value,"@","@"+bn)})],r);case rj:if(e.length)return QFe(n=e.props,function(o){switch(uu(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Zm(Dd(e,{props:[jt(o,/:(read-\w+)/,":"+Gy+"$1")]})),Zm(Dd(e,{props:[o]})),R3(e,{props:nV(n,r)});break;case"::placeholder":Zm(Dd(e,{props:[jt(o,/:(plac\w+)/,":"+bn+"input-$1")]})),Zm(Dd(e,{props:[jt(o,/:(plac\w+)/,":"+Gy+"$1")]})),Zm(Dd(e,{props:[jt(o,/:(plac\w+)/,nr+"input-$1")]})),Zm(Dd(e,{props:[o]})),R3(e,{props:nV(n,r)});break}return""})}}var hLe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fv=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",LF=typeof window<"u"&&"HTMLElement"in window,pLe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),mLe={},aj=Object.freeze([]),Lv=Object.freeze({});function c0e(e,t,n){return n===void 0&&(n=Lv),e.theme!==n.theme&&e.theme||t||n.theme}var u0e=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),gLe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,vLe=/(^-|-$)/g;function iV(e){return e.replace(gLe,"-").replace(vLe,"")}var yLe=/(a)(d)/gi,sV=function(e){return String.fromCharCode(e+(e>25?39:97))};function F3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=sV(t%52)+n;return(sV(t%52)+n).replace(yLe,"$1-$2")}var RD,Ag=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},d0e=function(e){return Ag(5381,e)};function BF(e){return F3(d0e(e)>>>0)}function bLe(e){return e.displayName||e.name||"Component"}function $D(e){return typeof e=="string"&&!0}var f0e=typeof Symbol=="function"&&Symbol.for,h0e=f0e?Symbol.for("react.memo"):60115,xLe=f0e?Symbol.for("react.forward_ref"):60112,wLe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CLe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},p0e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_Le=((RD={})[xLe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RD[h0e]=p0e,RD);function aV(e){return("type"in(t=e)&&t.type.$$typeof)===h0e?p0e:"$$typeof"in e?_Le[e.$$typeof]:wLe;var t}var SLe=Object.defineProperty,ELe=Object.getOwnPropertyNames,lV=Object.getOwnPropertySymbols,kLe=Object.getOwnPropertyDescriptor,jLe=Object.getPrototypeOf,cV=Object.prototype;function m0e(e,t,n){if(typeof t!="string"){if(cV){var r=jLe(t);r&&r!==cV&&m0e(e,r,n)}var o=ELe(t);lV&&(o=o.concat(lV(t)));for(var i=aV(e),s=aV(t),a=0;a<o.length;++a){var c=o[a];if(!(c in CLe||n&&n[c]||s&&c in s||i&&c in i)){var u=kLe(t,c);try{SLe(e,c,u)}catch{}}}}return e}function Bp(e){return typeof e=="function"}function NF(e){return typeof e=="object"&&"styledComponentId"in e}function op(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function tE(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Lb(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function L3(e,t,n){if(n===void 0&&(n=!1),!n&&!Lb(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=L3(e[r],t[r]);else if(Lb(t))for(var r in t)e[r]=L3(e[r],t[r]);return e}function zF(e,t){Object.defineProperty(e,"toString",{value:t})}function Pf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var TLe=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Pf(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),c=(s=0,n.length);s<c;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),M2=new Map,nE=new Map,F2=1,BC=function(e){if(M2.has(e))return M2.get(e);for(;nE.has(F2);)F2++;var t=F2++;return M2.set(e,t),nE.set(t,e),t},ALe=function(e,t){F2=t+1,M2.set(e,t),nE.set(t,e)},DLe="style[".concat(Fv,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),ILe=new RegExp("^".concat(Fv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),PLe=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},OLe=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var c=a.match(ILe);if(c){var u=0|parseInt(c[1],10),d=c[2];u!==0&&(ALe(d,u),PLe(e,d,c[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function RLe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var g0e=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Fv,"]")));return c[c.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Fv,"active"),r.setAttribute("data-styled-version","6.1.1");var s=RLe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},$Le=function(){function e(t){this.element=g0e(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw Pf(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),MLe=function(){function e(t){this.element=g0e(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),FLe=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),uV=LF,LLe={isServer:!LF,useCSSOMInjection:!pLe},rE=function(){function e(t,n,r){t===void 0&&(t=Lv),n===void 0&&(n={});var o=this;this.options=ko(ko({},LLe),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&LF&&uV&&(uV=!1,function(i){for(var s=document.querySelectorAll(DLe),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(Fv)!=="active"&&(OLe(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),zF(this,function(){return function(i){for(var s=i.getTag(),a=s.length,c="",u=function(f){var p=function(x){return nE.get(x)}(f);if(p===void 0)return"continue";var m=i.names.get(p),v=s.getGroup(f);if(m===void 0||v.length===0)return"continue";var g="".concat(Fv,".g").concat(f,'[id="').concat(p,'"]'),y="";m!==void 0&&m.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),c+="".concat(v).concat(g,'{content:"').concat(y,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return c}(o)})}return e.registerId=function(t){return BC(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(ko(ko({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new FLe(o):r?new $Le(o):new MLe(o)}(this.options),new TLe(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(BC(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(BC(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(BC(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),BLe=/&/g,NLe=/^\s*\/\/.*$/gm;function v0e(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=v0e(n.children,t)),n})}function zLe(e){var t,n,r,o=e===void 0?Lv:e,i=o.options,s=i===void 0?Lv:i,a=o.plugins,c=a===void 0?aj:a,u=function(p,m,v){return v===n||v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},d=c.slice();d.push(function(p){p.type===rj&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(BLe,n).replace(r,u))}),s.prefix&&d.push(fLe),d.push(cLe);var f=function(p,m,v,g){m===void 0&&(m=""),v===void 0&&(v=""),g===void 0&&(g="&"),t=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var y=p.replace(NLe,""),x=aLe(v||m?"".concat(v," ").concat(m," { ").concat(y," }"):y);s.namespace&&(x=v0e(x,s.namespace));var b=[];return eE(x,uLe(d.concat(dLe(function(w){return b.push(w)})))),b};return f.hash=c.length?c.reduce(function(p,m){return m.name||Pf(15),Ag(p,m.name)},5381).toString():"",f}var VLe=new rE,B3=zLe(),y0e=ne.createContext({shouldForwardProp:void 0,styleSheet:VLe,stylis:B3});y0e.Consumer;ne.createContext(void 0);function N3(){return h.useContext(y0e)}var b0e=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=B3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,zF(this,function(){throw Pf(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=B3),this.name+t.hash},e}(),HLe=function(e){return e>="A"&&e<="Z"};function dV(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;HLe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var x0e=function(e){return e==null||e===!1||e===""},w0e=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!x0e(i)&&(Array.isArray(i)&&i.isCss||Bp(i)?r.push("".concat(dV(o),":"),i,";"):Lb(i)?r.push.apply(r,ai(ai(["".concat(o," {")],w0e(i),!1),["}"],!1)):r.push("".concat(dV(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in hLe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function hf(e,t,n,r){if(x0e(e))return[];if(NF(e))return[".".concat(e.styledComponentId)];if(Bp(e)){if(!Bp(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return hf(o,t,n,r)}var i;return e instanceof b0e?n?(e.inject(n,r),[e.getName(r)]):[e]:Lb(e)?w0e(e):Array.isArray(e)?Array.prototype.concat.apply(aj,e.map(function(s){return hf(s,t,n,r)})):[e.toString()]}function C0e(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Bp(n)&&!NF(n))return!1}return!0}var ULe=d0e("6.1.1"),WLe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&C0e(t),this.componentId=n,this.baseHash=Ag(ULe,n),this.baseStyle=r,rE.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=op(o,this.staticRulesId);else{var i=tE(hf(this.rules,t,n,r)),s=F3(Ag(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=op(o,s),this.staticRulesId=s}else{for(var c=Ag(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=tE(hf(f,t,n,r));c=Ag(c,p+d),u+=p}}if(u){var m=F3(c>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=op(o,m)}}return o},e}(),Bv=ne.createContext(void 0);Bv.Consumer;function _0e(){var e=h.useContext(Bv);if(!e)throw Pf(18);return e}function YLe(e){var t=ne.useContext(Bv),n=h.useMemo(function(){return function(r,o){if(!r)throw Pf(14);if(Bp(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw Pf(8);return o?ko(ko({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?ne.createElement(Bv.Provider,{value:n},e.children):null}var MD={};function qLe(e,t,n){var r=NF(e),o=e,i=!$D(e),s=t.attrs,a=s===void 0?aj:s,c=t.componentId,u=c===void 0?function(C,_){var S=typeof C!="string"?"sc":iV(C);MD[S]=(MD[S]||0)+1;var E="".concat(S,"-").concat(BF("6.1.1"+S+MD[S]));return _?"".concat(_,"-").concat(E):E}(t.displayName,t.parentComponentId):c,d=t.displayName,f=d===void 0?function(C){return $D(C)?"styled.".concat(C):"Styled(".concat(bLe(C),")")}(e):d,p=t.displayName&&t.componentId?"".concat(iV(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;v=function(C,_){return g(C,_)&&y(C,_)}}else v=g}var x=new WLe(n,p,r?o.componentStyle:void 0);function b(C,_){return function(S,E,j){var k=S.attrs,T=S.componentStyle,A=S.defaultProps,D=S.foldedComponentIds,I=S.styledComponentId,P=S.target,$=ne.useContext(Bv),R=N3(),z=S.shouldForwardProp||R.shouldForwardProp,B=function(N,Y,q){for(var Z,se=ko(ko({},Y),{className:void 0,theme:q}),re=0;re<N.length;re+=1){var K=Bp(Z=N[re])?Z(se):Z;for(var Q in K)se[Q]=Q==="className"?op(se[Q],K[Q]):Q==="style"?ko(ko({},se[Q]),K[Q]):K[Q]}return Y.className&&(se.className=op(se.className,Y.className)),se}(k,E,c0e(E,$,A)||Lv),H=B.as||P,W={};for(var V in B)B[V]===void 0||V[0]==="$"||V==="as"||V==="theme"||(V==="forwardedAs"?W.as=B.forwardedAs:z&&!z(V,H)||(W[V]=B[V]));var G=function(N,Y){var q=N3(),Z=N.generateAndInjectStyles(Y,q.styleSheet,q.stylis);return Z}(T,B),te=op(D,I);return G&&(te+=" "+G),B.className&&(te+=" "+B.className),W[$D(H)&&!u0e.has(H)?"class":"className"]=te,W.ref=j,h.createElement(H,W)}(w,C,_)}b.displayName=f;var w=ne.forwardRef(b);return w.attrs=m,w.componentStyle=x,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=r?op(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(_){for(var S=[],E=1;E<arguments.length;E++)S[E-1]=arguments[E];for(var j=0,k=S;j<k.length;j++)L3(_,k[j],!0);return _}({},o.defaultProps,C):C}}),zF(w,function(){return".".concat(w.styledComponentId)}),i&&m0e(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function fV(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var hV=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bp(e)||Lb(e)){var r=e;return hV(hf(fV(aj,ai([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?hf(o):hV(hf(fV(o,t)))}function z3(e,t,n){if(n===void 0&&(n=Lv),!t)throw Pf(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,de.apply(void 0,ai([o],i,!1)))};return r.attrs=function(o){return z3(e,t,ko(ko({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return z3(e,t,ko(ko({},n),o))},r}var S0e=function(e){return z3(qLe,e)},O=S0e;u0e.forEach(function(e){O[e]=S0e(e)});var GLe=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=C0e(t),rE.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(tE(hf(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&rE.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function E0e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,ai([e],t,!1)),o="sc-global-".concat(BF(JSON.stringify(r))),i=new GLe(r,o),s=function(c){var u=N3(),d=ne.useContext(Bv),f=ne.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,c,u.styleSheet,d,u.stylis),ne.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,c,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,c,u.styleSheet,d,u.stylis]),null};function a(c,u,d,f,p){if(i.isStatic)i.renderStyles(c,mLe,d,p);else{var m=ko(ko({},u),{theme:c0e(u,f,s.defaultProps)});i.renderStyles(c,m,d,p)}}return ne.memo(s)}function gm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=tE(de.apply(void 0,ai([e],t,!1))),o=BF(r);return new b0e(o,r)}const KLe="#101112",ZLe="#fff",L2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},wy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},XLe={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},QLe={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},V3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},JLe={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},H3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},U3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},e6e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},fe={gray:L2,blue:wy,purple:XLe,magenta:QLe,red:V3,orange:JLe,yellow:H3,green:U3,cyan:e6e},k0e=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],dc={title:"Black",hex:KLe},Ea={title:"White",hex:ZLe},Of=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W3=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Do=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),r6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),j0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fw=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),o6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),s6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),A0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),D0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),d6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),lj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),Dg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ra=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),el=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Lc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ii=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$u=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),j6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),I6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),F6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),HF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),N6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Po=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),H6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),U6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),W6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Y6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),da=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),K6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),H0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),Q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nv=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),vm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),Y0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),q0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),s8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$f=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),f8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),G0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),p8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),g8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),x8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),S8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),GF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),j8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ii=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),pw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),mg=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),XF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),Y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),vo=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),Ky=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),o1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),oE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),t9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Lr=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),o9e={"access-denied":Of,activity:t6e,"add-circle":W3,add:Do,api:n6e,archive:r6e,"arrow-down":j0e,"arrow-left":fw,"arrow-right":T0e,"arrow-top-right":o6e,"arrow-up":i6e,"bar-chart":s6e,basket:a6e,bell:l6e,bill:c6e,"binary-document":_0,"block-content":A0e,"block-element":D0e,blockquote:u6e,bold:I0e,bolt:d6e,book:f6e,bottle:h6e,"bulb-filled":p6e,"bulb-outline":lj,calendar:Dg,case:m6e,"chart-upward":g6e,"checkmark-circle":cj,checkmark:ra,"chevron-down":el,"chevron-left":uj,"chevron-right":Lc,"chevron-up":P0e,circle:v6e,clipboard:y6e,"clipboard-image":b6e,clock:O0e,"close-circle":x6e,close:Ii,"code-block":w6e,code:R0e,cog:dj,collapse:$0e,"color-wheel":C6e,comment:M0e,component:_6e,compose:S6e,controls:fj,copy:$u,"credit-card":E6e,crop:F0e,cube:k6e,dashboard:j6e,database:T6e,desktop:L0e,document:Rf,"document-pdf":A6e,"document-remove":D6e,"document-sheet":I6e,"document-text":P6e,"document-video":O6e,"document-word":R6e,"document-zip":$6e,documents:VF,dot:M6e,"double-chevron-down":F6e,"double-chevron-left":L6e,"double-chevron-right":HF,"double-chevron-up":B6e,download:UF,"drag-handle":B0e,drop:N6e,"earth-americas":N0e,"earth-globe":z6e,edit:Mu,"ellipsis-horizontal":V6e,"ellipsis-vertical":Po,enter:H6e,"enter-right":U6e,envelope:W6e,equal:Y6e,"error-filled":q6e,"error-outline":da,expand:z0e,"eye-closed":G6e,"eye-open":V0e,filter:K6e,folder:H0e,generate:Z6e,groq:X6e,"heart-filled":Q6e,heart:J6e,"help-circle":Nv,home:e8e,"ice-cream":t8e,image:Pl,"image-remove":n8e,images:r8e,"info-filled":o8e,"info-outline":vm,"inline-element":U0e,inline:i8e,"insert-above":W0e,"insert-below":Y0e,italic:q0e,joystick:s8e,json:a8e,launch:Qf,leave:WF,lemon:l8e,link:$f,"link-removed":c8e,lock:u8e,"logo-js":d8e,"logo-ts":f8e,"master-detail":G0e,menu:YF,"mobile-device":h8e,moon:qF,number:K0e,"ok-hand":p8e,olist:Z0e,overage:m8e,package:g8e,"panel-left":v8e,"panel-right":y8e,pause:b8e,pin:x8e,"pin-removed":w8e,play:X0e,plug:Q0e,presentation:C8e,publish:S0,"read-only":hw,redo:_8e,refresh:S8e,"remove-circle":E8e,remove:J0e,reset:Fu,restore:GF,retrieve:k8e,retry:j8e,revert:KF,robot:T8e,rocket:A8e,schema:D8e,search:ii,select:Hl,share:I8e,sort:ZF,sparkle:P8e,sparkles:O8e,spinner:pw,"split-horizontal":R8e,"split-vertical":e1e,square:$8e,"stack-compact":t1e,stack:n1e,star:M8e,stop:F8e,strikethrough:r1e,string:mg,sun:XF,sync:E0,"tablet-device":L8e,tag:B8e,tags:N8e,terminal:z8e,text:V8e,"th-large":H8e,"th-list":U8e,tiers:W8e,"toggle-arrow-right":hj,token:Y8e,transfer:q8e,translate:G8e,trash:vo,"trend-upward":K8e,"triangle-outline":Z8e,trolley:X8e,truncate:Q8e,twitter:J8e,ulist:Ky,underline:o1e,undo:oE,unknown:jl,unlock:e9e,unpublish:iE,upload:pj,user:t9e,users:mj,"warning-filled":n9e,"warning-outline":Lr,wrench:r9e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=o9e[r];return i?h.createElement(i,{...o,ref:n}):null});var i1e={exports:{}},i9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s9e=i9e,a9e=s9e;function s1e(){}function a1e(){}a1e.resetWarningCache=s1e;var l9e=function(){function e(r,o,i,s,a,c){if(c!==a9e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a1e,resetWarningCache:s1e};return n.PropTypes=n,n};i1e.exports=l9e();var c9e=i1e.exports,u9e=f9e,d9e=Object.prototype.hasOwnProperty;function f9e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)d9e.call(n,r)&&(e[r]=n[r])}return e}var l1e=c1e,QF=c1e.prototype;QF.space=null;QF.normal={};QF.property={};function c1e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var pV=u9e,h9e=l1e,p9e=m9e;function m9e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new h9e(pV.apply(null,n),pV.apply(null,r),s)}var JF=g9e;function g9e(e){return e.toLowerCase()}var u1e=d1e,tl=d1e.prototype;tl.space=null;tl.attribute=null;tl.property=null;tl.boolean=!1;tl.booleanish=!1;tl.overloadedBoolean=!1;tl.number=!1;tl.commaSeparated=!1;tl.spaceSeparated=!1;tl.commaOrSpaceSeparated=!1;tl.mustUseProperty=!1;tl.defined=!1;function d1e(e,t){this.property=e,this.attribute=t}var Bc={},v9e=0;Bc.boolean=ym();Bc.booleanish=ym();Bc.overloadedBoolean=ym();Bc.number=ym();Bc.spaceSeparated=ym();Bc.commaSeparated=ym();Bc.commaOrSpaceSeparated=ym();function ym(){return Math.pow(2,++v9e)}var f1e=u1e,mV=Bc,h1e=eL;eL.prototype=new f1e;eL.prototype.defined=!0;var p1e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],y9e=p1e.length;function eL(e,t,n,r){var o=-1,i;for(gV(this,"space",r),f1e.call(this,e,t);++o<y9e;)i=p1e[o],gV(this,i,(n&mV[i])===mV[i])}function gV(e,t,n){n&&(e[t]=n)}var vV=JF,b9e=l1e,x9e=h1e,mw=w9e;function w9e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new x9e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[vV(c)]=c,a[vV(u.attribute)]=c;return new b9e(s,a,t)}var C9e=mw,_9e=C9e({space:"xlink",transform:S9e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function S9e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var E9e=mw,k9e=E9e({space:"xml",transform:j9e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function j9e(e,t){return"xml:"+t.slice(3).toLowerCase()}var T9e=A9e;function A9e(e,t){return t in e?e[t]:t}var D9e=T9e,m1e=I9e;function I9e(e,t){return D9e(e,t.toLowerCase())}var P9e=mw,O9e=m1e,R9e=P9e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:O9e,properties:{xmlns:null,xmlnsXLink:null}}),tL=Bc,$9e=mw,us=tL.booleanish,ya=tL.number,Ch=tL.spaceSeparated,M9e=$9e({transform:F9e,properties:{ariaActiveDescendant:null,ariaAtomic:us,ariaAutoComplete:null,ariaBusy:us,ariaChecked:us,ariaColCount:ya,ariaColIndex:ya,ariaColSpan:ya,ariaControls:Ch,ariaCurrent:null,ariaDescribedBy:Ch,ariaDetails:null,ariaDisabled:us,ariaDropEffect:Ch,ariaErrorMessage:null,ariaExpanded:us,ariaFlowTo:Ch,ariaGrabbed:us,ariaHasPopup:null,ariaHidden:us,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ch,ariaLevel:ya,ariaLive:null,ariaModal:us,ariaMultiLine:us,ariaMultiSelectable:us,ariaOrientation:null,ariaOwns:Ch,ariaPlaceholder:null,ariaPosInSet:ya,ariaPressed:us,ariaReadOnly:us,ariaRelevant:null,ariaRequired:us,ariaRoleDescription:Ch,ariaRowCount:ya,ariaRowIndex:ya,ariaRowSpan:ya,ariaSelected:us,ariaSetSize:ya,ariaSort:null,ariaValueMax:ya,ariaValueMin:ya,ariaValueNow:ya,ariaValueText:null,role:null}});function F9e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var k0=Bc,L9e=mw,B9e=m1e,$t=k0.boolean,N9e=k0.overloadedBoolean,D1=k0.booleanish,tr=k0.number,Vi=k0.spaceSeparated,NC=k0.commaSeparated,z9e=L9e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:B9e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:NC,acceptCharset:Vi,accessKey:Vi,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:Vi,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:Vi,cols:tr,colSpan:null,content:null,contentEditable:D1,controls:$t,controlsList:Vi,coords:tr|NC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:N9e,draggable:D1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:Vi,height:tr,hidden:$t,high:tr,href:null,hrefLang:null,htmlFor:Vi,httpEquiv:Vi,id:null,imageSizes:null,imageSrcSet:NC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:Vi,itemRef:Vi,itemScope:$t,itemType:Vi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:tr,manifest:null,max:null,maxLength:tr,media:null,method:null,min:null,minLength:tr,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:tr,pattern:null,ping:Vi,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:Vi,required:$t,reversed:$t,rows:tr,rowSpan:tr,sandbox:Vi,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:tr,sizes:null,slot:null,span:tr,spellCheck:D1,src:null,srcDoc:null,srcLang:null,srcSet:NC,start:tr,step:null,style:null,tabIndex:tr,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:D1,width:tr,wrap:null,align:null,aLink:null,archive:Vi,axis:null,background:null,bgColor:null,border:tr,borderColor:null,bottomMargin:tr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:tr,leftMargin:tr,link:null,longDesc:null,lowSrc:null,marginHeight:tr,marginWidth:tr,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:tr,rules:null,scheme:null,scrolling:D1,standby:null,summary:null,text:null,topMargin:tr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:tr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:tr,security:null,unselectable:null}}),V9e=p9e,H9e=_9e,U9e=k9e,W9e=R9e,Y9e=M9e,q9e=z9e,G9e=V9e([U9e,H9e,W9e,Y9e,q9e]),K9e=JF,Z9e=h1e,X9e=u1e,nL="data",Q9e=t7e,J9e=/^data[-\w.:]+$/i,g1e=/-[a-z]/g,e7e=/[A-Z]/g;function t7e(e,t){var n=K9e(t),r=t,o=X9e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===nL&&J9e.test(t)&&(t.charAt(4)==="-"?r=n7e(t):t=r7e(t),o=Z9e),new o(r,t))}function n7e(e){var t=e.slice(5).replace(g1e,i7e);return nL+t.charAt(0).toUpperCase()+t.slice(1)}function r7e(e){var t=e.slice(4);return g1e.test(t)?e:(t=t.replace(e7e,o7e),t.charAt(0)!=="-"&&(t="-"+t),nL+t)}function o7e(e){return"-"+e.toLowerCase()}function i7e(e){return e.charAt(1).toUpperCase()}var s7e=a7e,yV=/[#.]/g;function a7e(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)yV.lastIndex=i,c=yV.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var rL={};rL.parse=u7e;rL.stringify=d7e;var bV="",l7e=" ",c7e=/[ \t\n\r\f]+/g;function u7e(e){var t=String(e||bV).trim();return t===bV?[]:t.split(c7e)}function d7e(e){return e.join(l7e).trim()}var oL={};oL.parse=f7e;oL.stringify=h7e;var Y3=",",xV=" ",Cy="";function f7e(e){for(var t=[],n=String(e||Cy),r=n.indexOf(Y3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(Y3,o);return t}function h7e(e,t){var n=t||{},r=n.padLeft===!1?Cy:xV,o=n.padRight?xV:Cy;return e[e.length-1]===Cy&&(e=e.concat(Cy)),e.join(o+Y3+r).trim()}var p7e=Q9e,wV=JF,m7e=s7e,CV=rL.parse,_V=oL.parse,g7e=y7e,v7e={}.hasOwnProperty;function y7e(e,t,n){var r=n?_7e(n):null;return o;function o(s,a){var c=m7e(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&v7e.call(r,d)?r[d]:d,a&&b7e(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return v1e(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=p7e(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=CV(f):u.commaSeparated?f=_V(f):u.commaOrSpaceSeparated&&(f=CV(_V(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=C7e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=w7e(u,d,f))}}function b7e(e,t){return typeof e=="string"||"length"in e||x7e(t.tagName,e)}function x7e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function v1e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)v1e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function w7e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return SV(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=SV(e,t,n[r]);return i}function SV(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||wV(n)===wV(t))&&(r=!0),r}function C7e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function _7e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var S7e=G9e,E7e=g7e,y1e=E7e(S7e,"div");y1e.displayName="html";var k7e=y1e,j7e=k7e;const T7e="Æ",A7e="&",D7e="Á",I7e="Â",P7e="À",O7e="Å",R7e="Ã",$7e="Ä",M7e="©",F7e="Ç",L7e="Ð",B7e="É",N7e="Ê",z7e="È",V7e="Ë",H7e=">",U7e="Í",W7e="Î",Y7e="Ì",q7e="Ï",G7e="<",K7e="Ñ",Z7e="Ó",X7e="Ô",Q7e="Ò",J7e="Ø",eBe="Õ",tBe="Ö",nBe='"',rBe="®",oBe="Þ",iBe="Ú",sBe="Û",aBe="Ù",lBe="Ü",cBe="Ý",uBe="á",dBe="â",fBe="´",hBe="æ",pBe="à",mBe="&",gBe="å",vBe="ã",yBe="ä",bBe="¦",xBe="ç",wBe="¸",CBe="¢",_Be="©",SBe="¤",EBe="°",kBe="÷",jBe="é",TBe="ê",ABe="è",DBe="ð",IBe="ë",PBe="½",OBe="¼",RBe="¾",$Be=">",MBe="í",FBe="î",LBe="¡",BBe="ì",NBe="¿",zBe="ï",VBe="«",HBe="<",UBe="¯",WBe="µ",YBe="·",qBe=" ",GBe="¬",KBe="ñ",ZBe="ó",XBe="ô",QBe="ò",JBe="ª",eNe="º",tNe="ø",nNe="õ",rNe="ö",oNe="¶",iNe="±",sNe="£",aNe='"',lNe="»",cNe="®",uNe="§",dNe="­",fNe="¹",hNe="²",pNe="³",mNe="ß",gNe="þ",vNe="×",yNe="ú",bNe="û",xNe="ù",wNe="¨",CNe="ü",_Ne="ý",SNe="¥",ENe="ÿ",kNe={AElig:T7e,AMP:A7e,Aacute:D7e,Acirc:I7e,Agrave:P7e,Aring:O7e,Atilde:R7e,Auml:$7e,COPY:M7e,Ccedil:F7e,ETH:L7e,Eacute:B7e,Ecirc:N7e,Egrave:z7e,Euml:V7e,GT:H7e,Iacute:U7e,Icirc:W7e,Igrave:Y7e,Iuml:q7e,LT:G7e,Ntilde:K7e,Oacute:Z7e,Ocirc:X7e,Ograve:Q7e,Oslash:J7e,Otilde:eBe,Ouml:tBe,QUOT:nBe,REG:rBe,THORN:oBe,Uacute:iBe,Ucirc:sBe,Ugrave:aBe,Uuml:lBe,Yacute:cBe,aacute:uBe,acirc:dBe,acute:fBe,aelig:hBe,agrave:pBe,amp:mBe,aring:gBe,atilde:vBe,auml:yBe,brvbar:bBe,ccedil:xBe,cedil:wBe,cent:CBe,copy:_Be,curren:SBe,deg:EBe,divide:kBe,eacute:jBe,ecirc:TBe,egrave:ABe,eth:DBe,euml:IBe,frac12:PBe,frac14:OBe,frac34:RBe,gt:$Be,iacute:MBe,icirc:FBe,iexcl:LBe,igrave:BBe,iquest:NBe,iuml:zBe,laquo:VBe,lt:HBe,macr:UBe,micro:WBe,middot:YBe,nbsp:qBe,not:GBe,ntilde:KBe,oacute:ZBe,ocirc:XBe,ograve:QBe,ordf:JBe,ordm:eNe,oslash:tNe,otilde:nNe,ouml:rNe,para:oNe,plusmn:iNe,pound:sNe,quot:aNe,raquo:lNe,reg:cNe,sect:uNe,shy:dNe,sup1:fNe,sup2:hNe,sup3:pNe,szlig:mNe,thorn:gNe,times:vNe,uacute:yNe,ucirc:bNe,ugrave:xNe,uml:wNe,uuml:CNe,yacute:_Ne,yen:SNe,yuml:ENe},jNe={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var b1e=TNe;function TNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var ANe=DNe;function DNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var INe=PNe;function PNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var ONe=INe,RNe=b1e,$Ne=MNe;function MNe(e){return ONe(e)||RNe(e)}var zC,FNe=59,LNe=BNe;function BNe(e){var t="&"+e+";",n;return zC=zC||document.createElement("i"),zC.innerHTML=t,n=zC.textContent,n.charCodeAt(n.length-1)===FNe&&e!=="semi"||n===t?!1:n}var EV=kNe,kV=jNe,NNe=b1e,zNe=ANe,x1e=$Ne,VNe=LNe,HNe=nze,UNe={}.hasOwnProperty,Xm=String.fromCharCode,WNe=Function.prototype,jV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},YNe=9,TV=10,qNe=12,GNe=32,AV=38,KNe=59,ZNe=60,XNe=61,QNe=35,JNe=88,eze=120,tze=65533,gg="named",iL="hexadecimal",sL="decimal",aL={};aL[iL]=16;aL[sL]=10;var gj={};gj[gg]=x1e;gj[sL]=NNe;gj[iL]=zNe;var w1e=1,C1e=2,_1e=3,S1e=4,E1e=5,q3=6,k1e=7,Jf={};Jf[w1e]="Named character references must be terminated by a semicolon";Jf[C1e]="Numeric character references must be terminated by a semicolon";Jf[_1e]="Named character references cannot be empty";Jf[S1e]="Numeric character references cannot be empty";Jf[E1e]="Named character references must be known";Jf[q3]="Numeric character references cannot be disallowed";Jf[k1e]="Numeric character references cannot be outside the permissible Unicode range";function nze(e,t){var n={},r,o;t||(t={});for(o in jV)r=t[o],n[o]=r??jV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),rze(e,n)}function rze(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,y=d.line||1,x="",b=[],w,C,_,S,E,j,k,T,A,D,I,P,$,R,z,B,H,W,V;for(typeof n=="string"&&(n=n.charCodeAt(0)),B=G(),T=s?te:WNe,m--,p++;++m<p;)if(E===TV&&(g=f[v]||1),E=e.charCodeAt(m),E===AV){if(k=e.charCodeAt(m+1),k===YNe||k===TV||k===qNe||k===GNe||k===AV||k===ZNe||k!==k||n&&k===n){x+=Xm(E),g++;continue}for($=m+1,P=$,V=$,k===QNe?(V=++P,k=e.charCodeAt(V),k===JNe||k===eze?(R=iL,V=++P):R=sL):R=gg,w="",I="",S="",z=gj[R],V--;++V<p&&(k=e.charCodeAt(V),!!z(k));)S+=Xm(k),R===gg&&UNe.call(EV,S)&&(w=S,I=EV[S]);_=e.charCodeAt(V)===KNe,_&&(V++,C=R===gg?VNe(S):!1,C&&(w=S,I=C)),W=1+V-$,!_&&!r||(S?R===gg?(_&&!I?T(E1e,1):(w!==S&&(V=P+w.length,W=1+V-P,_=!1),_||(A=w?w1e:_1e,t.attribute?(k=e.charCodeAt(V),k===XNe?(T(A,W),I=null):x1e(k)?I=null:T(A,W)):T(A,W))),j=I):(_||T(C1e,W),j=parseInt(S,aL[R]),oze(j)?(T(k1e,W),j=Xm(tze)):j in kV?(T(q3,W),j=kV[j]):(D="",ize(j)&&T(q3,W),j>65535&&(j-=65536,D+=Xm(j>>>10|55296),j=56320|j&1023),j=D+Xm(j))):R!==gg&&T(S1e,W)),j?(N(),B=G(),m=V-1,g+=V-$+1,b.push(j),H=G(),H.offset++,i&&i.call(c,j,{start:B,end:H},e.slice($-1,V)),B=H):(S=e.slice($-1,V),x+=S,g+=S.length,m=V-1)}else E===10&&(y++,v++,g=0),E===E?(x+=Xm(E),g++):N();return b.join("");function G(){return{line:y,column:g,offset:m+(d.offset||0)}}function te(Y,q){var Z=G();Z.column+=q,Z.offset+=q,s.call(u,Jf[Y],Z,Y)}function N(){x&&(b.push(x),o&&o.call(a,x,{start:B,end:G()}),x="")}}function oze(e){return e>=55296&&e<=57343||e>1114111}function ize(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var j1e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof c?new c(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=b(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=b(j,C)}),_);default:return w}},getLanguage:function(b){for(;b;){var w=o.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(o,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==b)return w[C]}return null}},isActive:function(b,w,C){for(var _="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;b=b.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var C=a.util.clone(a.languages[b]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(b,w,C,_){_=_||a.languages;var S=_[b],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[b];return _[b]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=b&&(this[A]=E)}),E},DFS:function b(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,b(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,b(k,C,j,S))}}},plugins:{},highlightAll:function(b,w){a.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,C){var _={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(b,w,C){var _=a.util.getLanguage(b),S=a.languages[_];a.util.setLanguage(b,_);var E=b.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=b.textContent,k={element:b,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(b,w,C){var _={code:b,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(b,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,b),d(b,S,w,S.head,0),v(S)},hooks:{all:{},add:function(b,w){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(w)},run:function(b,w){var C=a.hooks.all[b];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(b,w,C,_){this.type=b,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function b(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=b(T,C)}),_}var S={type:w.type,content:b(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(b,w,C,_){b.lastIndex=w;var S=b.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(b,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,P=!!A.greedy,$=A.alias;if(P&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var z=A.pattern||A,B=_.next,H=S;B!==w.tail&&!(E&&H>=E.reach);H+=B.value.length,B=B.next){var W=B.value;if(w.length>b.length)return;if(!(W instanceof c)){var V=1,G;if(P){if(G=u(z,H,b,I),!G||G.index>=b.length)break;var q=G.index,te=G.index+G[0].length,N=H;for(N+=B.value.length;q>=N;)B=B.next,N+=B.value.length;if(N-=B.value.length,H=N,B.value instanceof c)continue;for(var Y=B;Y!==w.tail&&(N<te||typeof Y.value=="string");Y=Y.next)V++,N+=Y.value.length;V--,W=b.slice(H,N),G.index-=H}else if(G=u(z,0,W,I),!G)continue;var q=G.index,Z=G[0],se=W.slice(0,q),re=W.slice(q+Z.length),K=H+W.length;E&&K>E.reach&&(E.reach=K);var Q=B.prev;se&&(Q=p(w,Q,se),H+=se.length),m(w,Q,V);var le=new c(j,D?a.tokenize(Z,D):Z,$,Z);if(B=p(w,Q,le),re&&p(w,B,re),V>1){var me={cause:j+","+T,reach:K};d(b,w,C,B.prev,H,me),E&&me.reach>E.reach&&(E.reach=me.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function p(b,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,b.length++,S}function m(b,w,C){for(var _=w.next,S=0;S<C&&_!==b.tail;S++)_=_.next;w.next=_,_.prev=w,b.length-=S}function v(b){for(var w=[],C=b.head.next;C!==b.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(t);e.exports&&(e.exports=n),typeof Cs<"u"&&(Cs.Prism=n)})(j1e);var sze=j1e.exports,aze=lL;lL.displayName="markup";lL.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function lL(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var lze=cL;cL.displayName="css";cL.aliases=[];function cL(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var cze=uL;uL.displayName="clike";uL.aliases=[];function uL(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var T1e=dL;dL.displayName="javascript";dL.aliases=["js"];function dL(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const uze=Pe(T1e);var _y=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof Cs=="object"?Cs:{},dze=jze();_y.Prism={manual:!0,disableWorkerMessageHandler:!0};var fze=j7e,hze=HNe,A1e=sze,pze=aze,mze=lze,gze=cze,vze=T1e;dze();var fL={}.hasOwnProperty;function D1e(){}D1e.prototype=A1e;var po=new D1e,yze=po;po.highlight=xze;po.register=gw;po.alias=bze;po.registered=wze;po.listLanguages=Cze;gw(pze);gw(mze);gw(gze);gw(vze);po.util.encode=Eze;po.Token.stringify=_ze;function gw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");po.languages[e.displayName]===void 0&&e(po)}function bze(e,t){var n=po.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function xze(e,t){var n=A1e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(po.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(fL.call(po.languages,t))r=po.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function wze(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return fL.call(po.languages,e)}function Cze(){var e=po.languages,t=[],n;for(n in e)fL.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function _ze(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:po.util.type(e)==="Array"?Sze(e,t):(r={type:e.type,content:po.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),po.hooks.run("wrap",r),fze(r.tag+"."+r.classes.join("."),kze(r.attributes),r.content))}function Sze(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=po.Token.stringify(i,t,n);return n}function Eze(e){return e}function kze(e){var t;for(t in e)e[t]=hze(e[t]);return e}function jze(){var e="Prism"in _y,t=e?_y.Prism:void 0;return n;function n(){e?_y.Prism=t:delete _y.Prism,e=void 0,t=void 0}}var I1e={},Tze=h;function Aze(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return Tze.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(P1e(n+1)))}return e.value}function P1e(e){return function(n,r){return Aze(n,r,e)}}I1e.depth=P1e;var O1e=R1e;function R1e(e){if(e==null)return Oze;if(typeof e=="string")return Pze(e);if(typeof e=="object")return"length"in e?Ize(e):Dze(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function Dze(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Ize(e){for(var t=[],n=-1;++n<e.length;)t[n]=R1e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function Pze(e){return t;function t(n){return!!(n&&n.type===e)}}function Oze(){return!0}var Rze=O1e,$ze=Fze,Mze={}.hasOwnProperty;function Fze(e,t,n){var r=Rze(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)Mze.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var Lze=Bze;function Bze(e){return e}var Nze=vj,zze=O1e,Vze=Lze,$1e=!0,M1e="skip",G3=!1;vj.CONTINUE=$1e;vj.SKIP=M1e;vj.EXIT=G3;function vj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=zze(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+Vze(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,y;if((!t||i(a,c,u[u.length-1]||null))&&(v=Hze(n(a,u)),v[0]===G3))return v;if(a.children&&v[0]!==M1e)for(y=(r?a.children.length:-1)+o;y>-1&&y<a.children.length;){if(g=s(a.children[y],y,m)(),g[0]===G3)return g;y=typeof g[1]=="number"?g[1]:y+o}return v}}}function Hze(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[$1e,e]:[e]}var Uze=typeof WeakMap=="function"?vw:yw;function vw(){this.map=new WeakMap}vw.prototype.has=function(e){return this.map.has(e)};vw.prototype.set=function(e,t){return this.map.set(e,t),this};vw.prototype.get=function(e){return this.map.get(e)};vw.prototype.clear=function(){};function yw(){this.keys=[],this.values=[]}yw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};yw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};yw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};yw.prototype.clear=function(){this.keys=[],this.values=[]};var Wze=$ze,DV=Nze,FD=Uze;function F1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=F1e(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function Yze(e,t){var n={type:"root",children:t},r=new FD,o=new FD,i=new FD,s=[];function a(f,p,m){s.push(p),m.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&s.push(b))});for(var v=m.length;v--;){var g=f.get(m[v]),y=m[v+1],x=f.get(y)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}DV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=Wze(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(DV(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(y){y.lineStart=Math.max(y.lineStart,v.lineStart),y.lineEnd=Math.max(y.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function qze(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function Gze(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return Yze(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(qze(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function Kze(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=F1e(e).nodes;return Gze(r,n,t)}var Zze=Kze,Xze=h,Fs=c9e,hL=yze,Qze=I1e,Jze=Zze,IV=Xze.createElement;function bw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=hL.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=Jze(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(Qze.depth(0)),s=IV("code",n,i);return e.inline?s:IV("pre",r,s)}bw.propTypes={className:Fs.string,inline:Fs.bool,language:Fs.string.isRequired,value:Fs.string.isRequired,markers:Fs.arrayOf(Fs.oneOfType([Fs.number,Fs.shape({line:Fs.number.isRequired,className:Fs.string,component:Fs.oneOfType([Fs.node,Fs.func])})]))};bw.defaultProps={className:"refractor",inline:!1};bw.registerLanguage=function(e){return hL.register(e)};bw.hasLanguage=function(e){return hL.registered(e)};var eVe=bw;const Np=Pe(eVe),tVe=["top","right","bottom","left"],zv=Math.min,Cp=Math.max,sE=Math.round,VC=Math.floor,Mf=e=>({x:e,y:e}),nVe={left:"right",right:"left",bottom:"top",top:"bottom"},rVe={start:"end",end:"start"};function K3(e,t,n){return Cp(e,zv(t,n))}function j0(e,t){return typeof e=="function"?e(t):e}function zp(e){return e.split("-")[0]}function xw(e){return e.split("-")[1]}function L1e(e){return e==="x"?"y":"x"}function pL(e){return e==="y"?"height":"width"}function yj(e){return["top","bottom"].includes(zp(e))?"y":"x"}function mL(e){return L1e(yj(e))}function oVe(e,t,n){n===void 0&&(n=!1);const r=xw(e),o=mL(e),i=pL(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=aE(s)),[s,aE(s)]}function iVe(e){const t=aE(e);return[Z3(e),t,Z3(t)]}function Z3(e){return e.replace(/start|end/g,t=>rVe[t])}function sVe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function aVe(e,t,n,r){const o=xw(e);let i=sVe(zp(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Z3)))),i}function aE(e){return e.replace(/left|right|bottom|top/g,t=>nVe[t])}function lVe(e){return{top:0,right:0,bottom:0,left:0,...e}}function B1e(e){return typeof e!="number"?lVe(e):{top:e,right:e,bottom:e,left:e}}function lE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function PV(e,t,n){let{reference:r,floating:o}=e;const i=yj(t),s=mL(t),a=pL(s),c=zp(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(xw(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const cVe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=PV(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:b,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=b??d,f=w??f,m={...m,[y]:{...m[y],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=PV(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Bb(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=j0(t,e),v=B1e(m),y=a[p?f==="floating"?"reference":"floating":f],x=lE(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=lE(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const OV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=j0(e,t)||{};if(u==null)return{};const f=B1e(d),p={x:n,y:r},m=mL(o),v=pL(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=zv(f[x],k),A=zv(f[b],k),D=T,I=E-g[v]-A,P=E/2-g[v]/2+j,$=K3(D,P,I),R=!c.arrow&&xw(o)!=null&&P!=$&&i.reference[v]/2-(P<D?T:A)-g[v]/2<0,z=R?P<D?P-D:P-I:0;return{[m]:p[m]+z,data:{[m]:$,centerOffset:P-$-z,...R&&{alignmentOffset:z}},reset:R}}}),N1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=j0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=zp(o),b=zp(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(b||!g?[aE(a)]:iVe(a));!p&&v!=="none"&&C.push(...aVe(a,g,v,w));const _=[a,...C],S=await Bb(t,y),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=oVe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let P=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(z=>z>0).reduce((z,B)=>z+B,0)]).sort((R,z)=>R[1]-z[1])[0])==null?void 0:A[0];$&&(P=$);break}case"initialPlacement":P=a;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function RV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $V(e){return tVe.some(t=>e[t]>=0)}const uVe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=j0(e,t);switch(r){case"referenceHidden":{const i=await Bb(t,{...o,elementContext:"reference"}),s=RV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:$V(s)}}}case"escaped":{const i=await Bb(t,{...o,altBoundary:!0}),s=RV(i,n.floating);return{data:{escapedOffsets:s,escaped:$V(s)}}}default:return{}}}}};async function dVe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=zp(n),a=xw(n),c=yj(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=j0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const z1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await dVe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},V1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=j0(e,t),u={x:n,y:r},d=await Bb(t,c),f=yj(zp(o)),p=L1e(f);let m=u[p],v=u[f];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=K3(b,m,w)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=K3(b,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function Ff(e){return H1e(e)?(e.nodeName||"").toLowerCase():"#document"}function ea(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ld(e){var t;return(t=(H1e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H1e(e){return e instanceof Node||e instanceof ea(e).Node}function Lu(e){return e instanceof Element||e instanceof ea(e).Element}function Oc(e){return e instanceof HTMLElement||e instanceof ea(e).HTMLElement}function MV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ea(e).ShadowRoot}function ww(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Wa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function fVe(e){return["table","td","th"].includes(Ff(e))}function gL(e){const t=vL(),n=Wa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function hVe(e){let t=Vv(e);for(;Oc(t)&&!bj(t);){if(gL(t))return t;t=Vv(t)}return null}function vL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bj(e){return["html","body","#document"].includes(Ff(e))}function Wa(e){return ea(e).getComputedStyle(e)}function xj(e){return Lu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Vv(e){if(Ff(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MV(e)&&e.host||ld(e);return MV(t)?t.host:t}function U1e(e){const t=Vv(e);return bj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oc(t)&&ww(t)?t:U1e(t)}function Nb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=U1e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ea(o);return i?t.concat(s,s.visualViewport||[],ww(o)?o:[],s.frameElement&&n?Nb(s.frameElement):[]):t.concat(o,Nb(o,[],n))}function W1e(e){const t=Wa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Oc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=sE(n)!==i||sE(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function yL(e){return Lu(e)?e:e.contextElement}function rv(e){const t=yL(e);if(!Oc(t))return Mf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=W1e(t);let s=(i?sE(n.width):n.width)/r,a=(i?sE(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const pVe=Mf(0);function Y1e(e){const t=ea(e);return!vL()||!t.visualViewport?pVe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mVe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ea(e)?!1:t}function Vp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=yL(e);let s=Mf(1);t&&(r?Lu(r)&&(s=rv(r)):s=rv(e));const a=mVe(i,n,r)?Y1e(i):Mf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=ea(i),m=r&&Lu(r)?ea(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=rv(v),y=v.getBoundingClientRect(),x=Wa(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=w,v=ea(v).frameElement}}return lE({width:d,height:f,x:c,y:u})}function gVe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Oc(n),i=ld(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=Mf(1);const c=Mf(0);if((o||!o&&r!=="fixed")&&((Ff(n)!=="body"||ww(i))&&(s=xj(n)),Oc(n))){const u=Vp(n);a=rv(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function vVe(e){return Array.from(e.getClientRects())}function q1e(e){return Vp(ld(e)).left+xj(e).scrollLeft}function yVe(e){const t=ld(e),n=xj(e),r=e.ownerDocument.body,o=Cp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Cp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+q1e(e);const a=-n.scrollTop;return Wa(r).direction==="rtl"&&(s+=Cp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function bVe(e,t){const n=ea(e),r=ld(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=vL();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function xVe(e,t){const n=Vp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Oc(e)?rv(e):Mf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function FV(e,t,n){let r;if(t==="viewport")r=bVe(e,n);else if(t==="document")r=yVe(ld(e));else if(Lu(t))r=xVe(t,n);else{const o=Y1e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return lE(r)}function G1e(e,t){const n=Vv(e);return n===t||!Lu(n)||bj(n)?!1:Wa(n).position==="fixed"||G1e(n,t)}function wVe(e,t){const n=t.get(e);if(n)return n;let r=Nb(e,[],!1).filter(a=>Lu(a)&&Ff(a)!=="body"),o=null;const i=Wa(e).position==="fixed";let s=i?Vv(e):e;for(;Lu(s)&&!bj(s);){const a=Wa(s),c=gL(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ww(s)&&!c&&G1e(e,s))?r=r.filter(d=>d!==s):o=a,s=Vv(s)}return t.set(e,r),r}function CVe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?wVe(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=FV(t,d,o);return u.top=Cp(f.top,u.top),u.right=zv(f.right,u.right),u.bottom=zv(f.bottom,u.bottom),u.left=Cp(f.left,u.left),u},FV(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _Ve(e){return W1e(e)}function SVe(e,t,n){const r=Oc(t),o=ld(t),i=n==="fixed",s=Vp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Mf(0);if(r||!r&&!i)if((Ff(t)!=="body"||ww(o))&&(a=xj(t)),r){const u=Vp(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=q1e(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function LV(e,t){return!Oc(e)||Wa(e).position==="fixed"?null:t?t(e):e.offsetParent}function K1e(e,t){const n=ea(e);if(!Oc(e))return n;let r=LV(e,t);for(;r&&fVe(r)&&Wa(r).position==="static";)r=LV(r,t);return r&&(Ff(r)==="html"||Ff(r)==="body"&&Wa(r).position==="static"&&!gL(r))?n:r||hVe(e)||n}const EVe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||K1e,i=this.getDimensions;return{reference:SVe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function kVe(e){return Wa(e).direction==="rtl"}const jVe={convertOffsetParentRelativeRectToViewportRelativeRect:gVe,getDocumentElement:ld,getClippingRect:CVe,getOffsetParent:K1e,getElementRects:EVe,getClientRects:vVe,getDimensions:_Ve,getScale:rv,isElement:Lu,isRTL:kVe};function TVe(e,t){let n=null,r;const o=ld(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=VC(d),v=VC(o.clientWidth-(u+f)),g=VC(o.clientHeight-(d+p)),y=VC(u),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Cp(0,zv(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return s(!0),i}function Z1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yL(e),d=o||i?[...u?Nb(u):[],...Nb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?TVe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Vp(e):null;c&&y();function y(){const x=Vp(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const AVe=(e,t,n)=>{const r=new Map,o={platform:jVe,...n},i={...o.platform,_c:r};return cVe(e,t,{...o,platform:i})};var X1e={exports:{}},fa={},Q1e={exports:{}},J1e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,H){var W=B.length;B.push(H);e:for(;0<W;){var V=W-1>>>1,G=B[V];if(0<o(G,H))B[V]=H,B[W]=G,W=V;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],W=B.pop();if(W!==H){B[0]=W;e:for(var V=0,G=B.length,te=G>>>1;V<te;){var N=2*(V+1)-1,Y=B[N],q=N+1,Z=B[q];if(0>o(Y,W))q<G&&0>o(Z,Y)?(B[V]=Z,B[q]=W,V=q):(B[V]=Y,B[N]=W,V=N);else if(q<G&&0>o(Z,W))B[V]=Z,B[q]=W,V=q;else break e}}return H}function o(B,H){var W=B.sortIndex-H.sortIndex;return W!==0?W:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=B)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function C(B){if(g=!1,w(B),!v)if(n(c)!==null)v=!0,R(_);else{var H=n(u);H!==null&&z(C,H.startTime-B)}}function _(B,H){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var W=p;try{for(w(H),f=n(c);f!==null&&(!(f.expirationTime>H)||B&&!A());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var G=V(f.expirationTime<=H);H=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),w(H)}else r(c);f=n(c)}if(f!==null)var te=!0;else{var N=n(u);N!==null&&z(C,N.startTime-H),te=!1}return te}finally{f=null,p=W,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var B=e.unstable_now();T=B;var H=!0;try{H=E(!0,B)}finally{H?I():(S=!1,E=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){y(D,0)};function R(B){E=B,S||(S=!0,I())}function z(B,H){j=y(function(){B(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,R(_))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var W=p;p=H;try{return B()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=p;p=B;try{return H()}finally{p=W}},e.unstable_scheduleCallback=function(B,H,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,B={id:d++,callback:H,priorityLevel:B,startTime:W,expirationTime:G,sortIndex:-1},W>V?(B.sortIndex=W,t(u,B),n(c)===null&&B===n(u)&&(g?(x(j),j=-1):g=!0,z(C,W-V))):(B.sortIndex=G,t(c,B),v||m||(v=!0,R(_))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var H=p;return function(){var W=p;p=H;try{return B.apply(this,arguments)}finally{p=W}}}})(J1e);Q1e.exports=J1e;var DVe=Q1e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eye=h,oa=DVe;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tye=new Set,zb={};function bm(e,t){Hv(e,t),Hv(e+"Capture",t)}function Hv(e,t){for(zb[e]=t,e=0;e<t.length;e++)tye.add(t[e])}var Bu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X3=Object.prototype.hasOwnProperty,IVe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BV={},NV={};function PVe(e){return X3.call(NV,e)?!0:X3.call(BV,e)?!1:IVe.test(e)?NV[e]=!0:(BV[e]=!0,!1)}function OVe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RVe(e,t,n,r){if(t===null||typeof t>"u"||OVe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){li[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];li[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){li[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){li[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){li[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){li[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){li[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){li[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){li[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var bL=/[\-:]([a-z])/g;function xL(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bL,xL);li[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bL,xL);li[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bL,xL);li[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){li[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});li.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){li[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});function wL(e,t,n,r){var o=li.hasOwnProperty(t)?li[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RVe(t,n,o,r)&&(n=null),r||o===null?PVe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cd=eye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,HC=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),CL=Symbol.for("react.strict_mode"),Q3=Symbol.for("react.profiler"),nye=Symbol.for("react.provider"),rye=Symbol.for("react.context"),_L=Symbol.for("react.forward_ref"),J3=Symbol.for("react.suspense"),eR=Symbol.for("react.suspense_list"),SL=Symbol.for("react.memo"),$d=Symbol.for("react.lazy"),oye=Symbol.for("react.offscreen"),zV=Symbol.iterator;function I1(e){return e===null||typeof e!="object"?null:(e=zV&&e[zV]||e["@@iterator"],typeof e=="function"?e:null)}var Mr=Object.assign,LD;function Sy(e){if(LD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);LD=t&&t[1]||""}return`
`+LD+e}var BD=!1;function ND(e,t){if(!e||BD)return"";BD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{BD=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sy(e):""}function $Ve(e){switch(e.tag){case 5:return Sy(e.type);case 16:return Sy("Lazy");case 13:return Sy("Suspense");case 19:return Sy("SuspenseList");case 0:case 2:case 15:return e=ND(e.type,!1),e;case 11:return e=ND(e.type.render,!1),e;case 1:return e=ND(e.type,!0),e;default:return""}}function tR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pg:return"Fragment";case Ig:return"Portal";case Q3:return"Profiler";case CL:return"StrictMode";case J3:return"Suspense";case eR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rye:return(e.displayName||"Context")+".Consumer";case nye:return(e._context.displayName||"Context")+".Provider";case _L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case SL:return t=e.displayName||null,t!==null?t:tR(e.type)||"Memo";case $d:t=e._payload,e=e._init;try{return tR(e(t))}catch{}}return null}function MVe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tR(t);case 8:return t===CL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FVe(e){var t=iye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function UC(e){e._valueTracker||(e._valueTracker=FVe(e))}function sye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iye(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nR(e,t){var n=t.checked;return Mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aye(e,t){t=t.checked,t!=null&&wL(e,"checked",t,!1)}function rR(e,t){aye(e,t);var n=Lf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oR(e,t.type,n):t.hasOwnProperty("defaultValue")&&oR(e,t.type,Lf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oR(e,t,n){(t!=="number"||cE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ey=Array.isArray;function ov(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lf(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function iR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return Mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(je(92));if(Ey(n)){if(1<n.length)throw Error(je(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lf(n)}}function lye(e,t){var n=Lf(t.value),r=Lf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cye(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cye(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var WC,uye=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(WC=WC||document.createElement("div"),WC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=WC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LVe=["Webkit","ms","Moz","O"];Object.keys(Zy).forEach(function(e){LVe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zy[t]=Zy[e]})});function dye(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zy.hasOwnProperty(e)&&Zy[e]?(""+t).trim():t+"px"}function fye(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=dye(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var BVe=Mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aR(e,t){if(t){if(BVe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function lR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cR=null;function EL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uR=null,iv=null,sv=null;function YV(e){if(e=Sw(e)){if(typeof uR!="function")throw Error(je(280));var t=e.stateNode;t&&(t=Ej(t),uR(e.stateNode,e.type,t))}}function hye(e){iv?sv?sv.push(e):sv=[e]:iv=e}function pye(){if(iv){var e=iv,t=sv;if(sv=iv=null,YV(e),t)for(e=0;e<t.length;e++)YV(t[e])}}function mye(e,t){return e(t)}function gye(){}var zD=!1;function vye(e,t,n){if(zD)return e(t,n);zD=!0;try{return mye(e,t,n)}finally{zD=!1,(iv!==null||sv!==null)&&(gye(),pye())}}function Hb(e,t){var n=e.stateNode;if(n===null)return null;var r=Ej(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(je(231,t,typeof n));return n}var dR=!1;if(Bu)try{var P1={};Object.defineProperty(P1,"passive",{get:function(){dR=!0}}),window.addEventListener("test",P1,P1),window.removeEventListener("test",P1,P1)}catch{dR=!1}function NVe(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Xy=!1,uE=null,dE=!1,fR=null,zVe={onError:function(e){Xy=!0,uE=e}};function VVe(e,t,n,r,o,i,s,a,c){Xy=!1,uE=null,NVe.apply(zVe,arguments)}function HVe(e,t,n,r,o,i,s,a,c){if(VVe.apply(this,arguments),Xy){if(Xy){var u=uE;Xy=!1,uE=null}else throw Error(je(198));dE||(dE=!0,fR=u)}}function xm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yye(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qV(e){if(xm(e)!==e)throw Error(je(188))}function UVe(e){var t=e.alternate;if(!t){if(t=xm(e),t===null)throw Error(je(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return qV(o),e;if(i===r)return qV(o),t;i=i.sibling}throw Error(je(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?e:t}function bye(e){return e=UVe(e),e!==null?xye(e):null}function xye(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xye(e);if(t!==null)return t;e=e.sibling}return null}var wye=oa.unstable_scheduleCallback,GV=oa.unstable_cancelCallback,WVe=oa.unstable_shouldYield,YVe=oa.unstable_requestPaint,Xr=oa.unstable_now,qVe=oa.unstable_getCurrentPriorityLevel,kL=oa.unstable_ImmediatePriority,Cye=oa.unstable_UserBlockingPriority,fE=oa.unstable_NormalPriority,GVe=oa.unstable_LowPriority,_ye=oa.unstable_IdlePriority,wj=null,Ec=null;function KVe(e){if(Ec&&typeof Ec.onCommitFiberRoot=="function")try{Ec.onCommitFiberRoot(wj,e,void 0,(e.current.flags&128)===128)}catch{}}var Tl=Math.clz32?Math.clz32:QVe,ZVe=Math.log,XVe=Math.LN2;function QVe(e){return e>>>=0,e===0?32:31-(ZVe(e)/XVe|0)|0}var YC=64,qC=4194304;function ky(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ky(a):(i&=s,i!==0&&(r=ky(i)))}else s=n&~o,s!==0?r=ky(s):i!==0&&(r=ky(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tl(t),o=1<<n,r|=e[n],t&=~o;return r}function JVe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eHe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Tl(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=JVe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function hR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sye(){var e=YC;return YC<<=1,!(YC&4194240)&&(YC=64),e}function VD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tl(t),e[t]=n}function tHe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Tl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function jL(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Sn=0;function Eye(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kye,TL,jye,Tye,Aye,pR=!1,GC=[],pf=null,mf=null,gf=null,Ub=new Map,Wb=new Map,Ud=[],nHe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KV(e,t){switch(e){case"focusin":case"focusout":pf=null;break;case"dragenter":case"dragleave":mf=null;break;case"mouseover":case"mouseout":gf=null;break;case"pointerover":case"pointerout":Ub.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wb.delete(t.pointerId)}}function O1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Sw(t),t!==null&&TL(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function rHe(e,t,n,r,o){switch(t){case"focusin":return pf=O1(pf,e,t,n,r,o),!0;case"dragenter":return mf=O1(mf,e,t,n,r,o),!0;case"mouseover":return gf=O1(gf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ub.set(i,O1(Ub.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Wb.set(i,O1(Wb.get(i)||null,e,t,n,r,o)),!0}return!1}function Dye(e){var t=ip(e.target);if(t!==null){var n=xm(t);if(n!==null){if(t=n.tag,t===13){if(t=yye(n),t!==null){e.blockedOn=t,Aye(e.priority,function(){jye(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function B2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cR=r,n.target.dispatchEvent(r),cR=null}else return t=Sw(n),t!==null&&TL(t),e.blockedOn=n,!1;t.shift()}return!0}function ZV(e,t,n){B2(e)&&n.delete(t)}function oHe(){pR=!1,pf!==null&&B2(pf)&&(pf=null),mf!==null&&B2(mf)&&(mf=null),gf!==null&&B2(gf)&&(gf=null),Ub.forEach(ZV),Wb.forEach(ZV)}function R1(e,t){e.blockedOn===t&&(e.blockedOn=null,pR||(pR=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,oHe)))}function Yb(e){function t(o){return R1(o,e)}if(0<GC.length){R1(GC[0],e);for(var n=1;n<GC.length;n++){var r=GC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pf!==null&&R1(pf,e),mf!==null&&R1(mf,e),gf!==null&&R1(gf,e),Ub.forEach(t),Wb.forEach(t),n=0;n<Ud.length;n++)r=Ud[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ud.length&&(n=Ud[0],n.blockedOn===null);)Dye(n),n.blockedOn===null&&Ud.shift()}var av=cd.ReactCurrentBatchConfig,pE=!0;function iHe(e,t,n,r){var o=Sn,i=av.transition;av.transition=null;try{Sn=1,AL(e,t,n,r)}finally{Sn=o,av.transition=i}}function sHe(e,t,n,r){var o=Sn,i=av.transition;av.transition=null;try{Sn=4,AL(e,t,n,r)}finally{Sn=o,av.transition=i}}function AL(e,t,n,r){if(pE){var o=mR(e,t,n,r);if(o===null)QD(e,t,r,mE,n),KV(e,r);else if(rHe(o,e,t,n,r))r.stopPropagation();else if(KV(e,r),t&4&&-1<nHe.indexOf(e)){for(;o!==null;){var i=Sw(o);if(i!==null&&kye(i),i=mR(e,t,n,r),i===null&&QD(e,t,r,mE,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else QD(e,t,r,null,n)}}var mE=null;function mR(e,t,n,r){if(mE=null,e=EL(r),e=ip(e),e!==null)if(t=xm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yye(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mE=e,null}function Iye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qVe()){case kL:return 1;case Cye:return 4;case fE:case GVe:return 16;case _ye:return 536870912;default:return 16}default:return 16}}var Kd=null,DL=null,N2=null;function Pye(){if(N2)return N2;var e,t=DL,n=t.length,r,o="value"in Kd?Kd.value:Kd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return N2=o.slice(e,1<r?1-r:void 0)}function z2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function KC(){return!0}function XV(){return!1}function ha(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?KC:XV,this.isPropagationStopped=XV,this}return Mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=KC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=KC)},persist:function(){},isPersistent:KC}),t}var T0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IL=ha(T0),_w=Mr({},T0,{view:0,detail:0}),aHe=ha(_w),HD,UD,$1,Cj=Mr({},_w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$1&&($1&&e.type==="mousemove"?(HD=e.screenX-$1.screenX,UD=e.screenY-$1.screenY):UD=HD=0,$1=e),HD)},movementY:function(e){return"movementY"in e?e.movementY:UD}}),QV=ha(Cj),lHe=Mr({},Cj,{dataTransfer:0}),cHe=ha(lHe),uHe=Mr({},_w,{relatedTarget:0}),WD=ha(uHe),dHe=Mr({},T0,{animationName:0,elapsedTime:0,pseudoElement:0}),fHe=ha(dHe),hHe=Mr({},T0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pHe=ha(hHe),mHe=Mr({},T0,{data:0}),JV=ha(mHe),gHe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vHe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yHe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bHe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yHe[e])?!!t[e]:!1}function PL(){return bHe}var xHe=Mr({},_w,{key:function(e){if(e.key){var t=gHe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=z2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vHe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PL,charCode:function(e){return e.type==="keypress"?z2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?z2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wHe=ha(xHe),CHe=Mr({},Cj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eH=ha(CHe),_He=Mr({},_w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PL}),SHe=ha(_He),EHe=Mr({},T0,{propertyName:0,elapsedTime:0,pseudoElement:0}),kHe=ha(EHe),jHe=Mr({},Cj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),THe=ha(jHe),AHe=[9,13,27,32],OL=Bu&&"CompositionEvent"in window,Qy=null;Bu&&"documentMode"in document&&(Qy=document.documentMode);var DHe=Bu&&"TextEvent"in window&&!Qy,Oye=Bu&&(!OL||Qy&&8<Qy&&11>=Qy),tH=String.fromCharCode(32),nH=!1;function Rye(e,t){switch(e){case"keyup":return AHe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $ye(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Og=!1;function IHe(e,t){switch(e){case"compositionend":return $ye(t);case"keypress":return t.which!==32?null:(nH=!0,tH);case"textInput":return e=t.data,e===tH&&nH?null:e;default:return null}}function PHe(e,t){if(Og)return e==="compositionend"||!OL&&Rye(e,t)?(e=Pye(),N2=DL=Kd=null,Og=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oye&&t.locale!=="ko"?null:t.data;default:return null}}var OHe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rH(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OHe[e.type]:t==="textarea"}function Mye(e,t,n,r){hye(r),t=gE(t,"onChange"),0<t.length&&(n=new IL("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jy=null,qb=null;function RHe(e){qye(e,0)}function _j(e){var t=Mg(e);if(sye(t))return e}function $He(e,t){if(e==="change")return t}var Fye=!1;if(Bu){var YD;if(Bu){var qD="oninput"in document;if(!qD){var oH=document.createElement("div");oH.setAttribute("oninput","return;"),qD=typeof oH.oninput=="function"}YD=qD}else YD=!1;Fye=YD&&(!document.documentMode||9<document.documentMode)}function iH(){Jy&&(Jy.detachEvent("onpropertychange",Lye),qb=Jy=null)}function Lye(e){if(e.propertyName==="value"&&_j(qb)){var t=[];Mye(t,qb,e,EL(e)),vye(RHe,t)}}function MHe(e,t,n){e==="focusin"?(iH(),Jy=t,qb=n,Jy.attachEvent("onpropertychange",Lye)):e==="focusout"&&iH()}function FHe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _j(qb)}function LHe(e,t){if(e==="click")return _j(t)}function BHe(e,t){if(e==="input"||e==="change")return _j(t)}function NHe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ol=typeof Object.is=="function"?Object.is:NHe;function Gb(e,t){if(Ol(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!X3.call(t,o)||!Ol(e[o],t[o]))return!1}return!0}function sH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aH(e,t){var n=sH(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sH(n)}}function Bye(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bye(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nye(){for(var e=window,t=cE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cE(e.document)}return t}function RL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zHe(e){var t=Nye(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bye(n.ownerDocument.documentElement,n)){if(r!==null&&RL(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=aH(n,i);var s=aH(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VHe=Bu&&"documentMode"in document&&11>=document.documentMode,Rg=null,gR=null,eb=null,vR=!1;function lH(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vR||Rg==null||Rg!==cE(r)||(r=Rg,"selectionStart"in r&&RL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eb&&Gb(eb,r)||(eb=r,r=gE(gR,"onSelect"),0<r.length&&(t=new IL("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rg)))}function ZC(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $g={animationend:ZC("Animation","AnimationEnd"),animationiteration:ZC("Animation","AnimationIteration"),animationstart:ZC("Animation","AnimationStart"),transitionend:ZC("Transition","TransitionEnd")},GD={},zye={};Bu&&(zye=document.createElement("div").style,"AnimationEvent"in window||(delete $g.animationend.animation,delete $g.animationiteration.animation,delete $g.animationstart.animation),"TransitionEvent"in window||delete $g.transitionend.transition);function Sj(e){if(GD[e])return GD[e];if(!$g[e])return e;var t=$g[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zye)return GD[e]=t[n];return e}var Vye=Sj("animationend"),Hye=Sj("animationiteration"),Uye=Sj("animationstart"),Wye=Sj("transitionend"),Yye=new Map,cH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eh(e,t){Yye.set(e,t),bm(t,[e])}for(var KD=0;KD<cH.length;KD++){var ZD=cH[KD],HHe=ZD.toLowerCase(),UHe=ZD[0].toUpperCase()+ZD.slice(1);eh(HHe,"on"+UHe)}eh(Vye,"onAnimationEnd");eh(Hye,"onAnimationIteration");eh(Uye,"onAnimationStart");eh("dblclick","onDoubleClick");eh("focusin","onFocus");eh("focusout","onBlur");eh(Wye,"onTransitionEnd");Hv("onMouseEnter",["mouseout","mouseover"]);Hv("onMouseLeave",["mouseout","mouseover"]);Hv("onPointerEnter",["pointerout","pointerover"]);Hv("onPointerLeave",["pointerout","pointerover"]);bm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bm("onBeforeInput",["compositionend","keypress","textInput","paste"]);bm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WHe=new Set("cancel close invalid load scroll toggle".split(" ").concat(jy));function uH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HVe(r,t,void 0,e),e.currentTarget=null}function qye(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;uH(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;uH(o,a,u),i=c}}}if(dE)throw e=fR,dE=!1,fR=null,e}function rr(e,t){var n=t[CR];n===void 0&&(n=t[CR]=new Set);var r=e+"__bubble";n.has(r)||(Gye(t,e,2,!1),n.add(r))}function XD(e,t,n){var r=0;t&&(r|=4),Gye(n,e,r,t)}var XC="_reactListening"+Math.random().toString(36).slice(2);function Kb(e){if(!e[XC]){e[XC]=!0,tye.forEach(function(n){n!=="selectionchange"&&(WHe.has(n)||XD(n,!1,e),XD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[XC]||(t[XC]=!0,XD("selectionchange",!1,t))}}function Gye(e,t,n,r){switch(Iye(t)){case 1:var o=iHe;break;case 4:o=sHe;break;default:o=AL}n=o.bind(null,t,n,e),o=void 0,!dR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function QD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=ip(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}vye(function(){var u=i,d=EL(n),f=[];e:{var p=Yye.get(e);if(p!==void 0){var m=IL,v=e;switch(e){case"keypress":if(z2(n)===0)break e;case"keydown":case"keyup":m=wHe;break;case"focusin":v="focus",m=WD;break;case"focusout":v="blur",m=WD;break;case"beforeblur":case"afterblur":m=WD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cHe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SHe;break;case Vye:case Hye:case Uye:m=fHe;break;case Wye:m=kHe;break;case"scroll":m=aHe;break;case"wheel":m=THe;break;case"copy":case"cut":case"paste":m=pHe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eH}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Hb(b,x),C!=null&&g.push(Zb(b,C,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==cR&&(v=n.relatedTarget||n.fromElement)&&(ip(v)||v[Nu]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?ip(v):null,v!==null&&(y=xm(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=QV,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=eH,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Mg(m),w=v==null?p:Mg(v),p=new g(C,b+"leave",m,n,d),p.target=y,p.relatedTarget=w,C=null,ip(d)===u&&(g=new g(x,b+"enter",v,n,d),g.target=w,g.relatedTarget=y,C=g),y=C,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=Qm(w))b++;for(w=0,C=x;C;C=Qm(C))w++;for(;0<b-w;)g=Qm(g),b--;for(;0<w-b;)x=Qm(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Qm(g),x=Qm(x)}g=null}else g=null;m!==null&&dH(f,p,m,g,!1),v!==null&&y!==null&&dH(f,y,v,g,!0)}}e:{if(p=u?Mg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=$He;else if(rH(p))if(Fye)_=BHe;else{_=FHe;var S=MHe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=LHe);if(_&&(_=_(e,u))){Mye(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&oR(p,"number",p.value)}switch(S=u?Mg(u):window,e){case"focusin":(rH(S)||S.contentEditable==="true")&&(Rg=S,gR=u,eb=null);break;case"focusout":eb=gR=Rg=null;break;case"mousedown":vR=!0;break;case"contextmenu":case"mouseup":case"dragend":vR=!1,lH(f,n,d);break;case"selectionchange":if(VHe)break;case"keydown":case"keyup":lH(f,n,d)}var E;if(OL)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Og?Rye(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Oye&&n.locale!=="ko"&&(Og||j!=="onCompositionStart"?j==="onCompositionEnd"&&Og&&(E=Pye()):(Kd=d,DL="value"in Kd?Kd.value:Kd.textContent,Og=!0)),S=gE(u,j),0<S.length&&(j=new JV(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=$ye(n),E!==null&&(j.data=E)))),(E=DHe?IHe(e,n):PHe(e,n))&&(u=gE(u,"onBeforeInput"),0<u.length&&(d=new JV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}qye(f,t)})}function Zb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gE(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Hb(e,n),i!=null&&r.unshift(Zb(e,i,o)),i=Hb(e,t),i!=null&&r.push(Zb(e,i,o))),e=e.return}return r}function Qm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dH(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Hb(n,i),c!=null&&s.unshift(Zb(n,c,a))):o||(c=Hb(n,i),c!=null&&s.push(Zb(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var YHe=/\r\n?/g,qHe=/\u0000|\uFFFD/g;function fH(e){return(typeof e=="string"?e:""+e).replace(YHe,`
`).replace(qHe,"")}function QC(e,t,n){if(t=fH(t),fH(e)!==t&&n)throw Error(je(425))}function vE(){}var yR=null,bR=null;function xR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wR=typeof setTimeout=="function"?setTimeout:void 0,GHe=typeof clearTimeout=="function"?clearTimeout:void 0,hH=typeof Promise=="function"?Promise:void 0,KHe=typeof queueMicrotask=="function"?queueMicrotask:typeof hH<"u"?function(e){return hH.resolve(null).then(e).catch(ZHe)}:wR;function ZHe(e){setTimeout(function(){throw e})}function JD(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Yb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Yb(t)}function vf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var A0=Math.random().toString(36).slice(2),gc="__reactFiber$"+A0,Xb="__reactProps$"+A0,Nu="__reactContainer$"+A0,CR="__reactEvents$"+A0,XHe="__reactListeners$"+A0,QHe="__reactHandles$"+A0;function ip(e){var t=e[gc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nu]||n[gc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pH(e);e!==null;){if(n=e[gc])return n;e=pH(e)}return t}e=n,n=e.parentNode}return null}function Sw(e){return e=e[gc]||e[Nu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function Ej(e){return e[Xb]||null}var _R=[],Fg=-1;function th(e){return{current:e}}function ar(e){0>Fg||(e.current=_R[Fg],_R[Fg]=null,Fg--)}function Gn(e,t){Fg++,_R[Fg]=e.current,e.current=t}var Bf={},Pi=th(Bf),js=th(!1),Hp=Bf;function Uv(e,t){var n=e.type.contextTypes;if(!n)return Bf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ts(e){return e=e.childContextTypes,e!=null}function yE(){ar(js),ar(Pi)}function mH(e,t,n){if(Pi.current!==Bf)throw Error(je(168));Gn(Pi,t),Gn(js,n)}function Kye(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(je(108,MVe(e)||"Unknown",o));return Mr({},n,r)}function bE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bf,Hp=Pi.current,Gn(Pi,e),Gn(js,js.current),!0}function gH(e,t,n){var r=e.stateNode;if(!r)throw Error(je(169));n?(e=Kye(e,t,Hp),r.__reactInternalMemoizedMergedChildContext=e,ar(js),ar(Pi),Gn(Pi,e)):ar(js),Gn(js,n)}var pu=null,kj=!1,eI=!1;function Zye(e){pu===null?pu=[e]:pu.push(e)}function JHe(e){kj=!0,Zye(e)}function nh(){if(!eI&&pu!==null){eI=!0;var e=0,t=Sn;try{var n=pu;for(Sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pu=null,kj=!1}catch(o){throw pu!==null&&(pu=pu.slice(e+1)),wye(kL,nh),o}finally{Sn=t,eI=!1}}return null}var Lg=[],Bg=0,xE=null,wE=0,ja=[],Ta=0,Up=null,yu=1,bu="";function Rh(e,t){Lg[Bg++]=wE,Lg[Bg++]=xE,xE=e,wE=t}function Xye(e,t,n){ja[Ta++]=yu,ja[Ta++]=bu,ja[Ta++]=Up,Up=e;var r=yu;e=bu;var o=32-Tl(r)-1;r&=~(1<<o),n+=1;var i=32-Tl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,yu=1<<32-Tl(t)+o|n<<o|r,bu=i+e}else yu=1<<i|n<<o|r,bu=e}function $L(e){e.return!==null&&(Rh(e,1),Xye(e,1,0))}function ML(e){for(;e===xE;)xE=Lg[--Bg],Lg[Bg]=null,wE=Lg[--Bg],Lg[Bg]=null;for(;e===Up;)Up=ja[--Ta],ja[Ta]=null,bu=ja[--Ta],ja[Ta]=null,yu=ja[--Ta],ja[Ta]=null}var ta=null,Xs=null,wr=!1,gl=null;function Qye(e,t){var n=Ra(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ta=e,Xs=vf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ta=e,Xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Up!==null?{id:yu,overflow:bu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ra(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ta=e,Xs=null,!0):!1;default:return!1}}function SR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ER(e){if(wr){var t=Xs;if(t){var n=t;if(!vH(e,t)){if(SR(e))throw Error(je(418));t=vf(n.nextSibling);var r=ta;t&&vH(e,t)?Qye(r,n):(e.flags=e.flags&-4097|2,wr=!1,ta=e)}}else{if(SR(e))throw Error(je(418));e.flags=e.flags&-4097|2,wr=!1,ta=e}}}function yH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ta=e}function JC(e){if(e!==ta)return!1;if(!wr)return yH(e),wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xR(e.type,e.memoizedProps)),t&&(t=Xs)){if(SR(e))throw Jye(),Error(je(418));for(;t;)Qye(e,t),t=vf(t.nextSibling)}if(yH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xs=vf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xs=null}}else Xs=ta?vf(e.stateNode.nextSibling):null;return!0}function Jye(){for(var e=Xs;e;)e=vf(e.nextSibling)}function Wv(){Xs=ta=null,wr=!1}function FL(e){gl===null?gl=[e]:gl.push(e)}var eUe=cd.ReactCurrentBatchConfig;function pl(e,t){if(e&&e.defaultProps){t=Mr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var CE=th(null),_E=null,Ng=null,LL=null;function BL(){LL=Ng=_E=null}function NL(e){var t=CE.current;ar(CE),e._currentValue=t}function kR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lv(e,t){_E=e,LL=Ng=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_s=!0),e.firstContext=null)}function Ya(e){var t=e._currentValue;if(LL!==e)if(e={context:e,memoizedValue:t,next:null},Ng===null){if(_E===null)throw Error(je(308));Ng=e,_E.dependencies={lanes:0,firstContext:e}}else Ng=Ng.next=e;return t}var sp=null;function zL(e){sp===null?sp=[e]:sp.push(e)}function ebe(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,zL(t)):(n.next=o.next,o.next=n),t.interleaved=n,zu(e,r)}function zu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Md=!1;function VL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tbe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ku(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,zu(e,n)}return o=r.interleaved,o===null?(t.next=t,zL(r)):(t.next=o.next,o.next=t),r.interleaved=t,zu(e,n)}function V2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jL(e,n)}}function bH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function SE(e,t,n,r){var o=e.updateQueue;Md=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Mr({},f,p);break e;case 2:Md=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Yp|=s,e.lanes=s,e.memoizedState=f}}function xH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(je(191,o));o.call(r)}}}var nbe=new eye.Component().refs;function jR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Mr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jj={isMounted:function(e){return(e=e._reactInternals)?xm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ji(),o=xf(e),i=ku(r,o);i.payload=t,n!=null&&(i.callback=n),t=yf(e,i,o),t!==null&&(Al(t,e,o,r),V2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ji(),o=xf(e),i=ku(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=yf(e,i,o),t!==null&&(Al(t,e,o,r),V2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ji(),r=xf(e),o=ku(n,r);o.tag=2,t!=null&&(o.callback=t),t=yf(e,o,r),t!==null&&(Al(t,e,r,n),V2(t,e,r))}};function wH(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Gb(n,r)||!Gb(o,i):!0}function rbe(e,t,n){var r=!1,o=Bf,i=t.contextType;return typeof i=="object"&&i!==null?i=Ya(i):(o=Ts(t)?Hp:Pi.current,r=t.contextTypes,i=(r=r!=null)?Uv(e,o):Bf),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function CH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jj.enqueueReplaceState(t,t.state,null)}function TR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=nbe,VL(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ya(i):(i=Ts(t)?Hp:Pi.current,o.context=Uv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&jj.enqueueReplaceState(o,o.state,null),SE(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function M1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===nbe&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,e))}return e}function e_(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _H(e){var t=e._init;return t(e._payload)}function obe(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=wf(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,C){return b===null||b.tag!==6?(b=aI(w,x.mode,C),b.return=x,b):(b=o(b,w),b.return=x,b)}function c(x,b,w,C){var _=w.type;return _===Pg?d(x,b,w.props.children,C,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$d&&_H(_)===b.type)?(C=o(b,w.props),C.ref=M1(x,b,w),C.return=x,C):(C=G2(w.type,w.key,w.props,null,x.mode,C),C.ref=M1(x,b,w),C.return=x,C)}function u(x,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=lI(w,x.mode,C),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,C,_){return b===null||b.tag!==7?(b=Sp(w,x.mode,C,_),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=aI(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case HC:return w=G2(b.type,b.key,b.props,null,x.mode,w),w.ref=M1(x,null,b),w.return=x,w;case Ig:return b=lI(b,x.mode,w),b.return=x,b;case $d:var C=b._init;return f(x,C(b._payload),w)}if(Ey(b)||I1(b))return b=Sp(b,x.mode,w,null),b.return=x,b;e_(x,b)}return null}function p(x,b,w,C){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case HC:return w.key===_?c(x,b,w,C):null;case Ig:return w.key===_?u(x,b,w,C):null;case $d:return _=w._init,p(x,b,_(w._payload),C)}if(Ey(w)||I1(w))return _!==null?null:d(x,b,w,C,null);e_(x,w)}return null}function m(x,b,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(b,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case HC:return x=x.get(C.key===null?w:C.key)||null,c(b,x,C,_);case Ig:return x=x.get(C.key===null?w:C.key)||null,u(b,x,C,_);case $d:var S=C._init;return m(x,b,w,S(C._payload),_)}if(Ey(C)||I1(C))return x=x.get(w)||null,d(b,x,C,_,null);e_(b,C)}return null}function v(x,b,w,C){for(var _=null,S=null,E=b,j=b=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),wr&&Rh(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(b=i(E,b,j),S===null?_=E:S.sibling=E,S=E);return wr&&Rh(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),b=i(k,b,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),wr&&Rh(x,j),_}function g(x,b,w,C){var _=I1(w);if(typeof _!="function")throw Error(je(150));if(w=_.call(w),w==null)throw Error(je(151));for(var S=_=null,E=b,j=b=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),b=i(A,b,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),wr&&Rh(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return wr&&Rh(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),wr&&Rh(x,j),_}function y(x,b,w,C){if(typeof w=="object"&&w!==null&&w.type===Pg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case HC:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===Pg){if(S.tag===7){n(x,S.sibling),b=o(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$d&&_H(_)===S.type){n(x,S.sibling),b=o(S,w.props),b.ref=M1(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Pg?(b=Sp(w.props.children,x.mode,C,w.key),b.return=x,x=b):(C=G2(w.type,w.key,w.props,null,x.mode,C),C.ref=M1(x,b,w),C.return=x,x=C)}return s(x);case Ig:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=lI(w,x.mode,C),b.return=x,x=b}return s(x);case $d:return S=w._init,y(x,b,S(w._payload),C)}if(Ey(w))return v(x,b,w,C);if(I1(w))return g(x,b,w,C);e_(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=o(b,w),b.return=x,x=b):(n(x,b),b=aI(w,x.mode,C),b.return=x,x=b),s(x)):n(x,b)}return y}var Yv=obe(!0),ibe=obe(!1),Ew={},kc=th(Ew),Qb=th(Ew),Jb=th(Ew);function ap(e){if(e===Ew)throw Error(je(174));return e}function HL(e,t){switch(Gn(Jb,t),Gn(Qb,e),Gn(kc,Ew),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sR(t,e)}ar(kc),Gn(kc,t)}function qv(){ar(kc),ar(Qb),ar(Jb)}function sbe(e){ap(Jb.current);var t=ap(kc.current),n=sR(t,e.type);t!==n&&(Gn(Qb,e),Gn(kc,n))}function UL(e){Qb.current===e&&(ar(kc),ar(Qb))}var Dr=th(0);function EE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tI=[];function WL(){for(var e=0;e<tI.length;e++)tI[e]._workInProgressVersionPrimary=null;tI.length=0}var H2=cd.ReactCurrentDispatcher,nI=cd.ReactCurrentBatchConfig,Wp=0,Rr=null,So=null,Bo=null,kE=!1,tb=!1,ex=0,tUe=0;function gi(){throw Error(je(321))}function YL(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ol(e[n],t[n]))return!1;return!0}function qL(e,t,n,r,o,i){if(Wp=i,Rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H2.current=e===null||e.memoizedState===null?iUe:sUe,e=n(r,o),tb){i=0;do{if(tb=!1,ex=0,25<=i)throw Error(je(301));i+=1,Bo=So=null,t.updateQueue=null,H2.current=aUe,e=n(r,o)}while(tb)}if(H2.current=jE,t=So!==null&&So.next!==null,Wp=0,Bo=So=Rr=null,kE=!1,t)throw Error(je(300));return e}function GL(){var e=ex!==0;return ex=0,e}function ac(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bo===null?Rr.memoizedState=Bo=e:Bo=Bo.next=e,Bo}function qa(){if(So===null){var e=Rr.alternate;e=e!==null?e.memoizedState:null}else e=So.next;var t=Bo===null?Rr.memoizedState:Bo.next;if(t!==null)Bo=t,So=e;else{if(e===null)throw Error(je(310));So=e,e={memoizedState:So.memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},Bo===null?Rr.memoizedState=Bo=e:Bo=Bo.next=e}return Bo}function tx(e,t){return typeof t=="function"?t(e):t}function rI(e){var t=qa(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=So,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if((Wp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Rr.lanes|=d,Yp|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,Ol(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Rr.lanes|=i,Yp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oI(e){var t=qa(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ol(i,t.memoizedState)||(_s=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function abe(){}function lbe(e,t){var n=Rr,r=qa(),o=t(),i=!Ol(r.memoizedState,o);if(i&&(r.memoizedState=o,_s=!0),r=r.queue,KL(dbe.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Bo!==null&&Bo.memoizedState.tag&1){if(n.flags|=2048,nx(9,ube.bind(null,n,r,o,t),void 0,null),Ho===null)throw Error(je(349));Wp&30||cbe(n,t,o)}return o}function cbe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ube(e,t,n,r){t.value=n,t.getSnapshot=r,fbe(t)&&hbe(e)}function dbe(e,t,n){return n(function(){fbe(t)&&hbe(e)})}function fbe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ol(e,n)}catch{return!0}}function hbe(e){var t=zu(e,1);t!==null&&Al(t,e,1,-1)}function SH(e){var t=ac();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tx,lastRenderedState:e},t.queue=e,e=e.dispatch=oUe.bind(null,Rr,e),[t.memoizedState,e]}function nx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pbe(){return qa().memoizedState}function U2(e,t,n,r){var o=ac();Rr.flags|=e,o.memoizedState=nx(1|t,n,void 0,r===void 0?null:r)}function Tj(e,t,n,r){var o=qa();r=r===void 0?null:r;var i=void 0;if(So!==null){var s=So.memoizedState;if(i=s.destroy,r!==null&&YL(r,s.deps)){o.memoizedState=nx(t,n,i,r);return}}Rr.flags|=e,o.memoizedState=nx(1|t,n,i,r)}function EH(e,t){return U2(8390656,8,e,t)}function KL(e,t){return Tj(2048,8,e,t)}function mbe(e,t){return Tj(4,2,e,t)}function gbe(e,t){return Tj(4,4,e,t)}function vbe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ybe(e,t,n){return n=n!=null?n.concat([e]):null,Tj(4,4,vbe.bind(null,t,e),n)}function ZL(){}function bbe(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&YL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xbe(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&YL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wbe(e,t,n){return Wp&21?(Ol(n,t)||(n=Sye(),Rr.lanes|=n,Yp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n)}function nUe(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var r=nI.transition;nI.transition={};try{e(!1),t()}finally{Sn=n,nI.transition=r}}function Cbe(){return qa().memoizedState}function rUe(e,t,n){var r=xf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_be(e))Sbe(t,n);else if(n=ebe(e,t,n,r),n!==null){var o=Ji();Al(n,e,r,o),Ebe(n,t,r)}}function oUe(e,t,n){var r=xf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_be(e))Sbe(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Ol(a,s)){var c=t.interleaved;c===null?(o.next=o,zL(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=ebe(e,t,o,r),n!==null&&(o=Ji(),Al(n,e,r,o),Ebe(n,t,r))}}function _be(e){var t=e.alternate;return e===Rr||t!==null&&t===Rr}function Sbe(e,t){tb=kE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ebe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jL(e,n)}}var jE={readContext:Ya,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},iUe={readContext:Ya,useCallback:function(e,t){return ac().memoizedState=[e,t===void 0?null:t],e},useContext:Ya,useEffect:EH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,U2(4194308,4,vbe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return U2(4194308,4,e,t)},useInsertionEffect:function(e,t){return U2(4,2,e,t)},useMemo:function(e,t){var n=ac();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ac();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rUe.bind(null,Rr,e),[r.memoizedState,e]},useRef:function(e){var t=ac();return e={current:e},t.memoizedState=e},useState:SH,useDebugValue:ZL,useDeferredValue:function(e){return ac().memoizedState=e},useTransition:function(){var e=SH(!1),t=e[0];return e=nUe.bind(null,e[1]),ac().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Rr,o=ac();if(wr){if(n===void 0)throw Error(je(407));n=n()}else{if(n=t(),Ho===null)throw Error(je(349));Wp&30||cbe(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,EH(dbe.bind(null,r,i,e),[e]),r.flags|=2048,nx(9,ube.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ac(),t=Ho.identifierPrefix;if(wr){var n=bu,r=yu;n=(r&~(1<<32-Tl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ex++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tUe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sUe={readContext:Ya,useCallback:bbe,useContext:Ya,useEffect:KL,useImperativeHandle:ybe,useInsertionEffect:mbe,useLayoutEffect:gbe,useMemo:xbe,useReducer:rI,useRef:pbe,useState:function(){return rI(tx)},useDebugValue:ZL,useDeferredValue:function(e){var t=qa();return wbe(t,So.memoizedState,e)},useTransition:function(){var e=rI(tx)[0],t=qa().memoizedState;return[e,t]},useMutableSource:abe,useSyncExternalStore:lbe,useId:Cbe,unstable_isNewReconciler:!1},aUe={readContext:Ya,useCallback:bbe,useContext:Ya,useEffect:KL,useImperativeHandle:ybe,useInsertionEffect:mbe,useLayoutEffect:gbe,useMemo:xbe,useReducer:oI,useRef:pbe,useState:function(){return oI(tx)},useDebugValue:ZL,useDeferredValue:function(e){var t=qa();return So===null?t.memoizedState=e:wbe(t,So.memoizedState,e)},useTransition:function(){var e=oI(tx)[0],t=qa().memoizedState;return[e,t]},useMutableSource:abe,useSyncExternalStore:lbe,useId:Cbe,unstable_isNewReconciler:!1};function Gv(e,t){try{var n="",r=t;do n+=$Ve(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function iI(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function AR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lUe=typeof WeakMap=="function"?WeakMap:Map;function kbe(e,t,n){n=ku(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){AE||(AE=!0,BR=r),AR(e,t)},n}function jbe(e,t,n){n=ku(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){AR(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){AR(e,t),typeof r!="function"&&(bf===null?bf=new Set([this]):bf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function kH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lUe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=CUe.bind(null,e,t,n),t.then(e,e))}function jH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ku(-1,1),t.tag=2,yf(n,t,1))),n.lanes|=1),e)}var cUe=cd.ReactCurrentOwner,_s=!1;function qi(e,t,n,r){t.child=e===null?ibe(t,null,n,r):Yv(t,e.child,n,r)}function AH(e,t,n,r,o){n=n.render;var i=t.ref;return lv(t,o),r=qL(e,t,n,r,i,o),n=GL(),e!==null&&!_s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vu(e,t,o)):(wr&&n&&$L(t),t.flags|=1,qi(e,t,r,o),t.child)}function DH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!o6(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Tbe(e,t,i,r,o)):(e=G2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gb,n(s,r)&&e.ref===t.ref)return Vu(e,t,o)}return t.flags|=1,e=wf(i,r),e.ref=t.ref,e.return=t,t.child=e}function Tbe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Gb(i,r)&&e.ref===t.ref)if(_s=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(_s=!0);else return t.lanes=e.lanes,Vu(e,t,o)}return DR(e,t,n,r,o)}function Abe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Vg,Hs),Hs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gn(Vg,Hs),Hs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Gn(Vg,Hs),Hs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Gn(Vg,Hs),Hs|=r;return qi(e,t,o,n),t.child}function Dbe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function DR(e,t,n,r,o){var i=Ts(n)?Hp:Pi.current;return i=Uv(t,i),lv(t,o),n=qL(e,t,n,r,i,o),r=GL(),e!==null&&!_s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vu(e,t,o)):(wr&&r&&$L(t),t.flags|=1,qi(e,t,n,o),t.child)}function IH(e,t,n,r,o){if(Ts(n)){var i=!0;bE(t)}else i=!1;if(lv(t,o),t.stateNode===null)W2(e,t),rbe(t,n,r),TR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ya(u):(u=Ts(n)?Hp:Pi.current,u=Uv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&CH(t,s,r,u),Md=!1;var p=t.memoizedState;s.state=p,SE(t,r,s,o),c=t.memoizedState,a!==r||p!==c||js.current||Md?(typeof d=="function"&&(jR(t,n,d,r),c=t.memoizedState),(a=Md||wH(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,tbe(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ya(c):(c=Ts(n)?Hp:Pi.current,c=Uv(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&CH(t,s,r,c),Md=!1,p=t.memoizedState,s.state=p,SE(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||js.current||Md?(typeof m=="function"&&(jR(t,n,m,r),v=t.memoizedState),(u=Md||wH(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return IR(e,t,n,r,i,o)}function IR(e,t,n,r,o,i){Dbe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&gH(t,n,!1),Vu(e,t,i);r=t.stateNode,cUe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Yv(t,e.child,null,i),t.child=Yv(t,null,a,i)):qi(e,t,a,i),t.memoizedState=r.state,o&&gH(t,n,!0),t.child}function Ibe(e){var t=e.stateNode;t.pendingContext?mH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mH(e,t.context,!1),HL(e,t.containerInfo)}function PH(e,t,n,r,o){return Wv(),FL(o),t.flags|=256,qi(e,t,n,r),t.child}var PR={dehydrated:null,treeContext:null,retryLane:0};function OR(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pbe(e,t,n){var r=t.pendingProps,o=Dr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Gn(Dr,o&1),e===null)return ER(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ij(s,r,0,null),e=Sp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=OR(n),t.memoizedState=PR,e):XL(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return uUe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=wf(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=wf(a,i):(i=Sp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?OR(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=PR,r}return i=e.child,e=i.sibling,r=wf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function XL(e,t){return t=Ij({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function t_(e,t,n,r){return r!==null&&FL(r),Yv(t,e.child,null,n),e=XL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uUe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=iI(Error(je(422))),t_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ij({mode:"visible",children:r.children},o,0,null),i=Sp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Yv(t,e.child,null,s),t.child.memoizedState=OR(s),t.memoizedState=PR,i);if(!(t.mode&1))return t_(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(je(419)),r=iI(i,r,void 0),t_(e,t,s,r)}if(a=(s&e.childLanes)!==0,_s||a){if(r=Ho,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,zu(e,o),Al(r,e,o,-1))}return r6(),r=iI(Error(je(421))),t_(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=_Ue.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Xs=vf(o.nextSibling),ta=t,wr=!0,gl=null,e!==null&&(ja[Ta++]=yu,ja[Ta++]=bu,ja[Ta++]=Up,yu=e.id,bu=e.overflow,Up=t),t=XL(t,r.children),t.flags|=4096,t)}function OH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kR(e.return,t,n)}function sI(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Obe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(qi(e,t,r.children,n),r=Dr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OH(e,n,t);else if(e.tag===19)OH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gn(Dr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&EE(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),sI(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&EE(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}sI(t,!0,n,null,i);break;case"together":sI(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function W2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,n=wf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dUe(e,t,n){switch(t.tag){case 3:Ibe(t),Wv();break;case 5:sbe(t);break;case 1:Ts(t.type)&&bE(t);break;case 4:HL(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Gn(CE,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gn(Dr,Dr.current&1),t.flags|=128,null):n&t.child.childLanes?Pbe(e,t,n):(Gn(Dr,Dr.current&1),e=Vu(e,t,n),e!==null?e.sibling:null);Gn(Dr,Dr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Obe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Gn(Dr,Dr.current),r)break;return null;case 22:case 23:return t.lanes=0,Abe(e,t,n)}return Vu(e,t,n)}var Rbe,RR,$be,Mbe;Rbe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};RR=function(){};$be=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ap(kc.current);var i=null;switch(n){case"input":o=nR(e,o),r=nR(e,r),i=[];break;case"select":o=Mr({},o,{value:void 0}),r=Mr({},r,{value:void 0}),i=[];break;case"textarea":o=iR(e,o),r=iR(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vE)}aR(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rr("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Mbe=function(e,t,n,r){n!==r&&(t.flags|=4)};function F1(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fUe(e,t,n){var r=t.pendingProps;switch(ML(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(t),null;case 1:return Ts(t.type)&&yE(),vi(t),null;case 3:return r=t.stateNode,qv(),ar(js),ar(Pi),WL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(JC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gl!==null&&(VR(gl),gl=null))),RR(e,t),vi(t),null;case 5:UL(t);var o=ap(Jb.current);if(n=t.type,e!==null&&t.stateNode!=null)$be(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(je(166));return vi(t),null}if(e=ap(kc.current),JC(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gc]=t,r[Xb]=i,e=(t.mode&1)!==0,n){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(o=0;o<jy.length;o++)rr(jy[o],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":VV(r,i),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rr("invalid",r);break;case"textarea":UV(r,i),rr("invalid",r)}aR(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&QC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&QC(r.textContent,a,e),o=["children",""+a]):zb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rr("scroll",r)}switch(n){case"input":UC(r),HV(r,i,!0);break;case"textarea":UC(r),WV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vE)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cye(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[gc]=t,e[Xb]=r,Rbe(e,t,!1,!1),t.stateNode=e;e:{switch(s=lR(n,r),n){case"dialog":rr("cancel",e),rr("close",e),o=r;break;case"iframe":case"object":case"embed":rr("load",e),o=r;break;case"video":case"audio":for(o=0;o<jy.length;o++)rr(jy[o],e);o=r;break;case"source":rr("error",e),o=r;break;case"img":case"image":case"link":rr("error",e),rr("load",e),o=r;break;case"details":rr("toggle",e),o=r;break;case"input":VV(e,r),o=nR(e,r),rr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Mr({},r,{value:void 0}),rr("invalid",e);break;case"textarea":UV(e,r),o=iR(e,r),rr("invalid",e);break;default:o=r}aR(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?fye(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uye(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vb(e,c):typeof c=="number"&&Vb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",e):c!=null&&wL(e,i,c,s))}switch(n){case"input":UC(e),HV(e,r,!1);break;case"textarea":UC(e),WV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lf(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ov(e,!!r.multiple,i,!1):r.defaultValue!=null&&ov(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=vE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vi(t),null;case 6:if(e&&t.stateNode!=null)Mbe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(je(166));if(n=ap(Jb.current),ap(kc.current),JC(t)){if(r=t.stateNode,n=t.memoizedProps,r[gc]=t,(i=r.nodeValue!==n)&&(e=ta,e!==null))switch(e.tag){case 3:QC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&QC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gc]=t,t.stateNode=r}return vi(t),null;case 13:if(ar(Dr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&Xs!==null&&t.mode&1&&!(t.flags&128))Jye(),Wv(),t.flags|=98560,i=!1;else if(i=JC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(je(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[gc]=t}else Wv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vi(t),i=!1}else gl!==null&&(VR(gl),gl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dr.current&1?jo===0&&(jo=3):r6())),t.updateQueue!==null&&(t.flags|=4),vi(t),null);case 4:return qv(),RR(e,t),e===null&&Kb(t.stateNode.containerInfo),vi(t),null;case 10:return NL(t.type._context),vi(t),null;case 17:return Ts(t.type)&&yE(),vi(t),null;case 19:if(ar(Dr),i=t.memoizedState,i===null)return vi(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)F1(i,!1);else{if(jo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=EE(e),s!==null){for(t.flags|=128,F1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gn(Dr,Dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xr()>Kv&&(t.flags|=128,r=!0,F1(i,!1),t.lanes=4194304)}else{if(!r)if(e=EE(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),F1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!wr)return vi(t),null}else 2*Xr()-i.renderingStartTime>Kv&&n!==1073741824&&(t.flags|=128,r=!0,F1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xr(),t.sibling=null,n=Dr.current,Gn(Dr,r?n&1|2:n&1),t):(vi(t),null);case 22:case 23:return n6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Hs&1073741824&&(vi(t),t.subtreeFlags&6&&(t.flags|=8192)):vi(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function hUe(e,t){switch(ML(t),t.tag){case 1:return Ts(t.type)&&yE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qv(),ar(js),ar(Pi),WL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return UL(t),null;case 13:if(ar(Dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));Wv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ar(Dr),null;case 4:return qv(),null;case 10:return NL(t.type._context),null;case 22:case 23:return n6(),null;case 24:return null;default:return null}}var n_=!1,Ei=!1,pUe=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function zg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nr(e,t,r)}else n.current=null}function $R(e,t,n){try{n()}catch(r){Nr(e,t,r)}}var RH=!1;function mUe(e,t){if(yR=pE,e=Nye(),RL(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bR={focusedElem:e,selectionRange:n},pE=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:pl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(C){Nr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return v=RH,RH=!1,v}function nb(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&$R(t,n,i)}o=o.next}while(o!==r)}}function Aj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function MR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fbe(e){var t=e.alternate;t!==null&&(e.alternate=null,Fbe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gc],delete t[Xb],delete t[CR],delete t[XHe],delete t[QHe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lbe(e){return e.tag===5||e.tag===3||e.tag===4}function $H(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lbe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function FR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vE));else if(r!==4&&(e=e.child,e!==null))for(FR(e,t,n),e=e.sibling;e!==null;)FR(e,t,n),e=e.sibling}function LR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(LR(e,t,n),e=e.sibling;e!==null;)LR(e,t,n),e=e.sibling}var Xo=null,ml=!1;function Sd(e,t,n){for(n=n.child;n!==null;)Bbe(e,t,n),n=n.sibling}function Bbe(e,t,n){if(Ec&&typeof Ec.onCommitFiberUnmount=="function")try{Ec.onCommitFiberUnmount(wj,n)}catch{}switch(n.tag){case 5:Ei||zg(n,t);case 6:var r=Xo,o=ml;Xo=null,Sd(e,t,n),Xo=r,ml=o,Xo!==null&&(ml?(e=Xo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xo.removeChild(n.stateNode));break;case 18:Xo!==null&&(ml?(e=Xo,n=n.stateNode,e.nodeType===8?JD(e.parentNode,n):e.nodeType===1&&JD(e,n),Yb(e)):JD(Xo,n.stateNode));break;case 4:r=Xo,o=ml,Xo=n.stateNode.containerInfo,ml=!0,Sd(e,t,n),Xo=r,ml=o;break;case 0:case 11:case 14:case 15:if(!Ei&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&$R(n,t,s),o=o.next}while(o!==r)}Sd(e,t,n);break;case 1:if(!Ei&&(zg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nr(n,t,a)}Sd(e,t,n);break;case 21:Sd(e,t,n);break;case 22:n.mode&1?(Ei=(r=Ei)||n.memoizedState!==null,Sd(e,t,n),Ei=r):Sd(e,t,n);break;default:Sd(e,t,n)}}function MH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pUe),t.forEach(function(r){var o=SUe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function cl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xo=a.stateNode,ml=!1;break e;case 3:Xo=a.stateNode.containerInfo,ml=!0;break e;case 4:Xo=a.stateNode.containerInfo,ml=!0;break e}a=a.return}if(Xo===null)throw Error(je(160));Bbe(i,s,o),Xo=null,ml=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Nr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nbe(t,e),t=t.sibling}function Nbe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cl(t,e),Ql(e),r&4){try{nb(3,e,e.return),Aj(3,e)}catch(g){Nr(e,e.return,g)}try{nb(5,e,e.return)}catch(g){Nr(e,e.return,g)}}break;case 1:cl(t,e),Ql(e),r&512&&n!==null&&zg(n,n.return);break;case 5:if(cl(t,e),Ql(e),r&512&&n!==null&&zg(n,n.return),e.flags&32){var o=e.stateNode;try{Vb(o,"")}catch(g){Nr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&aye(o,i),lR(a,s);var u=lR(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?fye(o,f):d==="dangerouslySetInnerHTML"?uye(o,f):d==="children"?Vb(o,f):wL(o,d,f,u)}switch(a){case"input":rR(o,i);break;case"textarea":lye(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ov(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ov(o,!!i.multiple,i.defaultValue,!0):ov(o,!!i.multiple,i.multiple?[]:"",!1))}o[Xb]=i}catch(g){Nr(e,e.return,g)}}break;case 6:if(cl(t,e),Ql(e),r&4){if(e.stateNode===null)throw Error(je(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Nr(e,e.return,g)}}break;case 3:if(cl(t,e),Ql(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yb(t.containerInfo)}catch(g){Nr(e,e.return,g)}break;case 4:cl(t,e),Ql(e);break;case 13:cl(t,e),Ql(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(e6=Xr())),r&4&&MH(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ei=(u=Ei)||d,cl(t,e),Ei=u):cl(t,e),Ql(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(p=Ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:nb(4,p,p.return);break;case 1:zg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Nr(r,n,g)}}break;case 5:zg(p,p.return);break;case 22:if(p.memoizedState!==null){LH(f);continue}}m!==null?(m.return=p,Ue=m):LH(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=dye("display",s))}catch(g){Nr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Nr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cl(t,e),Ql(e),r&4&&MH(e);break;case 21:break;default:cl(t,e),Ql(e)}}function Ql(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lbe(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Vb(o,""),r.flags&=-33);var i=$H(e);LR(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=$H(e);FR(e,a,s);break;default:throw Error(je(161))}}catch(c){Nr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gUe(e,t,n){Ue=e,zbe(e)}function zbe(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var o=Ue,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||n_;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Ei;a=n_;var u=Ei;if(n_=s,(Ei=c)&&!u)for(Ue=o;Ue!==null;)s=Ue,c=s.child,s.tag===22&&s.memoizedState!==null?BH(o):c!==null?(c.return=s,Ue=c):BH(o);for(;i!==null;)Ue=i,zbe(i),i=i.sibling;Ue=o,n_=a,Ei=u}FH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ue=i):FH(e)}}function FH(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ei||Aj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ei)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:pl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xH(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Ei||t.flags&512&&MR(t)}catch(p){Nr(t,t.return,p)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function LH(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function BH(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Aj(4,t)}catch(c){Nr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Nr(t,o,c)}}var i=t.return;try{MR(t)}catch(c){Nr(t,i,c)}break;case 5:var s=t.return;try{MR(t)}catch(c){Nr(t,s,c)}}}catch(c){Nr(t,t.return,c)}if(t===e){Ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ue=a;break}Ue=t.return}}var vUe=Math.ceil,TE=cd.ReactCurrentDispatcher,QL=cd.ReactCurrentOwner,La=cd.ReactCurrentBatchConfig,sn=0,Ho=null,ho=null,si=0,Hs=0,Vg=th(0),jo=0,rx=null,Yp=0,Dj=0,JL=0,rb=null,ys=null,e6=0,Kv=1/0,du=null,AE=!1,BR=null,bf=null,r_=!1,Zd=null,DE=0,ob=0,NR=null,Y2=-1,q2=0;function Ji(){return sn&6?Xr():Y2!==-1?Y2:Y2=Xr()}function xf(e){return e.mode&1?sn&2&&si!==0?si&-si:eUe.transition!==null?(q2===0&&(q2=Sye()),q2):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:Iye(e.type)),e):1}function Al(e,t,n,r){if(50<ob)throw ob=0,NR=null,Error(je(185));Cw(e,n,r),(!(sn&2)||e!==Ho)&&(e===Ho&&(!(sn&2)&&(Dj|=n),jo===4&&Wd(e,si)),As(e,r),n===1&&sn===0&&!(t.mode&1)&&(Kv=Xr()+500,kj&&nh()))}function As(e,t){var n=e.callbackNode;eHe(e,t);var r=hE(e,e===Ho?si:0);if(r===0)n!==null&&GV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&GV(n),t===1)e.tag===0?JHe(NH.bind(null,e)):Zye(NH.bind(null,e)),KHe(function(){!(sn&6)&&nh()}),n=null;else{switch(Eye(r)){case 1:n=kL;break;case 4:n=Cye;break;case 16:n=fE;break;case 536870912:n=_ye;break;default:n=fE}n=Kbe(n,Vbe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vbe(e,t){if(Y2=-1,q2=0,sn&6)throw Error(je(327));var n=e.callbackNode;if(cv()&&e.callbackNode!==n)return null;var r=hE(e,e===Ho?si:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=IE(e,r);else{t=r;var o=sn;sn|=2;var i=Ube();(Ho!==e||si!==t)&&(du=null,Kv=Xr()+500,_p(e,t));do try{xUe();break}catch(a){Hbe(e,a)}while(1);BL(),TE.current=i,sn=o,ho!==null?t=0:(Ho=null,si=0,t=jo)}if(t!==0){if(t===2&&(o=hR(e),o!==0&&(r=o,t=zR(e,o))),t===1)throw n=rx,_p(e,0),Wd(e,r),As(e,Xr()),n;if(t===6)Wd(e,r);else{if(o=e.current.alternate,!(r&30)&&!yUe(o)&&(t=IE(e,r),t===2&&(i=hR(e),i!==0&&(r=i,t=zR(e,i))),t===1))throw n=rx,_p(e,0),Wd(e,r),As(e,Xr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(je(345));case 2:$h(e,ys,du);break;case 3:if(Wd(e,r),(r&130023424)===r&&(t=e6+500-Xr(),10<t)){if(hE(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ji(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=wR($h.bind(null,e,ys,du),t);break}$h(e,ys,du);break;case 4:if(Wd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Tl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vUe(r/1960))-r,10<r){e.timeoutHandle=wR($h.bind(null,e,ys,du),r);break}$h(e,ys,du);break;case 5:$h(e,ys,du);break;default:throw Error(je(329))}}}return As(e,Xr()),e.callbackNode===n?Vbe.bind(null,e):null}function zR(e,t){var n=rb;return e.current.memoizedState.isDehydrated&&(_p(e,t).flags|=256),e=IE(e,t),e!==2&&(t=ys,ys=n,t!==null&&VR(t)),e}function VR(e){ys===null?ys=e:ys.push.apply(ys,e)}function yUe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ol(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wd(e,t){for(t&=~JL,t&=~Dj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tl(t),r=1<<n;e[n]=-1,t&=~r}}function NH(e){if(sn&6)throw Error(je(327));cv();var t=hE(e,0);if(!(t&1))return As(e,Xr()),null;var n=IE(e,t);if(e.tag!==0&&n===2){var r=hR(e);r!==0&&(t=r,n=zR(e,r))}if(n===1)throw n=rx,_p(e,0),Wd(e,t),As(e,Xr()),n;if(n===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$h(e,ys,du),As(e,Xr()),null}function t6(e,t){var n=sn;sn|=1;try{return e(t)}finally{sn=n,sn===0&&(Kv=Xr()+500,kj&&nh())}}function qp(e){Zd!==null&&Zd.tag===0&&!(sn&6)&&cv();var t=sn;sn|=1;var n=La.transition,r=Sn;try{if(La.transition=null,Sn=1,e)return e()}finally{Sn=r,La.transition=n,sn=t,!(sn&6)&&nh()}}function n6(){Hs=Vg.current,ar(Vg)}function _p(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,GHe(n)),ho!==null)for(n=ho.return;n!==null;){var r=n;switch(ML(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yE();break;case 3:qv(),ar(js),ar(Pi),WL();break;case 5:UL(r);break;case 4:qv();break;case 13:ar(Dr);break;case 19:ar(Dr);break;case 10:NL(r.type._context);break;case 22:case 23:n6()}n=n.return}if(Ho=e,ho=e=wf(e.current,null),si=Hs=t,jo=0,rx=null,JL=Dj=Yp=0,ys=rb=null,sp!==null){for(t=0;t<sp.length;t++)if(n=sp[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}sp=null}return e}function Hbe(e,t){do{var n=ho;try{if(BL(),H2.current=jE,kE){for(var r=Rr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}kE=!1}if(Wp=0,Bo=So=Rr=null,tb=!1,ex=0,QL.current=null,n===null||n.return===null){jo=1,rx=t,ho=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=si,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=jH(s);if(m!==null){m.flags&=-257,TH(m,s,a,i,t),m.mode&1&&kH(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){kH(i,u,t),r6();break e}c=Error(je(426))}}else if(wr&&a.mode&1){var y=jH(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),TH(y,s,a,i,t),FL(Gv(c,a));break e}}i=c=Gv(c,a),jo!==4&&(jo=2),rb===null?rb=[i]:rb.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=kbe(i,c,t);bH(i,x);break e;case 1:a=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bf===null||!bf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=jbe(i,a,t);bH(i,C);break e}}i=i.return}while(i!==null)}Ybe(n)}catch(_){t=_,ho===n&&n!==null&&(ho=n=n.return);continue}break}while(1)}function Ube(){var e=TE.current;return TE.current=jE,e===null?jE:e}function r6(){(jo===0||jo===3||jo===2)&&(jo=4),Ho===null||!(Yp&268435455)&&!(Dj&268435455)||Wd(Ho,si)}function IE(e,t){var n=sn;sn|=2;var r=Ube();(Ho!==e||si!==t)&&(du=null,_p(e,t));do try{bUe();break}catch(o){Hbe(e,o)}while(1);if(BL(),sn=n,TE.current=r,ho!==null)throw Error(je(261));return Ho=null,si=0,jo}function bUe(){for(;ho!==null;)Wbe(ho)}function xUe(){for(;ho!==null&&!WVe();)Wbe(ho)}function Wbe(e){var t=Gbe(e.alternate,e,Hs);e.memoizedProps=e.pendingProps,t===null?Ybe(e):ho=t,QL.current=null}function Ybe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hUe(n,t),n!==null){n.flags&=32767,ho=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jo=6,ho=null;return}}else if(n=fUe(n,t,Hs),n!==null){ho=n;return}if(t=t.sibling,t!==null){ho=t;return}ho=t=e}while(t!==null);jo===0&&(jo=5)}function $h(e,t,n){var r=Sn,o=La.transition;try{La.transition=null,Sn=1,wUe(e,t,n,r)}finally{La.transition=o,Sn=r}return null}function wUe(e,t,n,r){do cv();while(Zd!==null);if(sn&6)throw Error(je(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(tHe(e,i),e===Ho&&(ho=Ho=null,si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||r_||(r_=!0,Kbe(fE,function(){return cv(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=La.transition,La.transition=null;var s=Sn;Sn=1;var a=sn;sn|=4,QL.current=null,mUe(e,n),Nbe(n,e),zHe(bR),pE=!!yR,bR=yR=null,e.current=n,gUe(n),YVe(),sn=a,Sn=s,La.transition=i}else e.current=n;if(r_&&(r_=!1,Zd=e,DE=o),i=e.pendingLanes,i===0&&(bf=null),KVe(n.stateNode),As(e,Xr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(AE)throw AE=!1,e=BR,BR=null,e;return DE&1&&e.tag!==0&&cv(),i=e.pendingLanes,i&1?e===NR?ob++:(ob=0,NR=e):ob=0,nh(),null}function cv(){if(Zd!==null){var e=Eye(DE),t=La.transition,n=Sn;try{if(La.transition=null,Sn=16>e?16:e,Zd===null)var r=!1;else{if(e=Zd,Zd=null,DE=0,sn&6)throw Error(je(331));var o=sn;for(sn|=4,Ue=e.current;Ue!==null;){var i=Ue,s=i.child;if(Ue.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:nb(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var p=d.sibling,m=d.return;if(Fbe(d),d===u){Ue=null;break}if(p!==null){p.return=m,Ue=p;break}Ue=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ue=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ue=s;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nb(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ue=x;break e}Ue=i.return}}var b=e.current;for(Ue=b;Ue!==null;){s=Ue;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ue=w;else e:for(s=b;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Aj(9,a)}}catch(_){Nr(a,a.return,_)}if(a===s){Ue=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ue=C;break e}Ue=a.return}}if(sn=o,nh(),Ec&&typeof Ec.onPostCommitFiberRoot=="function")try{Ec.onPostCommitFiberRoot(wj,e)}catch{}r=!0}return r}finally{Sn=n,La.transition=t}}return!1}function zH(e,t,n){t=Gv(n,t),t=kbe(e,t,1),e=yf(e,t,1),t=Ji(),e!==null&&(Cw(e,1,t),As(e,t))}function Nr(e,t,n){if(e.tag===3)zH(e,e,n);else for(;t!==null;){if(t.tag===3){zH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bf===null||!bf.has(r))){e=Gv(n,e),e=jbe(t,e,1),t=yf(t,e,1),e=Ji(),t!==null&&(Cw(t,1,e),As(t,e));break}}t=t.return}}function CUe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ji(),e.pingedLanes|=e.suspendedLanes&n,Ho===e&&(si&n)===n&&(jo===4||jo===3&&(si&130023424)===si&&500>Xr()-e6?_p(e,0):JL|=n),As(e,t)}function qbe(e,t){t===0&&(e.mode&1?(t=qC,qC<<=1,!(qC&130023424)&&(qC=4194304)):t=1);var n=Ji();e=zu(e,t),e!==null&&(Cw(e,t,n),As(e,n))}function _Ue(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qbe(e,n)}function SUe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(t),qbe(e,n)}var Gbe;Gbe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||js.current)_s=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _s=!1,dUe(e,t,n);_s=!!(e.flags&131072)}else _s=!1,wr&&t.flags&1048576&&Xye(t,wE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;W2(e,t),e=t.pendingProps;var o=Uv(t,Pi.current);lv(t,n),o=qL(null,t,r,e,o,n);var i=GL();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(i=!0,bE(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,VL(t),o.updater=jj,t.stateNode=o,o._reactInternals=t,TR(t,r,e,n),t=IR(null,t,r,!0,i,n)):(t.tag=0,wr&&i&&$L(t),qi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(W2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=kUe(r),e=pl(r,e),o){case 0:t=DR(null,t,r,e,n);break e;case 1:t=IH(null,t,r,e,n);break e;case 11:t=AH(null,t,r,e,n);break e;case 14:t=DH(null,t,r,pl(r.type,e),n);break e}throw Error(je(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),DR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),IH(e,t,r,o,n);case 3:e:{if(Ibe(t),e===null)throw Error(je(387));r=t.pendingProps,i=t.memoizedState,o=i.element,tbe(e,t),SE(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Gv(Error(je(423)),t),t=PH(e,t,r,n,o);break e}else if(r!==o){o=Gv(Error(je(424)),t),t=PH(e,t,r,n,o);break e}else for(Xs=vf(t.stateNode.containerInfo.firstChild),ta=t,wr=!0,gl=null,n=ibe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wv(),r===o){t=Vu(e,t,n);break e}qi(e,t,r,n)}t=t.child}return t;case 5:return sbe(t),e===null&&ER(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,xR(r,o)?s=null:i!==null&&xR(r,i)&&(t.flags|=32),Dbe(e,t),qi(e,t,s,n),t.child;case 6:return e===null&&ER(t),null;case 13:return Pbe(e,t,n);case 4:return HL(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yv(t,null,r,n):qi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),AH(e,t,r,o,n);case 7:return qi(e,t,t.pendingProps,n),t.child;case 8:return qi(e,t,t.pendingProps.children,n),t.child;case 12:return qi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Gn(CE,r._currentValue),r._currentValue=s,i!==null)if(Ol(i.value,s)){if(i.children===o.children&&!js.current){t=Vu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ku(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),kR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(je(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),kR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,lv(t,n),o=Ya(o),r=r(o),t.flags|=1,qi(e,t,r,n),t.child;case 14:return r=t.type,o=pl(r,t.pendingProps),o=pl(r.type,o),DH(e,t,r,o,n);case 15:return Tbe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),W2(e,t),t.tag=1,Ts(r)?(e=!0,bE(t)):e=!1,lv(t,n),rbe(t,r,o),TR(t,r,o,n),IR(null,t,r,!0,e,n);case 19:return Obe(e,t,n);case 22:return Abe(e,t,n)}throw Error(je(156,t.tag))};function Kbe(e,t){return wye(e,t)}function EUe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(e,t,n,r){return new EUe(e,t,n,r)}function o6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kUe(e){if(typeof e=="function")return o6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_L)return 11;if(e===SL)return 14}return 2}function wf(e,t){var n=e.alternate;return n===null?(n=Ra(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function G2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")o6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Pg:return Sp(n.children,o,i,t);case CL:s=8,o|=8;break;case Q3:return e=Ra(12,n,t,o|2),e.elementType=Q3,e.lanes=i,e;case J3:return e=Ra(13,n,t,o),e.elementType=J3,e.lanes=i,e;case eR:return e=Ra(19,n,t,o),e.elementType=eR,e.lanes=i,e;case oye:return Ij(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nye:s=10;break e;case rye:s=9;break e;case _L:s=11;break e;case SL:s=14;break e;case $d:s=16,r=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=Ra(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Sp(e,t,n,r){return e=Ra(7,e,r,t),e.lanes=n,e}function Ij(e,t,n,r){return e=Ra(22,e,r,t),e.elementType=oye,e.lanes=n,e.stateNode={isHidden:!1},e}function aI(e,t,n){return e=Ra(6,e,null,t),e.lanes=n,e}function lI(e,t,n){return t=Ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jUe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=VD(0),this.expirationTimes=VD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=VD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function i6(e,t,n,r,o,i,s,a,c){return e=new jUe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ra(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},VL(i),e}function TUe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ig,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zbe(e){if(!e)return Bf;e=e._reactInternals;e:{if(xm(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var n=e.type;if(Ts(n))return Kye(e,n,t)}return t}function Xbe(e,t,n,r,o,i,s,a,c){return e=i6(n,r,!0,e,o,i,s,a,c),e.context=Zbe(null),n=e.current,r=Ji(),o=xf(n),i=ku(r,o),i.callback=t??null,yf(n,i,o),e.current.lanes=o,Cw(e,o,r),As(e,r),e}function Pj(e,t,n,r){var o=t.current,i=Ji(),s=xf(o);return n=Zbe(n),t.context===null?t.context=n:t.pendingContext=n,t=ku(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yf(o,t,s),e!==null&&(Al(e,o,s,i),V2(e,o,s)),s}function PE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function s6(e,t){VH(e,t),(e=e.alternate)&&VH(e,t)}function AUe(){return null}var Qbe=typeof reportError=="function"?reportError:function(e){console.error(e)};function a6(e){this._internalRoot=e}Oj.prototype.render=a6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));Pj(e,t,null,null)};Oj.prototype.unmount=a6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qp(function(){Pj(null,e,null,null)}),t[Nu]=null}};function Oj(e){this._internalRoot=e}Oj.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tye();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ud.length&&t!==0&&t<Ud[n].priority;n++);Ud.splice(n,0,e),n===0&&Dye(e)}};function l6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HH(){}function DUe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=PE(s);i.call(u)}}var s=Xbe(t,r,e,0,null,!1,!1,"",HH);return e._reactRootContainer=s,e[Nu]=s.current,Kb(e.nodeType===8?e.parentNode:e),qp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=PE(c);a.call(u)}}var c=i6(e,0,!1,null,null,!1,!1,"",HH);return e._reactRootContainer=c,e[Nu]=c.current,Kb(e.nodeType===8?e.parentNode:e),qp(function(){Pj(t,c,n,r)}),c}function $j(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=PE(s);a.call(c)}}Pj(t,s,e,o)}else s=DUe(n,t,e,o,r);return PE(s)}kye=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ky(t.pendingLanes);n!==0&&(jL(t,n|1),As(t,Xr()),!(sn&6)&&(Kv=Xr()+500,nh()))}break;case 13:qp(function(){var r=zu(e,1);if(r!==null){var o=Ji();Al(r,e,1,o)}}),s6(e,1)}};TL=function(e){if(e.tag===13){var t=zu(e,134217728);if(t!==null){var n=Ji();Al(t,e,134217728,n)}s6(e,134217728)}};jye=function(e){if(e.tag===13){var t=xf(e),n=zu(e,t);if(n!==null){var r=Ji();Al(n,e,t,r)}s6(e,t)}};Tye=function(){return Sn};Aye=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};uR=function(e,t,n){switch(t){case"input":if(rR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ej(r);if(!o)throw Error(je(90));sye(r),rR(r,o)}}}break;case"textarea":lye(e,n);break;case"select":t=n.value,t!=null&&ov(e,!!n.multiple,t,!1)}};mye=t6;gye=qp;var IUe={usingClientEntryPoint:!1,Events:[Sw,Mg,Ej,hye,pye,t6]},L1={findFiberByHostInstance:ip,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PUe={bundleType:L1.bundleType,version:L1.version,rendererPackageName:L1.rendererPackageName,rendererConfig:L1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bye(e),e===null?null:e.stateNode},findFiberByHostInstance:L1.findFiberByHostInstance||AUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o_.isDisabled&&o_.supportsFiber)try{wj=o_.inject(PUe),Ec=o_}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IUe;fa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l6(t))throw Error(je(200));return TUe(e,t,null,n)};fa.createRoot=function(e,t){if(!l6(e))throw Error(je(299));var n=!1,r="",o=Qbe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=i6(e,1,!1,null,null,n,!1,r,o),e[Nu]=t.current,Kb(e.nodeType===8?e.parentNode:e),new a6(t)};fa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=bye(t),e=e===null?null:e.stateNode,e};fa.flushSync=function(e){return qp(e)};fa.hydrate=function(e,t,n){if(!Rj(t))throw Error(je(200));return $j(null,e,t,!0,n)};fa.hydrateRoot=function(e,t,n){if(!l6(e))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Qbe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Xbe(t,null,e,1,n??null,o,!1,i,s),e[Nu]=t.current,Kb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Oj(t)};fa.render=function(e,t,n){if(!Rj(t))throw Error(je(200));return $j(null,e,t,!1,n)};fa.unmountComponentAtNode=function(e){if(!Rj(e))throw Error(je(40));return e._reactRootContainer?(qp(function(){$j(null,null,e,!1,function(){e._reactRootContainer=null,e[Nu]=null})}),!0):!1};fa.unstable_batchedUpdates=t6;fa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rj(n))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return $j(e,t,n,!1,r)};fa.version="18.2.0-next-9e3b772b8-20220608";function Jbe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jbe)}catch(e){console.error(e)}}Jbe(),X1e.exports=fa;var vc=X1e.exports;const OUe=Pe(vc),exe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?OV({element:t.current,padding:n}).fn(o):{}:t?OV({element:t,padding:n}).fn(o):{}}}};var K2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function OE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!OE(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!OE(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function txe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UH(e,t){const n=txe(e);return Math.round(t*n)/n}function WH(e){const t=h.useRef(e);return K2(()=>{t.current=e}),t}function nxe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);OE(p,r)||m(r);const[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useCallback(R=>{R!=S.current&&(S.current=R,g(R))},[g]),w=h.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[x]),C=i||v,_=s||y,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=WH(c),T=WH(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),AVe(S.current,E.current,R).then(z=>{const B={...z,isPositioned:!0};D.current&&!OE(j.current,B)&&(j.current=B,vc.flushSync(()=>{f(B)}))})},[p,t,n,T]);K2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);K2(()=>(D.current=!0,()=>{D.current=!1}),[]),K2(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:w}),[b,w]),P=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!P.floating)return R;const z=UH(P.floating,d.x),B=UH(P.floating,d.y);return a?{...R,transform:"translate("+z+"px, "+B+"px)",...txe(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:B}},[n,a,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:P,floatingStyles:$}),[d,A,I,P,$])}const rxe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Mj=h.createContext({}),Fj=h.createContext(null),Lj=typeof document<"u",c6=Lj?h.useLayoutEffect:h.useEffect,oxe=h.createContext({strict:!1});function RUe(e,t,n,r){const{visualElement:o}=h.useContext(Mj),i=h.useContext(oxe),s=h.useContext(Fj),a=h.useContext(rxe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return c6(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=!1,d.current=!1)}),u}function Hg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $Ue(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hg(n)&&(n.current=r))},[t])}function ox(e){return typeof e=="string"||Array.isArray(e)}function Bj(e){return typeof e=="object"&&typeof e.start=="function"}const u6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d6=["initial",...u6];function Nj(e){return Bj(e.animate)||d6.some(t=>ox(e[t]))}function ixe(e){return!!(Nj(e)||e.variants)}function MUe(e,t){if(Nj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ox(n)?n:void 0,animate:ox(r)?r:void 0}}return e.inherit!==!1?t:{}}function FUe(e){const{initial:t,animate:n}=MUe(e,h.useContext(Mj));return h.useMemo(()=>({initial:t,animate:n}),[YH(t),YH(n)])}function YH(e){return Array.isArray(e)?e.join(" "):e}const qH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ix={};for(const e in qH)ix[e]={isEnabled:t=>qH[e].some(n=>!!t[n])};function LUe(e){for(const t in e)ix[t]={...ix[t],...e[t]}}const f6=h.createContext({}),sxe=h.createContext({}),BUe=Symbol.for("motionComponentSymbol");function NUe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&LUe(e);function i(a,c){let u;const d={...h.useContext(rxe),...a,layoutId:zUe(a)},{isStatic:f}=d,p=FUe(a),m=r(a,f);if(!f&&Lj){p.visualElement=RUe(o,m,d,t);const v=h.useContext(sxe),g=h.useContext(oxe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(Mj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,$Ue(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[BUe]=o,s}function zUe({layoutId:e}){const t=h.useContext(f6).id;return t&&e!==void 0?t+"-"+e:e}function VUe(e){function t(r,o={}){return NUe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const HUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h6(e){return typeof e!="string"||e.includes("-")?!1:!!(HUe.indexOf(e)>-1||/[A-Z]/.test(e))}const RE={};function UUe(e){Object.assign(RE,e)}const kw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wm=new Set(kw);function axe(e,{layout:t,layoutId:n}){return wm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!RE[e]||e==="opacity")}const Is=e=>!!(e&&e.getVelocity),WUe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YUe=kw.length;function qUe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<YUe;s++){const a=kw[s];if(e[a]!==void 0){const c=WUe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const lxe=e=>t=>typeof t=="string"&&t.startsWith(e),cxe=lxe("--"),HR=lxe("var(--"),GUe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,KUe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Nf=(e,t,n)=>Math.min(Math.max(n,e),t),Cm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ib={...Cm,transform:e=>Nf(0,1,e)},i_={...Cm,default:1},sb=e=>Math.round(e*1e5)/1e5,zj=/(-)?([\d]*\.?[\d])+/g,uxe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ZUe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function jw(e){return typeof e=="string"}const Tw=e=>({test:t=>jw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Id=Tw("deg"),jc=Tw("%"),st=Tw("px"),XUe=Tw("vh"),QUe=Tw("vw"),GH={...jc,parse:e=>jc.parse(e)/100,transform:e=>jc.transform(e*100)},KH={...Cm,transform:Math.round},dxe={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:Id,rotateX:Id,rotateY:Id,rotateZ:Id,scale:i_,scaleX:i_,scaleY:i_,scaleZ:i_,skew:Id,skewX:Id,skewY:Id,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:ib,originX:GH,originY:GH,originZ:st,zIndex:KH,fillOpacity:ib,strokeOpacity:ib,numOctaves:KH};function p6(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(cxe(f)){i[f]=p;continue}const m=dxe[f],v=KUe(p,m);if(wm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=qUe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const m6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fxe(e,t,n){for(const r in t)!Is(t[r])&&!axe(r,n)&&(e[r]=t[r])}function JUe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=m6();return p6(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function eWe(e,t,n){const r=e.style||{},o={};return fxe(o,r,e),Object.assign(o,JUe(e,t,n)),e.transformValues?e.transformValues(o):o}function tWe(e,t,n){const r={},o=eWe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const nWe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function $E(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||nWe.has(e)}let hxe=e=>!$E(e);function rWe(e){e&&(hxe=t=>t.startsWith("on")?!$E(t):e(t))}try{rWe(require("@emotion/is-prop-valid").default)}catch{}function oWe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(hxe(o)||n===!0&&$E(o)||!t&&!$E(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function ZH(e,t,n){return typeof e=="string"?e:st.transform(t+n*e)}function iWe(e,t,n){const r=ZH(t,e.x,e.width),o=ZH(n,e.y,e.height);return`${r} ${o}`}const sWe={offset:"stroke-dashoffset",array:"stroke-dasharray"},aWe={offset:"strokeDashoffset",array:"strokeDasharray"};function lWe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?sWe:aWe;e[i.offset]=st.transform(-r);const s=st.transform(t),a=st.transform(n);e[i.array]=`${s} ${a}`}function g6(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(p6(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=iWe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&lWe(m,s,a,c,!1)}const pxe=()=>({...m6(),attrs:{}}),v6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cWe(e,t,n,r){const o=h.useMemo(()=>{const i=pxe();return g6(i,t,{enableHardwareAcceleration:!1},v6(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};fxe(i,e.style,e),o.style={...i,...o.style}}return o}function uWe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(h6(n)?cWe:tWe)(r,i,s,n),d={...oWe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>Is(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const y6=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function mxe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const gxe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vxe(e,t,n,r){mxe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(gxe.has(o)?o:y6(o),t.attrs[o])}function b6(e,t){const{style:n}=e,r={};for(const o in n)(Is(n[o])||t.style&&Is(t.style[o])||axe(o,e))&&(r[o]=n[o]);return r}function yxe(e,t){const n=b6(e,t);for(const r in e)if(Is(e[r])||Is(t[r])){const o=kw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function x6(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function bxe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const ME=e=>Array.isArray(e),dWe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),fWe=e=>ME(e)?e[e.length-1]||0:e;function Z2(e){const t=Is(e)?e.get():e;return dWe(t)?t.toValue():t}function hWe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:pWe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const xxe=e=>(t,n)=>{const r=h.useContext(Mj),o=h.useContext(Fj),i=()=>hWe(e,t,r,o);return n?i():bxe(i)};function pWe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=Z2(i[p]);let{initial:s,animate:a}=e;const c=Nj(e),u=ixe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!Bj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=x6(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Vr=e=>e;class XH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function mWe(e){let t=new XH,n=new XH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const s_=["prepare","read","update","preRender","render","postRender"],gWe=40;function vWe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=s_.reduce((f,p)=>(f[p]=mWe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,gWe),1),o.timestamp=f,o.isProcessing=!0,s_.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:s_.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||c(),m.schedule(v,g,y)),f},{}),cancel:f=>s_.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Kn,cancel:Hu,state:$o,steps:cI}=vWe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),yWe={useVisualState:xxe({scrapeMotionValuesFromProps:yxe,createRenderState:pxe,onMount:(e,t,{renderState:n,latestValues:r})=>{Kn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Kn.render(()=>{g6(n,r,{enableHardwareAcceleration:!1},v6(t.tagName),e.transformTemplate),vxe(t,n)})}})},bWe={useVisualState:xxe({scrapeMotionValuesFromProps:b6,createRenderState:m6})};function xWe(e,{forwardMotionProps:t=!1},n,r){return{...h6(e)?yWe:bWe,preloadedFeatures:n,useRender:uWe(t),createVisualElement:r,Component:e}}function xu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const wxe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Vj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const wWe=e=>t=>wxe(t)&&e(t,Vj(t));function ju(e,t,n,r){return xu(e,t,wWe(n),r)}const CWe=(e,t)=>n=>t(e(n)),Cf=(...e)=>e.reduce(CWe);function Cxe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const QH=Cxe("dragHorizontal"),JH=Cxe("dragVertical");function _xe(e){let t=!1;if(e==="y")t=JH();else if(e==="x")t=QH();else{const n=QH(),r=JH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Sxe(){const e=_xe(!0);return e?(e(),!1):!0}class rh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function eU(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||Sxe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Kn.update(()=>a[r](i,s))};return ju(e.current,n,o,{passive:!e.getProps()[r]})}class _We extends rh{mount(){this.unmount=Cf(eU(this.node,!0),eU(this.node,!1))}unmount(){}}class SWe extends rh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cf(xu(this.node.current,"focus",()=>this.onFocus()),xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Exe=(e,t)=>t?e===t?!0:Exe(e,t.parentElement):!1;function uI(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Vj(n))}class EWe extends rh{constructor(){super(...arguments),this.removeStartListeners=Vr,this.removeEndListeners=Vr,this.removeAccessibleListeners=Vr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=ju(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Kn.update(()=>{Exe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=ju(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Cf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||uI("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Kn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=xu(this.node.current,"keyup",s),uI("down",(a,c)=>{this.startPress(a,c)})},n=xu(this.node.current,"keydown",t),r=()=>{this.isPressing&&uI("cancel",(i,s)=>this.cancelPress(i,s))},o=xu(this.node.current,"blur",r);this.removeAccessibleListeners=Cf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Kn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Sxe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Kn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ju(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=xu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Cf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const UR=new WeakMap,dI=new WeakMap,kWe=e=>{const t=UR.get(e.target);t&&t(e)},jWe=e=>{e.forEach(kWe)};function TWe({root:e,...t}){const n=e||document;dI.has(n)||dI.set(n,{});const r=dI.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(jWe,{root:e,...t})),r[o]}function AWe(e,t,n){const r=TWe(t);return UR.set(e,n),r.observe(e),()=>{UR.delete(e),r.unobserve(e)}}const DWe={some:0,all:1};class IWe extends rh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:DWe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return AWe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PWe(t,n))&&this.startObserver()}unmount(){}}function PWe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const OWe={inView:{Feature:IWe},tap:{Feature:EWe},focus:{Feature:SWe},hover:{Feature:_We}};function kxe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function RWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function $We(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Hj(e,t,n){const r=e.getProps();return x6(r,t,n!==void 0?n:r.custom,RWe(e),$We(e))}const MWe="framerAppearId",FWe="data-"+y6(MWe);let LWe=Vr,w6=Vr;const _f=e=>e*1e3,Tu=e=>e/1e3,BWe={current:!1},jxe=e=>Array.isArray(e)&&typeof e[0]=="number";function Txe(e){return!!(!e||typeof e=="string"&&Axe[e]||jxe(e)||Array.isArray(e)&&e.every(Txe))}const Ty=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Axe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ty([0,.65,.55,1]),circOut:Ty([.55,0,1,.45]),backIn:Ty([.31,.01,.66,-.59]),backOut:Ty([.33,1.53,.69,.99])};function Dxe(e){if(e)return jxe(e)?Ty(e):Array.isArray(e)?e.map(Dxe):Axe[e]}function NWe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Dxe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function zWe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ixe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VWe=1e-7,HWe=12;function UWe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=Ixe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>VWe&&++a<HWe);return s}function Aw(e,t,n,r){if(e===t&&n===r)return Vr;const o=i=>UWe(i,0,1,e,n);return i=>i===0||i===1?i:Ixe(o(i),t,r)}const WWe=Aw(.42,0,1,1),YWe=Aw(0,0,.58,1),Pxe=Aw(.42,0,.58,1),qWe=e=>Array.isArray(e)&&typeof e[0]!="number",Oxe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rxe=e=>t=>1-e(1-t),$xe=e=>1-Math.sin(Math.acos(e)),C6=Rxe($xe),GWe=Oxe(C6),Mxe=Aw(.33,1.53,.69,.99),_6=Rxe(Mxe),KWe=Oxe(_6),ZWe=e=>(e*=2)<1?.5*_6(e):.5*(2-Math.pow(2,-10*(e-1))),XWe={linear:Vr,easeIn:WWe,easeInOut:Pxe,easeOut:YWe,circIn:$xe,circInOut:GWe,circOut:C6,backIn:_6,backInOut:KWe,backOut:Mxe,anticipate:ZWe},tU=e=>{if(Array.isArray(e)){w6(e.length===4);const[t,n,r,o]=e;return Aw(t,n,r,o)}else if(typeof e=="string")return XWe[e];return e},S6=(e,t)=>n=>!!(jw(n)&&ZUe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Fxe=(e,t,n)=>r=>{if(!jw(r))return r;const[o,i,s,a]=r.match(zj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},QWe=e=>Nf(0,255,e),fI={...Cm,transform:e=>Math.round(QWe(e))},lp={test:S6("rgb","red"),parse:Fxe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+fI.transform(e)+", "+fI.transform(t)+", "+fI.transform(n)+", "+sb(ib.transform(r))+")"};function JWe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const WR={test:S6("#"),parse:JWe,transform:lp.transform},Ug={test:S6("hsl","hue"),parse:Fxe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+jc.transform(sb(t))+", "+jc.transform(sb(n))+", "+sb(ib.transform(r))+")"},Yi={test:e=>lp.test(e)||WR.test(e)||Ug.test(e),parse:e=>lp.test(e)?lp.parse(e):Ug.test(e)?Ug.parse(e):WR.parse(e),transform:e=>jw(e)?e:e.hasOwnProperty("red")?lp.transform(e):Ug.transform(e)},Ir=(e,t,n)=>-n*e+n*t+e;function hI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function eYe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=hI(c,a,e+1/3),i=hI(c,a,e),s=hI(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const pI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},tYe=[WR,lp,Ug],nYe=e=>tYe.find(t=>t.test(e));function nU(e){const t=nYe(e);let n=t.parse(e);return t===Ug&&(n=eYe(n)),n}const Lxe=(e,t)=>{const n=nU(e),r=nU(t),o={...n};return i=>(o.red=pI(n.red,r.red,i),o.green=pI(n.green,r.green,i),o.blue=pI(n.blue,r.blue,i),o.alpha=Ir(n.alpha,r.alpha,i),lp.transform(o))};function rYe(e){var t,n;return isNaN(e)&&jw(e)&&(((t=e.match(zj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(uxe))===null||n===void 0?void 0:n.length)||0)>0}const Bxe={regex:GUe,countKey:"Vars",token:"${v}",parse:Vr},Nxe={regex:uxe,countKey:"Colors",token:"${c}",parse:Yi.parse},zxe={regex:zj,countKey:"Numbers",token:"${n}",parse:Cm.parse};function mI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function FE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&mI(n,Bxe),mI(n,Nxe),mI(n,zxe),n}function Vxe(e){return FE(e).values}function Hxe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=FE(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(Bxe.token,s[c]):c<r+n?a=a.replace(Nxe.token,Yi.transform(s[c])):a=a.replace(zxe.token,sb(s[c]));return a}}const oYe=e=>typeof e=="number"?0:e;function iYe(e){const t=Vxe(e);return Hxe(e)(t.map(oYe))}const zf={test:rYe,parse:Vxe,createTransformer:Hxe,getAnimatableNone:iYe},Uxe=(e,t)=>n=>`${n>0?t:e}`;function Wxe(e,t){return typeof e=="number"?n=>Ir(e,t,n):Yi.test(e)?Lxe(e,t):e.startsWith("var(")?Uxe(e,t):qxe(e,t)}const Yxe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Wxe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},sYe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Wxe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},qxe=(e,t)=>{const n=zf.createTransformer(t),r=FE(e),o=FE(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Cf(Yxe(r.values,o.values),n):Uxe(e,t)},sx=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},rU=(e,t)=>n=>Ir(e,t,n);function aYe(e){return typeof e=="number"?rU:typeof e=="string"?Yi.test(e)?Lxe:qxe:Array.isArray(e)?Yxe:typeof e=="object"?sYe:rU}function lYe(e,t,n){const r=[],o=n||aYe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Vr:t;a=Cf(c,a)}r.push(a)}return r}function Gxe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(w6(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=lYe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=sx(e[d],e[d+1],u);return s[d](f)};return n?u=>c(Nf(e[0],e[i-1],u)):c}function cYe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=sx(0,t,r);e.push(Ir(n,1,o))}}function uYe(e){const t=[0];return cYe(t,e.length-1),t}function dYe(e,t){return e.map(n=>n*t)}function fYe(e,t){return e.map(()=>t||Pxe).splice(0,e.length-1)}function LE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=qWe(r)?r.map(tU):tU(r),i={done:!1,value:t[0]},s=dYe(n&&n.length===t.length?n:uYe(t),e),a=Gxe(s,t,{ease:Array.isArray(o)?o:fYe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Kxe(e,t){return t?e*(1e3/t):0}const hYe=5;function Zxe(e,t,n){const r=Math.max(t-hYe,0);return Kxe(n-e(r),t-r)}const gI=.001,pYe=.01,oU=10,mYe=.05,gYe=1;function vYe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;LWe(e<=_f(oU));let s=1-t;s=Nf(mYe,gYe,s),e=Nf(pYe,oU,Tu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=YR(u,s),v=Math.exp(-f);return gI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=YR(Math.pow(u,2),s);return(-o(u)+gI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-gI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=bYe(o,i,a);if(e=_f(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const yYe=12;function bYe(e,t,n){let r=n;for(let o=1;o<yYe;o++)r=r-e(r)/t(r);return r}function YR(e,t){return e*Math.sqrt(1-t*t)}const xYe=["duration","bounce"],wYe=["stiffness","damping","mass"];function iU(e,t){return t.some(n=>e[n]!==void 0)}function CYe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!iU(e,wYe)&&iU(e,xYe)){const n=vYe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Xxe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=CYe(r),m=d?-Tu(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,y=Tu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=YR(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=b(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=Zxe(b,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function sU({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const k=b(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=Xxe({keyframes:[p.value,v(p.value)],velocity:Zxe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const _Ye=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Kn.update(t,!0),stop:()=>Hu(t),now:()=>$o.isProcessing?$o.timestamp:performance.now()}},aU=2e4;function lU(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<aU;)t+=n,r=e.next(t);return t>=aU?1/0:t}const SYe={decay:sU,inertia:sU,tween:LE,keyframes:LE,spring:Xxe};function BE({autoplay:e=!0,delay:t=0,driver:n=_Ye,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(V=>{g=V})};x();let b;const w=SYe[o]||LE;let C;w!==LE&&typeof r[0]!="number"&&(C=Gxe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=lU(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let P=0;const $=V=>{if(k===null)return;m>0&&(k=Math.min(k,V)),m<0&&(k=Math.min(V-I/m,k)),j!==null?P=j:P=Math.round(V-k)*m;const G=P-t*(m>=0?1:-1),te=m>=0?G<0:G>I;P=Math.max(G,0),E==="finished"&&j===null&&(P=I);let N=P,Y=_;if(i){const re=P/D;let K=Math.floor(re),Q=re%1;!Q&&re>=1&&(Q=1),Q===1&&K--,K=Math.min(K,i+1);const le=!!(K%2);le&&(a==="reverse"?(Q=1-Q,s&&(Q-=s/D)):a==="mirror"&&(Y=S));let me=Nf(0,1,Q);P>I&&(me=a==="reverse"&&le?1:0),N=me*D}const q=te?{done:!1,value:r[0]}:Y.next(N);C&&(q.value=C(q.value));let{done:Z}=q;!te&&A!==null&&(Z=m>=0?P>=I:P<=0);const se=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(q.value),se&&B(),q},R=()=>{b&&b.stop(),b=void 0},z=()=>{E="idle",R(),g(),x(),k=T=null},B=()=>{E="finished",d&&d(),R(),g()},H=()=>{if(v)return;b||(b=n($));const V=b.now();c&&c(),j!==null?k=V-j:(!k||E==="finished")&&(k=V),E==="finished"&&x(),T=k,j=null,E="running",b.start()};e&&H();const W={then(V,G){return y.then(V,G)},get time(){return Tu(P)},set time(V){V=_f(V),P=V,j!==null||!b||m===0?j=V:k=b.now()-V/m},get duration(){const V=_.calculatedDuration===null?lU(_):_.calculatedDuration;return Tu(V)},get speed(){return m},set speed(V){V===m||!b||(m=V,W.time=Tu(P))},get state(){return E},play:H,pause:()=>{E="paused",j=P},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),z())},cancel:()=>{T!==null&&$(T),z()},complete:()=>{E="finished"},sample:V=>(k=0,$(V))};return W}function EYe(e){let t;return()=>(t===void 0&&(t=e()),t)}const kYe=EYe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jYe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),a_=10,TYe=2e4,AYe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Txe(t.ease);function DYe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(kYe()&&jYe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(AYe(t,o)){const b=BE({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<TYe;)w=b.sample(_),C.push(w.value),_+=a_;m=void 0,d=C,f=_-a_,p="linear"}const v=NWe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=$o.isProcessing?$o.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),y=()=>{Kn.update(g),a(),u()};return v.onfinish=()=>{e.set(zWe(d,o)),r&&r(),y()},{then(b,w){return c.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,Vr},get time(){return Tu(v.currentTime||0)},set time(b){v.currentTime=_f(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return Tu(f)},play:()=>{s||(v.play(),Hu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=BE({...o,autoplay:!1});e.setWithVelocity(w.sample(b-a_).value,w.sample(b).value,a_)}y()},complete:()=>v.finish(),cancel:y}}function IYe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Vr,pause:Vr,stop:Vr,then:i=>(i(),Promise.resolve()),cancel:Vr,complete:Vr});return t?BE({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const PYe={type:"spring",stiffness:500,damping:25,restSpeed:10},OYe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RYe={type:"keyframes",duration:.8},$Ye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MYe=(e,{keyframes:t})=>t.length>2?RYe:wm.has(e)?e.startsWith("scale")?OYe(t[1]):PYe:$Ye,qR=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zf.test(t)||t==="0")&&!t.startsWith("url(")),FYe=new Set(["brightness","contrast","saturate","opacity"]);function LYe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(zj)||[];if(!r)return e;const o=n.replace(r,"");let i=FYe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const BYe=/([a-z-]*)\(.*?\)/g,GR={...zf,getAnimatableNone:e=>{const t=e.match(BYe);return t?t.map(LYe).join(" "):e}},NYe={...dxe,color:Yi,backgroundColor:Yi,outlineColor:Yi,fill:Yi,stroke:Yi,borderColor:Yi,borderTopColor:Yi,borderRightColor:Yi,borderBottomColor:Yi,borderLeftColor:Yi,filter:GR,WebkitFilter:GR},E6=e=>NYe[e];function Qxe(e,t){let n=E6(e);return n!==GR&&(n=zf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Jxe=e=>/^0[^.\s]+$/.test(e);function zYe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Jxe(e)}function VYe(e,t,n,r){const o=qR(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),zYe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Qxe(t,a)}return i}function HYe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function k6(e,t){return e[t]||e.default||e}const j6=(e,t,n,r={})=>o=>{const i=k6(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-_f(s);const c=VYe(t,e,n,i),u=c[0],d=c[c.length-1],f=qR(e,u),p=qR(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(HYe(i)||(m={...m,...MYe(e,m)}),m.duration&&(m.duration=_f(m.duration)),m.repeatDelay&&(m.repeatDelay=_f(m.repeatDelay)),!f||!p||BWe.current||i.type===!1)return IYe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=DYe(t,e,m);if(v)return v}return BE(m)};function NE(e){return!!(Is(e)&&e.add)}const ewe=e=>/^\-?\d*\.?\d+$/.test(e);function T6(e,t){e.indexOf(t)===-1&&e.push(t)}function A6(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class D6{constructor(){this.subscriptions=[]}add(t){return T6(this.subscriptions,t),()=>A6(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const UYe=e=>!isNaN(parseFloat(e));class WYe{constructor(t,n={}){this.version="10.16.9",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=$o;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Kn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Kn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=UYe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new D6);const r=this.events[t].add(n);return t==="change"?()=>{r(),Kn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Kxe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zv(e,t){return new WYe(e,t)}const twe=e=>t=>t.test(e),YYe={test:e=>e==="auto",parse:e=>e},nwe=[Cm,st,jc,Id,QUe,XUe,YYe],B1=e=>nwe.find(twe(e)),qYe=[...nwe,Yi,zf],GYe=e=>qYe.find(twe(e));function KYe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zv(n))}function ZYe(e,t){const n=Hj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=fWe(i[s]);KYe(e,s,a)}}function XYe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(ewe(d)||Jxe(d))?d=parseFloat(d):!GYe(d)&&zf.test(u)&&(d=Qxe(c,u)),e.addValue(c,Zv(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function QYe(e,t){return t?(t[e]||t.default||t).from:void 0}function JYe(e,t,n){const r={};for(const o in e){const i=QYe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function eqe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function rwe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&eqe(d,f))continue;const v={delay:n,elapsed:0,...k6(i||{},f)};let g=!0;if(window.HandoffAppearAnimations&&!p.hasAnimated){const b=e.getProps()[FWe];b&&(g=!1,v.elapsed=window.HandoffAppearAnimations(b,f,p,Kn),v.syncStart=!0)}let y=g&&m===p.get();if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(y=!1),y||g&&m===p.get()&&(v.type!=="spring"||!p.getVelocity()&&!v.velocity))continue;p.start(j6(f,p,m,e.shouldReduceMotion&&wm.has(f)?{type:!1}:v));const x=p.animation;NE(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return s&&Promise.all(u).then(()=>{s&&ZYe(e,s)}),u}function KR(e,t,n={}){const r=Hj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(rwe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return tqe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function tqe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(nqe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(KR(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function nqe(e,t){return e.sortNodePosition(t)}function rqe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>KR(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=KR(e,t,n);else{const o=typeof t=="function"?Hj(e,t,n.custom):t;r=Promise.all(rwe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const oqe=[...u6].reverse(),iqe=u6.length;function sqe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>rqe(e,n,r)))}function aqe(e){let t=sqe(e);const n=cqe();let r=!0;const o=(c,u)=>{const d=Hj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<iqe;x++){const b=oqe[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=ox(C),S=b===u?w.isActive:null;S===!1&&(g=x);let E=C===f[b]&&C!==d[b]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||Bj(C)||typeof C=="boolean")continue;const j=lqe(w.prevProp,C);let k=j||b===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},P=$=>{k=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],z=D[$];v.hasOwnProperty($)||(R!==z?ME(R)&&ME(z)?!kxe(R,z)||j?P($):w.protectedKeys[$]=!0:R!==void 0?P($):m.add($):R!==void 0&&m.has($)?P($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map($=>({animation:$,options:{type:b,...c}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function lqe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kxe(t,e):!1}function _h(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cqe(){return{animate:_h(!0),whileInView:_h(),whileHover:_h(),whileTap:_h(),whileDrag:_h(),whileFocus:_h(),exit:_h()}}class uqe extends rh{constructor(t){super(t),t.animationState||(t.animationState=aqe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Bj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let dqe=0;class fqe extends rh{constructor(){super(...arguments),this.id=dqe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hqe={animation:{Feature:uqe},exit:{Feature:fqe}},cU=(e,t)=>Math.abs(e-t);function pqe(e,t){const n=cU(e.x,t.x),r=cU(e.y,t.y);return Math.sqrt(n**2+r**2)}class owe{constructor(t,n,{transformPagePoint:r,contextWindow:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=yI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=pqe(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:v}=$o;this.history.push({...m,timestamp:v});const{onStart:g,onMove:y}=this.handlers;f||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=vI(f,this.transformPagePoint),Kn.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:p,onSessionEnd:m}=this.handlers,v=yI(d.type==="pointercancel"?this.lastMoveEventInfo:vI(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),m&&m(d,v)},!wxe(t))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=Vj(t),s=vI(i,this.transformPagePoint),{point:a}=s,{timestamp:c}=$o;this.history=[{...a,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,yI(s,this.history)),this.removeListeners=Cf(ju(this.contextWindow,"pointermove",this.handlePointerMove),ju(this.contextWindow,"pointerup",this.handlePointerUp),ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hu(this.updatePoint)}}function vI(e,t){return t?{point:t(e.point)}:e}function uU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yI({point:e},t){return{point:e,delta:uU(e,iwe(t)),offset:uU(e,mqe(t)),velocity:gqe(t,.1)}}function mqe(e){return e[0]}function iwe(e){return e[e.length-1]}function gqe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=iwe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>_f(t)));)n--;if(!r)return{x:0,y:0};const i=Tu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ia(e){return e.max-e.min}function ZR(e,t=0,n=.01){return Math.abs(e-t)<=n}function dU(e,t,n,r=.5){e.origin=r,e.originPoint=Ir(t.min,t.max,e.origin),e.scale=ia(n)/ia(t),(ZR(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ir(n.min,n.max,e.origin)-e.originPoint,(ZR(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ab(e,t,n,r){dU(e.x,t.x,n.x,r?r.originX:void 0),dU(e.y,t.y,n.y,r?r.originY:void 0)}function fU(e,t,n){e.min=n.min+t.min,e.max=e.min+ia(t)}function vqe(e,t,n){fU(e.x,t.x,n.x),fU(e.y,t.y,n.y)}function hU(e,t,n){e.min=t.min-n.min,e.max=e.min+ia(t)}function lb(e,t,n){hU(e.x,t.x,n.x),hU(e.y,t.y,n.y)}function yqe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ir(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ir(n,e,r.max):Math.min(e,n)),e}function pU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bqe(e,{top:t,left:n,bottom:r,right:o}){return{x:pU(e.x,n,o),y:pU(e.y,t,r)}}function mU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xqe(e,t){return{x:mU(e.x,t.x),y:mU(e.y,t.y)}}function wqe(e,t){let n=.5;const r=ia(e),o=ia(t);return o>r?n=sx(t.min,t.max-r,e.min):r>o&&(n=sx(e.min,e.max-o,t.min)),Nf(0,1,n)}function Cqe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const XR=.35;function _qe(e=XR){return e===!1?e=0:e===!0&&(e=XR),{x:gU(e,"left","right"),y:gU(e,"top","bottom")}}function gU(e,t,n){return{min:vU(e,t),max:vU(e,n)}}function vU(e,t){return typeof e=="number"?e:e[t]||0}const yU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wg=()=>({x:yU(),y:yU()}),bU=()=>({min:0,max:0}),io=()=>({x:bU(),y:bU()});function lc(e){return[e("x"),e("y")]}function swe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Sqe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Eqe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bI(e){return e===void 0||e===1}function QR({scale:e,scaleX:t,scaleY:n}){return!bI(e)||!bI(t)||!bI(n)}function Mh(e){return QR(e)||awe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function awe(e){return xU(e.x)||xU(e.y)}function xU(e){return e&&e!=="0%"}function zE(e,t,n){const r=e-n,o=t*r;return n+o}function wU(e,t,n,r,o){return o!==void 0&&(e=zE(e,o,r)),zE(e,n,r)+t}function JR(e,t=0,n=1,r,o){e.min=wU(e.min,t,n,r,o),e.max=wU(e.max,t,n,r,o)}function lwe(e,{x:t,y:n}){JR(e.x,t.translate,t.scale,t.originPoint),JR(e.y,n.translate,n.scale,n.originPoint)}function kqe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,lwe(e,s)),r&&Mh(i.latestValues)&&Yg(e,i.latestValues))}t.x=CU(t.x),t.y=CU(t.y)}function CU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fd(e,t){e.min=e.min+t,e.max=e.max+t}function _U(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Ir(e.min,e.max,i);JR(e,t[n],t[r],s,t.scale)}const jqe=["x","scaleX","originX"],Tqe=["y","scaleY","originY"];function Yg(e,t){_U(e.x,t,jqe),_U(e.y,t,Tqe)}function cwe(e,t){return swe(Eqe(e.getBoundingClientRect(),t))}function Aqe(e,t,n){const r=cwe(e,n),{scroll:o}=t;return o&&(Fd(r.x,o.offset.x),Fd(r.y,o.offset.y)),r}const uwe=({current:e})=>e?e.ownerDocument.defaultView:null,Dqe=new WeakMap;class Iqe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=io(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(Vj(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_xe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(jc.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=ia(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Kn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=Pqe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new owe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:uwe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Kn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!l_(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=yqe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Hg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=bqe(o.layoutBox,n):this.constraints=!1,this.elastic=_qe(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&lc(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Cqe(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=Aqe(r,o.root,this.visualElement.getTransformPagePoint());let s=xqe(o.layout.layoutBox,i);if(n){const a=n(Sqe(s));this.hasMutatedConstraints=!!a,a&&(s=swe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=lc(d=>{if(!l_(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(j6(t,r,0,n))}stopAnimation(){lc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){lc(n=>{const{drag:r}=this.getProps();if(!l_(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Ir(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};lc(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=wqe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lc(s=>{if(!l_(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Ir(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;Dqe.set(this.visualElement,this);const t=this.visualElement.current,n=ju(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Hg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=xu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(lc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=XR,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function l_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Pqe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Oqe extends rh{constructor(t){super(t),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new Iqe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const SU=e=>(t,n)=>{e&&Kn.update(()=>e(t,n))};class Rqe extends rh{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(t){this.session=new owe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uwe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:SU(t),onStart:SU(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Kn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=ju(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $qe(){const e=h.useContext(Fj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const X2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const N1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=EU(e,t.target.x),r=EU(e,t.target.y);return`${n}% ${r}%`}},Mqe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=zf.parse(e);if(o.length>5)return r;const i=zf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Ir(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class Fqe extends ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;UUe(Lqe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),X2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Kn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dwe(e){const[t,n]=$qe(),r=h.useContext(f6);return ne.createElement(Fqe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(sxe),isPresent:t,safeToRemove:n})}const Lqe={borderRadius:{...N1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:N1,borderTopRightRadius:N1,borderBottomLeftRadius:N1,borderBottomRightRadius:N1,boxShadow:Mqe},fwe=["TopLeft","TopRight","BottomLeft","BottomRight"],Bqe=fwe.length,kU=e=>typeof e=="string"?parseFloat(e):e,jU=e=>typeof e=="number"||st.test(e);function Nqe(e,t,n,r,o,i){o?(e.opacity=Ir(0,n.opacity!==void 0?n.opacity:1,zqe(r)),e.opacityExit=Ir(t.opacity!==void 0?t.opacity:1,0,Vqe(r))):i&&(e.opacity=Ir(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Bqe;s++){const a=`border${fwe[s]}Radius`;let c=TU(t,a),u=TU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jU(c)===jU(u)?(e[a]=Math.max(Ir(kU(c),kU(u),r),0),(jc.test(u)||jc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ir(t.rotate||0,n.rotate||0,r))}function TU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zqe=hwe(0,.5,C6),Vqe=hwe(.5,.95,Vr);function hwe(e,t,n){return r=>r<e?0:r>t?1:n(sx(e,t,r))}function AU(e,t){e.min=t.min,e.max=t.max}function ba(e,t){AU(e.x,t.x),AU(e.y,t.y)}function DU(e,t,n,r,o){return e-=t,e=zE(e,1/n,r),o!==void 0&&(e=zE(e,1/o,r)),e}function Hqe(e,t=0,n=1,r=.5,o,i=e,s=e){if(jc.test(t)&&(t=parseFloat(t),t=Ir(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Ir(i.min,i.max,r);e===i&&(a-=t),e.min=DU(e.min,t,n,a,o),e.max=DU(e.max,t,n,a,o)}function IU(e,t,[n,r,o],i,s){Hqe(e,t[n],t[r],t[o],t.scale,i,s)}const Uqe=["x","scaleX","originX"],Wqe=["y","scaleY","originY"];function PU(e,t,n,r){IU(e.x,t,Uqe,n?n.x:void 0,r?r.x:void 0),IU(e.y,t,Wqe,n?n.y:void 0,r?r.y:void 0)}function OU(e){return e.translate===0&&e.scale===1}function pwe(e){return OU(e.x)&&OU(e.y)}function Yqe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function mwe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function RU(e){return ia(e.x)/ia(e.y)}class qqe{constructor(){this.members=[]}add(t){T6(this.members,t),t.scheduleRender()}remove(t){if(A6(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $U(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const Gqe=(e,t)=>e.depth-t.depth;class Kqe{constructor(){this.children=[],this.isDirty=!1}add(t){T6(this.children,t),this.isDirty=!0}remove(t){A6(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Gqe),this.isDirty=!1,this.children.forEach(t)}}function Zqe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Hu(r),e(i-t))};return Kn.read(r,!0),()=>Hu(r)}function Xqe(e){window.MotionDebug&&window.MotionDebug.record(e)}function Qqe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Jqe(e,t,n){const r=Is(e)?e:Zv(e);return r.start(j6("",r,t,n)),r.animation}const MU=["","X","Y","Z"],eGe={visibility:"hidden"},FU=1e3;let tGe=0;const Fh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function gwe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=tGe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fh.totalNodes=Fh.resolvedTargetDeltas=Fh.recalculatedProjection=0,this.nodes.forEach(oGe),this.nodes.forEach(cGe),this.nodes.forEach(uGe),this.nodes.forEach(iGe),Xqe(Fh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kqe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new D6),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qqe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Zqe(p,250),X2.hasAnimatedSinceResize&&(X2.hasAnimatedSinceResize=!1,this.nodes.forEach(BU))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||mGe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!mwe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...k6(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||BU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dGe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LU);return}this.isUpdating||this.nodes.forEach(aGe),this.isUpdating=!1,this.nodes.forEach(lGe),this.nodes.forEach(nGe),this.nodes.forEach(rGe),this.clearAllSnapshots();const a=performance.now();$o.delta=Nf(0,1e3/60,a-$o.timestamp),$o.timestamp=a,$o.isProcessing=!0,cI.update.process($o),cI.preRender.process($o),cI.render.process($o),$o.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sGe),this.sharedNodes.forEach(fGe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=io(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!pwe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Mh(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),gGe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return io();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Fd(a.x,c.offset.x),Fd(a.y,c.offset.y)),a}removeElementScroll(s){const a=io();ba(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){ba(a,s);const{scroll:p}=this.root;p&&(Fd(a.x,-p.offset.x),Fd(a.y,-p.offset.y))}Fd(a.x,d.offset.x),Fd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=io();ba(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mh(d.latestValues)&&Yg(c,d.latestValues)}return Mh(this.latestValues)&&Yg(c,this.latestValues),c}removeTransform(s){const a=io();ba(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mh(u.latestValues))continue;QR(u.latestValues)&&u.updateSnapshot();const d=io(),f=u.measurePageBox();ba(d,f),PU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mh(this.latestValues)&&PU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$o.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=$o.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=io(),this.relativeTargetOrigin=io(),lb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=io(),this.targetWithTransforms=io()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vqe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ba(this.target,this.layout.layoutBox),lwe(this.target,this.targetDelta)):ba(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=io(),this.relativeTargetOrigin=io(),lb(this.relativeTargetOrigin,this.target,m.target),ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||QR(this.parent.latestValues)||awe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$o.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ba(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;kqe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Wg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Wg(),this.projectionDeltaWithTransform=Wg());const g=this.projectionTransform;ab(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=$U(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Fh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Wg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=io(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(pGe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;NU(f.x,s.x,_),NU(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hGe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&Yqe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=io()),ba(w,this.relativeTarget)),g&&(this.animationValues=d,Nqe(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kn.update(()=>{X2.hasAnimatedSinceResize=!0,this.currentAnimation=Jqe(0,FU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&vwe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||io();const f=ia(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=ia(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}ba(a,c),Yg(a,d),ab(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new qqe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<MU.length;d++){const f="rotate"+MU[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eGe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Z2(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Z2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Mh(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=$U(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in RE){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=RE[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?Z2(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(LU),this.root.sharedNodes.clear()}}}function nGe(e){e.updateLayout()}function rGe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?lc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ia(p);p.min=r[f].min,p.max=p.min+m}):vwe(i,n.layoutBox,r)&&lc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ia(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Wg();ab(a,r,n.layoutBox);const c=Wg();s?ab(c,e.applyTransform(o,!0),n.measuredBox):ab(c,r,n.layoutBox);const u=!pwe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=io();lb(v,n.layoutBox,p.layoutBox);const g=io();lb(g,r,m.layoutBox),mwe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function oGe(e){Fh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iGe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sGe(e){e.clearSnapshot()}function LU(e){e.clearMeasurements()}function aGe(e){e.isLayoutDirty=!1}function lGe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function BU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cGe(e){e.resolveTargetDelta()}function uGe(e){e.calcProjection()}function dGe(e){e.resetRotation()}function fGe(e){e.removeLeadSnapshot()}function NU(e,t,n){e.translate=Ir(t.translate,0,n),e.scale=Ir(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zU(e,t,n,r){e.min=Ir(t.min,n.min,r),e.max=Ir(t.max,n.max,r)}function hGe(e,t,n,r){zU(e.x,t.x,n.x,r),zU(e.y,t.y,n.y,r)}function pGe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mGe={duration:.45,ease:[.4,0,.1,1]},VU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),HU=VU("applewebkit/")&&!VU("chrome/")?Math.round:Vr;function UU(e){e.min=HU(e.min),e.max=HU(e.max)}function gGe(e){UU(e.x),UU(e.y)}function vwe(e,t,n){return e==="position"||e==="preserve-aspect"&&!ZR(RU(t),RU(n),.2)}const vGe=gwe({attachResizeListener:(e,t)=>xu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xI={current:void 0},ywe=gwe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xI.current){const e=new vGe({});e.mount(window),e.setOptions({layoutScroll:!0}),xI.current=e}return xI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yGe={pan:{Feature:Rqe},drag:{Feature:Oqe,ProjectionNode:ywe,MeasureLayout:dwe}},bGe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xGe(e){const t=bGe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function e$(e,t,n=1){const[r,o]=xGe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return ewe(s)?parseFloat(s):s}else return HR(o)?e$(o,t,n+1):o}function wGe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!HR(i))return;const s=e$(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!HR(i))continue;const s=e$(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const CGe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),bwe=e=>CGe.has(e),_Ge=e=>Object.keys(e).some(bwe),WU=e=>e===Cm||e===st,YU=(e,t)=>parseFloat(e.split(", ")[t]),qU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return YU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?YU(i[1],e):0}},SGe=new Set(["x","y","z"]),EGe=kw.filter(e=>!SGe.has(e));function kGe(e){const t=[];return EGe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Xv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:qU(4,13),y:qU(5,14)};Xv.translateX=Xv.x;Xv.translateY=Xv.y;const jGe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Xv[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Xv[u](c,i)}),e},TGe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(bwe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=B1(d);const p=t[c];let m;if(ME(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=B1(d);for(let y=g;y<v&&p[y]!==null;y++)m?w6(B1(p[y])===m):m=B1(p[y])}else m=B1(p);if(f!==m)if(WU(f)&&WU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===st&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=kGe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=jGe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Lj&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function AGe(e,t,n,r){return _Ge(t)?TGe(e,t,n,r):{target:t,transitionEnd:r}}const DGe=(e,t,n,r)=>{const o=wGe(e,t,r);return t=o.target,r=o.transitionEnd,AGe(e,t,n,r)},t$={current:null},xwe={current:!1};function IGe(){if(xwe.current=!0,!!Lj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>t$.current=e.matches;e.addListener(t),t()}else t$.current=!1}function PGe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Is(i))e.addValue(o,i),NE(r)&&r.add(o);else if(Is(s))e.addValue(o,Zv(i,{owner:e})),NE(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Zv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const GU=new WeakMap,wwe=Object.keys(ix),OGe=wwe.length,KU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],RGe=d6.length;class $Ge{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Kn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Nj(n),this.isVariantNode=ixe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Is(p)&&(p.set(a[f],!1),NE(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,GU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xwe.current||IGe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GU.delete(this.current),this.projection&&this.projection.unmount(),Hu(this.notifyUpdate),Hu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=wm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Kn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<OGe;c++){const u=wwe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=ix[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Hg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):io()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KU.length;r++){const o=KU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=PGe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<RGe;r++){const o=d6[r],i=this.props[o];(ox(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=x6(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Is(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new D6),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Cwe extends $Ge{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=JYe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){XYe(this,r,s);const a=DGe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function MGe(e){return window.getComputedStyle(e)}class FGe extends Cwe{readValueFromInstance(t,n){if(wm.has(n)){const r=E6(n);return r&&r.default||0}else{const r=MGe(t),o=(cxe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return cwe(t,n)}build(t,n,r,o){p6(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return b6(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Is(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){mxe(t,n,r,o)}}class LGe extends Cwe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wm.has(n)){const r=E6(n);return r&&r.default||0}return n=gxe.has(n)?n:y6(n),t.getAttribute(n)}measureInstanceViewportBox(){return io()}scrapeMotionValuesFromProps(t,n){return yxe(t,n)}build(t,n,r,o){g6(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){vxe(t,n,r,o)}mount(t){this.isSVGTag=v6(t.tagName),super.mount(t)}}const BGe=(e,t)=>h6(e)?new LGe(t,{enableHardwareAcceleration:!1}):new FGe(t,{enableHardwareAcceleration:!0}),NGe={layout:{ProjectionNode:ywe,MeasureLayout:dwe}},zGe={...hqe,...OWe,...yGe,...NGe},ud=VUe((e,t)=>xWe(e,t,zGe,BGe));function _we(){const e=h.useRef(!1);return c6(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function VGe(){const e=_we(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Kn.postRender(r),[r]),t]}class HGe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UGe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(HGe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const wI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=bxe(WGe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(UGe,{isPresent:n},e)),h.createElement(Fj.Provider,{value:u},e)};function WGe(){return new Map}function YGe(e){return h.useEffect(()=>()=>e(),[])}const Lh=e=>e.key||"";function qGe(e,t){e.forEach(n=>{const r=Lh(n);t.set(r,n)})}function GGe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const I6=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(f6).forceRender||VGe()[0],c=_we(),u=GGe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(c6(()=>{v.current=!1,qGe(u,m),p.current=d}),YGe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(wI,{key:Lh(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(Lh),y=u.map(Lh),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!y.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=Lh(k);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(wI,{key:Lh(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(wI,{key:Lh(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))},Dw=[],Sf={},Swe={top:"bottom",right:"left",bottom:"top",left:"right"};function KGe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ge(e){return e===0?0:"".concat(e/16,"rem")}function mt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function ZGe(e,t){return e===void 0?t||Dw:Array.isArray(e)?e:[e]}function vs(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:mt(e.sanity.media,n,r=>KGe(t,ge(e.sanity.space[r])))}function Qv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Qv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Qv.warned=!0),[p];const m=mt(s,n,v=>XGe(c[v]||f));return[p,...m]}function XGe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:ge(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ge(i),transform:"translateY(".concat(ge(n),")"),"&:before":{marginTop:"calc(".concat(ge(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ge(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ge(u)}}}function QGe(e){return Qv("code",e)}function JGe(e){return Qv("heading",e)}function eKe(e){return Qv("label",e)}function P6(e){const{theme:t}=e;return mt(t.sanity.media,e.$align,n=>({textAlign:n}))}function tKe(e){return Qv("text",e)}function ye(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>ZGe(e,t),[n])}function ZU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function dr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>ZU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=ZU(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var Ep=[],nKe=function(){return Ep.some(function(e){return e.activeTargets.length>0})},rKe=function(){return Ep.some(function(e){return e.skippedTargets.length>0})},XU="ResizeObserver loop completed with undelivered notifications.",oKe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:XU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=XU),window.dispatchEvent(e)},ax;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ax||(ax={}));var kp=function(e){return Object.freeze(e)},iKe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,kp(this)}return e}(),Ewe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,kp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),O6=function(e){return e instanceof SVGElement&&"getBBox"in e},kwe=function(e){if(O6(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},QU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},sKe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},cb=typeof window<"u"?window:{},c_=new WeakMap,JU=/auto|scroll/,aKe=/^tb|vertical/,lKe=/msie|trident/i.test(cb.navigator&&cb.navigator.userAgent),Jl=function(e){return parseFloat(e||"0")},uv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new iKe((n?t:e)||0,(n?e:t)||0)},eW=kp({devicePixelContentBoxSize:uv(),borderBoxSize:uv(),contentBoxSize:uv(),contentRect:new Ewe(0,0,0,0)}),jwe=function(e,t){if(t===void 0&&(t=!1),c_.has(e)&&!t)return c_.get(e);if(kwe(e))return c_.set(e,eW),eW;var n=getComputedStyle(e),r=O6(e)&&e.ownerSVGElement&&e.getBBox(),o=!lKe&&n.boxSizing==="border-box",i=aKe.test(n.writingMode||""),s=!r&&JU.test(n.overflowY||""),a=!r&&JU.test(n.overflowX||""),c=r?0:Jl(n.paddingTop),u=r?0:Jl(n.paddingRight),d=r?0:Jl(n.paddingBottom),f=r?0:Jl(n.paddingLeft),p=r?0:Jl(n.borderTopWidth),m=r?0:Jl(n.borderRightWidth),v=r?0:Jl(n.borderBottomWidth),g=r?0:Jl(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:Jl(n.width)-S-_,k=r?r.height:Jl(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=kp({devicePixelContentBoxSize:uv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:uv(T,A,i),contentBoxSize:uv(j,k,i),contentRect:new Ewe(f,c,j,k)});return c_.set(e,D),D},Twe=function(e,t,n){var r=jwe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case ax.DEVICE_PIXEL_CONTENT_BOX:return s;case ax.BORDER_BOX:return o;default:return i}},cKe=function(){function e(t){var n=jwe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=kp([n.borderBoxSize]),this.contentBoxSize=kp([n.contentBoxSize]),this.devicePixelContentBoxSize=kp([n.devicePixelContentBoxSize])}return e}(),Awe=function(e){if(kwe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},uKe=function(){var e=1/0,t=[];Ep.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new cKe(u.target),f=Awe(u.target);a.push(d),u.lastReportedSize=Twe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},tW=function(e){Ep.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(Awe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},dKe=function(){var e=0;for(tW(e);nKe();)e=uKe(),tW(e);return rKe()&&oKe(),e>0},CI,Dwe=[],fKe=function(){return Dwe.splice(0).forEach(function(e){return e()})},hKe=function(e){if(!CI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return fKe()}).observe(n,r),CI=function(){n.textContent="".concat(t?t--:t++)}}Dwe.push(e),CI()},pKe=function(e){hKe(function(){requestAnimationFrame(e)})},Q2=0,mKe=function(){return!!Q2},gKe=250,vKe={attributes:!0,characterData:!0,childList:!0,subtree:!0},nW=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],rW=function(e){return e===void 0&&(e=0),Date.now()+e},_I=!1,yKe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=gKe),!_I){_I=!0;var r=rW(t);pKe(function(){var o=!1;try{o=dKe()}finally{if(_I=!1,t=r-rW(),!mKe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,vKe)};document.body?n():cb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),nW.forEach(function(n){return cb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),nW.forEach(function(n){return cb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),n$=new yKe,oW=function(e){!Q2&&e>0&&n$.start(),Q2+=e,!Q2&&n$.stop()},bKe=function(e){return!O6(e)&&!sKe(e)&&getComputedStyle(e).display==="inline"},xKe=function(){function e(t,n){this.target=t,this.observedBox=n||ax.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Twe(this.target,this.observedBox,!0);return bKe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),wKe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),u_=new WeakMap,iW=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},d_=function(){function e(){}return e.connect=function(t,n){var r=new wKe(t,n);u_.set(t,r)},e.observe=function(t,n,r){var o=u_.get(t),i=o.observationTargets.length===0;iW(o.observationTargets,n)<0&&(i&&Ep.push(o),o.observationTargets.push(new xKe(n,r&&r.box)),oW(1),n$.schedule())},e.unobserve=function(t,n){var r=u_.get(t),o=iW(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Ep.splice(Ep.indexOf(r),1),r.observationTargets.splice(o,1),oW(-1))},e.disconnect=function(t){var n=this,r=u_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),CKe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");d_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!QU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");d_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!QU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");d_.unobserve(this,t)},e.prototype.disconnect=function(){d_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Iwe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:CKe,_Ke=EKe();function SKe(){return{subscribe(e,t){const n=new Iwe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function EKe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=SKe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function Uj(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return _Ke.subscribe(e,n)},[e]),t}function oh(e){const t=Uj(e);return(t==null?void 0:t._contentRect)||null}function Ps(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function SI(e,t){return e*t}function kKe(e,t){return{r:Math.round(EI(SI(e.r/255,t.r/255)*255)),g:Math.round(EI(SI(e.g/255,t.g/255)*255)),b:Math.round(EI(SI(e.b/255,t.b/255)*255))}}function EI(e){return Math.max(Math.min(e,255),0)}function kI(e,t){return e+t-e*t}function jKe(e,t){return{r:Math.round(jI(kI(e.r/255,t.r/255)*255)),g:Math.round(jI(kI(e.g/255,t.g/255)*255)),b:Math.round(jI(kI(e.b/255,t.b/255)*255))}}function jI(e){return Math.max(Math.min(e,255),0)}function TKe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function Pwe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function AKe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const DKe="0123456789ABCDEFabcdef",IKe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function PKe(e){for(const t of e)if(DKe.indexOf(t)===-1)return!1;return!0}function OKe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:PKe(e.slice(1))}function RKe(e){const t=IKe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function lx(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(OKe(e))return TKe(e);if(e.startsWith("hsl("))return AKe(RKe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function At(e,t){const n=lx(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function TI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function $Ke(e,t,n,r,o){return{default:TI(e,t,n,r,o,"default"),ghost:TI(e,t,n,r,o,"ghost"),bleed:TI(e,t,n,r,o,"bleed")}}function MKe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const ke="hsl(0, 0%, 0%)",Jm="hsl(0, 0%, 100%)",gt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},FKe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},f_={transparent:{bg:[gt.transparent.darkest,gt.transparent.lightest],fg:[gt.transparent.lightest,gt.transparent.darkest],border:[gt.transparent.darker,gt.transparent.lighter],focusRing:[gt.transparent.base,gt.transparent.base]},primary:{bg:[gt.primary.darkest,gt.primary.lightest],fg:[gt.primary.lightest,gt.primary.darkest],border:[gt.primary.darker,gt.primary.lighter],focusRing:[gt.primary.base,gt.primary.base]},positive:{bg:[gt.positive.darkest,gt.positive.lightest],fg:[gt.positive.lightest,gt.positive.darkest],border:[gt.positive.darker,gt.positive.lighter],focusRing:[gt.positive.base,gt.positive.base]},caution:{bg:[gt.caution.darkest,gt.caution.lightest],fg:[gt.caution.lightest,gt.caution.darkest],border:[gt.caution.darker,gt.caution.lighter],focusRing:[gt.caution.base,gt.caution.base]},critical:{bg:[gt.critical.darkest,gt.critical.lightest],fg:[gt.critical.lightest,gt.critical.darkest],border:[gt.critical.darker,gt.critical.lighter],focusRing:[gt.critical.base,gt.critical.base]}},LKe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?ke:Jm,fg:t?Jm:ke,border:t?gt.default.darkest:gt.default.lightest,focusRing:gt.primary.base,shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?Jm:ke,to:t?Jm:ke}}:{bg:f_[n].bg[t?0:1],fg:f_[n].fg[t?0:1],border:f_[n].border[t?0:1],focusRing:f_[n].focusRing[t?0:1],shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?Jm:ke,to:t?Jm:ke}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=gt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=gt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:ke,bg2:ke,fg:ke,border:ke,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},input:()=>({bg:ke,fg:ke,border:ke,placeholder:ke}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return FKe[t]},syntax:()=>({atrule:ke,attrName:ke,attrValue:ke,attribute:ke,boolean:ke,builtin:ke,cdata:ke,char:ke,class:ke,className:ke,comment:ke,constant:ke,deleted:ke,doctype:ke,entity:ke,function:ke,hexcode:ke,id:ke,important:ke,inserted:ke,keyword:ke,number:ke,operator:ke,prolog:ke,property:ke,pseudoClass:ke,pseudoElement:ke,punctuation:ke,regex:ke,selector:ke,string:ke,symbol:ke,tag:ke,unit:ke,url:ke,variable:ke})};function BKe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function NKe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function zKe(e,t,n,r,o){return{default:z1(e,t,n,r,o,"default"),primary:z1(e,t,n,r,o,"primary"),positive:z1(e,t,n,r,o,"positive"),caution:z1(e,t,n,r,o,"caution"),critical:z1(e,t,n,r,o,"critical")}}function z1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function VKe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function HKe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function UKe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...LKe,...e};return{light:sW(t,!1),dark:sW(t,!0)}}function sW(e,t){return{default:eg(e,t,"default"),transparent:eg(e,t,"transparent"),primary:eg(e,t,"primary"),positive:eg(e,t,"positive"),caution:eg(e,t,"caution"),critical:eg(e,t,"critical")}}function eg(e,t,n){const r=e.base({dark:t,name:n}),o=VKe(e,r,t,n),i=NKe(e,r,t,n);return{base:r,button:$Ke(e,r,t,o,i),card:MKe(e,r,t,n,o,i),dark:t,input:BKe(e,r,t,o,i),selectable:zKe(e,r,t,o,i),spot:HKe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function Sh(e,t){const n=lx(e),r=lx(t);return Pwe(kKe(n,r))}function Eh(e,t){const n=lx(e),r=lx(t);return Pwe(jKe(n,r))}const Hi={default:fe.gray,transparent:fe.gray,primary:fe.blue,positive:fe.green,caution:fe.yellow,critical:fe.red},V1=["default","transparent"],WKe=UKe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=fe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?Ea.hex:dc.hex,bg:t?dc.hex:Ea.hex,border:i[t?800:200].hex,focusRing:fe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[950].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[950].hex,.28):At(i[500].hex,.14),ambient:t?At(i[950].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}if(n==="transparent"){const i=Hi.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:fe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[900].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[900].hex,.28):At(i[500].hex,.14),ambient:t?At(i[900].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}const r=Hi[n]||Hi.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:At(r[500].hex,.4),umbra:t?At(r[900].hex,.4):At(r[500].hex,.2),penumbra:t?At(r[900].hex,.28):At(r[500].hex,.14),ambient:t?At(r[900].hex,.24):At(r[500].hex,.12)},skeleton:{from:o,to:At(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Eh:Sh,a=n?Sh:Eh,c=Hi[r]||Hi.default,u=V1.includes(r)&&V1.includes(i);let d=Hi[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?dc.hex:Ea.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?dc.hex:Ea.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?dc.hex:Ea.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="selected"){u&&(d=Hi.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?dc.hex:Ea.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?dc.hex:Ea.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,fe.red[n?900:100].hex)},link:{fg:a(f,fe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:At(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Eh:Sh,a=Hi[r]||Hi.default,c=V1.includes(r)&&V1.includes(i);let u=Hi[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:At(m,.5),to:At(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="pressed"){c&&(u=Hi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="selected"){c&&(u=Hi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:At(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=V1.includes(o),c=Hi[o]||Hi.default,u=n?Eh:Sh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,fe.red[n?400:500].hex)},link:{fg:u(t.bg,fe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:At(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?Eh:Sh;if(r==="invalid"){const s=Hi.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,fe.gray[n?700:300].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?700:300].hex),border:i(t.bg,fe.gray[n?900:100].hex),placeholder:i(t.bg,fe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?200:800].hex),border:i(t.bg,fe.gray[n?800:200].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,fe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?Eh:Sh)(t.bg,fe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?Eh:Sh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,fe.purple[o].hex),attrName:r(t.bg,fe.green[o].hex),attrValue:r(t.bg,fe.yellow[o].hex),attribute:r(t.bg,fe.yellow[o].hex),boolean:r(t.bg,fe.purple[o].hex),builtin:r(t.bg,fe.purple[o].hex),cdata:r(t.bg,fe.yellow[o].hex),char:r(t.bg,fe.yellow[o].hex),class:r(t.bg,fe.orange[o].hex),className:r(t.bg,fe.cyan[o].hex),comment:r(t.bg,fe.gray[i].hex),constant:r(t.bg,fe.purple[o].hex),deleted:r(t.bg,fe.red[o].hex),doctype:r(t.bg,fe.gray[i].hex),entity:r(t.bg,fe.red[o].hex),function:r(t.bg,fe.green[o].hex),hexcode:r(t.bg,fe.blue[o].hex),id:r(t.bg,fe.purple[o].hex),important:r(t.bg,fe.purple[o].hex),inserted:r(t.bg,fe.yellow[o].hex),keyword:r(t.bg,fe.magenta[o].hex),number:r(t.bg,fe.purple[o].hex),operator:r(t.bg,fe.magenta[o].hex),prolog:r(t.bg,fe.gray[i].hex),property:r(t.bg,fe.blue[o].hex),pseudoClass:r(t.bg,fe.yellow[o].hex),pseudoElement:r(t.bg,fe.yellow[o].hex),punctuation:r(t.bg,fe.gray[o].hex),regex:r(t.bg,fe.blue[o].hex),selector:r(t.bg,fe.red[o].hex),string:r(t.bg,fe.yellow[o].hex),symbol:r(t.bg,fe.purple[o].hex),tag:r(t.bg,fe.red[o].hex),unit:r(t.bg,fe.orange[o].hex),url:r(t.bg,fe.red[o].hex),variable:r(t.bg,fe.red[o].hex)}}}),YKe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Vf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:WKe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:YKe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},qKe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function GKe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Jt=GKe(),r$=Symbol.for("@sanity/ui/context/theme");Jt[r$]=Jt[r$]||h.createContext(null);const o$=Jt[r$];function VE(e){const t=h.useContext(o$),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||qKe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(o$.Provider,{value:a,children:l.jsx(YLe,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function D0(e){return!!(e&&typeof e=="object")}function I0(){const e=h.useContext(o$);if(!e)throw new Error("useRootTheme(): missing context value");if(!D0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function Owe(e){const{children:t,scheme:n,tone:r}=e,o=I0();return l.jsx(VE,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Os(){return _0e()}const aW=new WeakMap;function KKe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function ZKe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=KKe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function XKe(){return 0}function _m(){const e=Os(),{media:t}=e.sanity;let n=aW.get(t);return n||(n=ZKe(t),aW.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,XKe)}let AI;function Rwe(){return AI||(AI=window.matchMedia("(prefers-color-scheme: dark)")),AI}function QKe(e){const t=Rwe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function JKe(){return Rwe().matches}function eZe(){return!1}function tZe(){return h.useSyncExternalStore(QKe,JKe,eZe)}const nZe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function fr(e){const t=h.useRef(null);return nZe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function Iw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const Pw="1px solid var(--card-border-color)";function rZe(){return[oZe,iZe,sZe,aZe,lZe]}function oZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$border,r=>r?{"&&":{border:Pw}}:{"&&":{border:0}})}function iZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$borderTop,r=>r?{"&&":{borderTop:Pw}}:{"&&":{borderTop:0}})}function sZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$borderRight,r=>r?{"&&":{borderRight:Pw}}:{"&&":{borderRight:0}})}function aZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:Pw}}:{"&&":{borderBottom:0}})}function lZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:Pw}}:{"&&":{borderLeft:0}})}const cZe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},uZe={content:"content-box",border:"border-box"},dZe={stretch:"stretch",fill:"100%"};function fZe(){return cZe}function hZe(){return[mZe,gZe,vZe,pZe]}function pZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function mZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$sizing,r=>({boxSizing:uZe[r]}))}function gZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$height,r=>({height:dZe[r]}))}function vZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$overflow,r=>({overflow:r}))}const yZe={"&&:not([hidden])":{display:"flex"}};function bZe(){return[yZe,xZe,wZe,CZe,_Ze,SZe]}function xZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$align,r=>({alignItems:r}))}function wZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return mt(n,e.$gap,o=>({gap:o?ge(r[o]):void 0}))}function CZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$wrap,r=>({flexWrap:r}))}function _Ze(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$justify,r=>({justifyContent:r}))}function SZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$direction,r=>({flexDirection:r}))}const EZe={minWidth:0,minHeight:0};function $we(){return[EZe,kZe]}function kZe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?mt(n,e.$flex,r=>({flex:r})):Dw}function To(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Rc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&To(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const jZe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},TZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},AZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function DZe(){return[jZe,IZe,PZe,OZe,RZe,$Ze,MZe,FZe,LZe]}function IZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function PZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$autoRows,r=>({gridAutoRows:r&&AZe[r]}))}function OZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$autoCols,r=>({gridAutoColumns:r&&TZe[r]}))}function RZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function $Ze(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function MZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return mt(n,e.$gap,o=>({gridGap:o?ge(r[o]):void 0}))}function FZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return mt(n,e.$gapX,o=>({columnGap:o?ge(r[o]):void 0}))}function LZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return mt(n,e.$gapY,o=>({rowGap:o?ge(r[o]):void 0}))}function BZe(){return[VZe,HZe,UZe,WZe,YZe,qZe]}const NZe={auto:"auto",full:"1 / -1"},zZe={auto:"auto",full:"1 / -1"};function VZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:NZe[r]})}function HZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$rowStart,r=>({gridRowStart:r}))}function UZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function WZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:zZe[r]})}function YZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$columnStart,r=>({gridColumnStart:r}))}function qZe(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function R6(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return mt(c,f,(v,g)=>{const y=a.text.sizes[m[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[g]],w=u[p[g]],C={paddingTop:ge(b-y.ascenderHeight),paddingRight:ge(b),paddingBottom:ge(b-y.descenderHeight),paddingLeft:ge(b)};return r&&(C.paddingRight=ge(b+x+w)),n&&(C.paddingLeft=ge(b+x+w)),C})}function GZe(e){return R6({...e,$iconRight:!0})}var lW=Object.freeze,KZe=Object.defineProperty,$6=(e,t)=>lW(KZe(e,"raw",{value:lW(t||e.slice())})),cW,uW,dW;const ZZe=de(cW||(cW=$6([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function Mwe(){return ZZe}function Fwe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return de(uW||(uW=$6([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function Lwe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return mt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function Bwe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return de(dW||(dW=$6([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,To({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,To({color:c.invalid.enabled.border,width:a.border.width}),Rc({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),Rc({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,To({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,To({color:c.default.hovered.border,width:a.border.width}))}function XZe(e){const{theme:t}=e;return[vs(t,["margin"],e.$margin),vs(t,["marginLeft","marginRight"],e.$marginX),vs(t,["marginTop","marginBottom"],e.$marginY),vs(t,["marginTop"],e.$marginTop),vs(t,["marginRight"],e.$marginRight),vs(t,["marginBottom"],e.$marginBottom),vs(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function Nwe(e){const{theme:t}=e;return[vs(t,["padding"],e.$padding),vs(t,["paddingLeft","paddingRight"],e.$paddingX),vs(t,["paddingTop","paddingBottom"],e.$paddingY),vs(t,["paddingTop"],e.$paddingTop),vs(t,["paddingRight"],e.$paddingRight),vs(t,["paddingBottom"],e.$paddingBottom),vs(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function dd(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return mt(n,e.$radius,o=>({borderRadius:ge(r[o])}))}function DI(e,t){return"".concat(e.map(ge).join(" ")," ").concat(t)}function QZe(e){if(!e)return Sf;const t="0 0 0 ".concat(ge(1)," var(--card-shadow-outline-color)"),n=DI(e.umbra,"var(--card-shadow-umbra-color)"),r=DI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=DI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function JZe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return mt(n,e.$shadow,o=>QZe(r[o]))}var fW=Object.freeze,eXe=Object.defineProperty,II=(e,t)=>fW(eXe(e,"raw",{value:fW(t||e.slice())})),hW,pW,mW;function tXe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return de(mW||(mW=II([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(hW||(hW=II([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(pW||(pW=II([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var gW=Object.freeze,nXe=Object.defineProperty,rXe=(e,t)=>gW(nXe(e,"raw",{value:gW(t||e.slice())})),vW;const oXe=O.div(tKe,P6,tXe),iXe=O.span(vW||(vW=rXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(iXe,{children:f})),l.jsx(oXe,{"data-ui":"Text",...d,$accent:r,$align:ye(o),$muted:s,ref:n,$size:ye(a),$weight:u,children:l.jsx("span",{children:f})})}),Ow={root:aXe,arrow:sXe,bgStroke:uXe,stroke:dXe,initials:cXe};function sXe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function aXe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Rc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function lXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return mt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2),"&>svg":{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2)}}})}function cXe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function uXe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function dXe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const fXe=O.div(lXe,Ow.root),hXe=O.div(Ow.arrow),pXe=O.ellipse(Ow.bgStroke),mXe=O.ellipse(Ow.stroke),gXe=O.div(Ow.initials),zwe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=UFe.isValidElementType(r)?r:"div",g=ye(p),y=Os(),x=y.sanity.color.spot[o]||y.sanity.color.spot.gray,w=(y.sanity.avatar.sizes[g[0]]||y.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return l.jsxs(fXe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(hXe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(pXe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(mXe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(gXe,{children:l.jsx(L,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var yW=Object.freeze,vXe=Object.defineProperty,yXe=(e,t)=>yW(vXe(e,"raw",{value:yW(t||e.slice())})),bW;function bXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return mt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ge(i.size/2),minWidth:ge(i.size),height:ge(i.size)}:Sf})}function xXe(e){const{theme:t}=e;return de(bW||(bW=yXe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ge(t.sanity.space[2]))}const wXe=O.div(bXe,xXe),i$=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ye(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(wXe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(L,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function Vwe(e){return(Array.isArray(e)?e:[e]).filter(n=>Sr.isElement(n)||Sr.isFragment(n)||typeof n=="string")}var xW=Object.freeze,CXe=Object.defineProperty,_Xe=(e,t)=>xW(CXe(e,"raw",{value:xW(t||e.slice())})),wW;const SXe=de(wW||(wW=_Xe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function EXe(){return SXe}function kXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return mt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ge(i.distance)}}:Sf})}const jXe=O.div(kXe,EXe),Wj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=Vwe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=ye(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(jXe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(i$,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(i$,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),TXe=O.div(fZe,$we,hZe,BZe,XZe,Nwe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:y,overflow:x,padding:b=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx(TXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:ye(o),$columnStart:ye(i),$columnEnd:ye(s),$display:ye(a),$flex:ye(c),$height:ye(u),$margin:ye(d),$marginX:ye(f),$marginY:ye(p),$marginTop:ye(m),$marginRight:ye(v),$marginBottom:ye(g),$marginLeft:ye(y),$overflow:ye(x),$padding:ye(b),$paddingX:ye(w),$paddingY:ye(C),$paddingTop:ye(_),$paddingRight:ye(S),$paddingBottom:ye(E),$paddingLeft:ye(j),$row:ye(k),$rowStart:ye(T),$rowEnd:ye(A),$sizing:ye(D),as:r,ref:n,children:t.children})});var CW=Object.freeze,AXe=Object.defineProperty,PI=(e,t)=>CW(AXe(e,"raw",{value:CW(t||e.slice())})),_W,SW,EW;function DXe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return de(EW||(EW=PI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(_W||(_W=PI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(SW||(SW=PI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var kW=Object.freeze,IXe=Object.defineProperty,PXe=(e,t)=>kW(IXe(e,"raw",{value:kW(t||e.slice())})),jW;const OXe=O.div(eKe,P6,DXe),RXe=O.span(jW||(jW=PXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Ht=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(RXe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(OXe,{"data-ui":"Label",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:f})});function $Xe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const MXe=O(M)(dd,$Xe),M6=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(MXe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:ye(a),padding:ye(s),ref:n,children:l.jsx(Ht,{size:o,children:r})})}),FXe=O(M)($we,bZe),U=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(FXe,{"data-ui":"Flex",...u,$align:ye(r),$direction:ye(i),$gap:ye(s),$justify:ye(a),$wrap:ye(c),forwardedAs:o,ref:n})});var TW=Object.freeze,LXe=Object.defineProperty,Hwe=(e,t)=>TW(LXe(e,"raw",{value:TW(t||e.slice())})),AW,DW;const BXe=gm(AW||(AW=Hwe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),NXe=O(L)(DW||(DW=Hwe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),BXe),hr=h.forwardRef(function(t,n){return l.jsx(NXe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(pw,{})})});function Vt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var IW=Object.freeze,zXe=Object.defineProperty,VXe=(e,t)=>IW(zXe(e,"raw",{value:IW(t||e.slice())})),PW;function HXe(){return de(PW||(PW=VXe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const UXe={border:{width:1}};function WXe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:UXe.border.width,color:"var(--card-border-color)"};return[Vt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:To(u),'&:disabled, &[data-disabled="true"]':Vt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Rc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:To(u)},"@media (hover: hover)":{"&:hover":Vt(s,c.hovered),"&:active":Vt(s,c.pressed),"&[data-hovered]":Vt(s,c.hovered)},"&[data-selected]":Vt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var OW=Object.freeze,YXe=Object.defineProperty,qXe=(e,t)=>OW(YXe(e,"raw",{value:OW(t||e.slice())})),RW;const GXe=O.button(dd,HXe,WXe),KXe=O.div(RW||(RW=qXe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),oe=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:y,paddingRight:x,radius:b=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=ye(c),A=ye(f),D=ye(p),I=ye(m),P=ye(v),$=ye(g),R=ye(y),z=ye(x),B=ye(b),H=ye(C),W=Os(),V=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:P,paddingBottom:$,paddingLeft:R,paddingRight:z}),[A,D,I,P,$,R,z]);return l.jsxs(GXe,{"data-ui":"Button",...k,$mode:d,$radius:B,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(KXe,{children:l.jsx(hr,{})}),(s||_||a)&&l.jsx(M,{as:"span",...V,children:l.jsxs(U,{as:"span",justify:T,children:[s&&l.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,Sr.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:l.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:W.sanity.button.textWeight,children:_})}),a&&l.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,Sr.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...V,children:r})]})});var $W=Object.freeze,ZXe=Object.defineProperty,s$=(e,t)=>$W(ZXe(e,"raw",{value:$W(t||e.slice())})),MW,FW,LW;function XXe(e){return[QXe(e),JXe(e)]}function QXe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return de(FW||(FW=s$([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&de(MW||(MW=s$([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function JXe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return de(LW||(LW=s$([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Vt(a,c.enabled,r),Vt(a,c.disabled,r),Vt(a,c.pressed,r),Vt(a,c.selected,r),Vt(a,c.hovered,r),Vt(a,c.pressed,r),o?Rc({base:a,border:d,focusRing:s}):void 0,o?To(d):void 0,Vt(a,c.disabled,r),Vt(a,c.pressed,r),Vt(a,c.selected,r),Vt(a,c.hovered,r),Vt(a,c.pressed,r),o?Rc({base:a,border:d,focusRing:s}):void 0,o?To(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const eQe=O(M)(rZe,dd,JZe,XXe),X=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:y="default",...x}=t,b=Sr.isValidElementType(i)?i:"div",w=I0(),C=y==="inherit"?w.tone:y;return l.jsx(Owe,{scheme:m,tone:C,children:l.jsx(eQe,{"data-as":typeof b=="string"?b:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:ye(s),$borderTop:ye(a),$borderRight:ye(c),$borderBottom:ye(u),$borderLeft:ye(d),$checkered:r,$focusRing:o,$radius:ye(p),$shadow:ye(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:b,ref:n,selected:v})})});var BW=Object.freeze,tQe=Object.defineProperty,Uwe=(e,t)=>BW(tQe(e,"raw",{value:BW(t||e.slice())})),NW,zW;function nQe(){return de(NW||(NW=Uwe([`
    position: relative;
    display: inline-block;
  `])))}function rQe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return de(zW||(zW=Uwe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ge(o.checkbox.size),ge(o.checkbox.size),To({color:n.default.enabled.border,width:o.border.width}),ge(i[2]),n.default.enabled.bg,Rc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),To({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,To({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,To({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const oQe=O.div(nQe),iQe=O.input(rQe),Yj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=fr(n);return Iw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(oQe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(iQe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(ra,{}),l.jsx(J0e,{})]})]})});var VW=Object.freeze,sQe=Object.defineProperty,aQe=(e,t)=>VW(sQe(e,"raw",{value:VW(t||e.slice())})),HW;function lQe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function cQe(){return de(HW||(HW=aQe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),lQe)}const uQe=O.pre(cQe,QGe),lr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Np.hasLanguage(c):!1;return l.jsxs(uQe,{"data-ui":"Code",...a,$size:ye(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Np,{inline:!0,language:c,value:String(r)})]})}),dQe={width:"100%",margin:"0 auto"};function fQe(){return dQe}function hQe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return mt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ge(n[o])}))}const pQe=O(M)(fQe,hQe),eo=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(pQe,{"data-ui":"Container",...i,$width:ye(o),forwardedAs:r,ref:n})}),mQe=O(M)(DZe),en=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(mQe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ye(o),$autoCols:ye(i),$autoFlow:ye(s),$columns:ye(a),$gap:ye(c),$gapX:ye(u),$gapY:ye(d),$rows:ye(f),forwardedAs:r,ref:n,children:p})});var UW=Object.freeze,gQe=Object.defineProperty,OI=(e,t)=>UW(gQe(e,"raw",{value:UW(t||e.slice())})),WW,YW,qW;function vQe(e){const{$accent:t,$muted:n,theme:r}=e;return de(qW||(qW=OI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(WW||(WW=OI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(YW||(YW=OI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var GW=Object.freeze,yQe=Object.defineProperty,bQe=(e,t)=>GW(yQe(e,"raw",{value:GW(t||e.slice())})),KW;const xQe=O.div(vQe,P6,JGe),wQe=O.span(KW||(KW=bQe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Yo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(wQe,{children:f})),l.jsx(xQe,{"data-ui":"Heading",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function CQe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function _Qe(e){const{theme:t}=e;return mt(t.sanity.media,e.$space,n=>{const r=ge(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const SQe=O(M)(CQe,_Qe),Kt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>Vwe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(SQe,{"data-ui":"Inline",...s,$space:ye(i),forwardedAs:r,ref:n,children:a})});var ZW=Object.freeze,EQe=Object.defineProperty,kQe=(e,t)=>ZW(EQe(e,"raw",{value:ZW(t||e.slice())})),XW;function jQe(){return de(XW||(XW=kQe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const TQe=O.kbd(dd,jQe),a$=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(TQe,{"data-ui":"KBD",...a,$radius:ye(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(lr,{as:"span",muted:!0,size:o,children:r})})})}),l$=Symbol.for("@sanity/ui/context/boundaryElement");Jt[l$]=Jt[l$]||h.createContext(null);const Wwe=Jt[l$];function Uu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(Wwe.Provider,{value:r,children:t})}const AQe={version:0,element:null};function Sm(){const e=h.useContext(Wwe);if(e&&(!D0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||AQe}function DQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function IQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const PQe=h.forwardRef(function(t,n){const r=Os(),{children:o,media:i=r.sanity.media,...s}=t,a=fr(n),[c,u]=h.useState(null),d=Uj(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>DQe(i,f),[i,f]),m=h.useMemo(()=>IQe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var OQe=Object.defineProperty,RQe=(e,t,n)=>t in e?OQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Qe=(e,t,n)=>(RQe(e,typeof t!="symbol"?t+"":t,n),n);class P0 extends h.Component{constructor(){super(...arguments),$Qe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(lr,{children:n})}return this.props.children}}function Ywe(e){if(!D0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const c$=Symbol.for("@sanity/ui/context/layer");Jt[c$]=Jt[c$]||h.createContext(null);const u$=Jt[c$];function pa(){const e=h.useContext(u$);if(!e)throw new Error("useLayer(): missing context value");try{return Ywe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function d$(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function MQe(e){let t=null;const n=d$(()=>{t=d$(e)});return()=>{t&&t(),n()}}function FQe(e){return F6(e)||L6(e)}function Nc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function F6(e){return Nc(e)&&e.nodeName==="A"}function LQe(e){return Nc(e)&&e.nodeName==="INPUT"}function L6(e){return Nc(e)&&e.nodeName==="BUTTON"}function BQe(e){return Nc(e)&&e.nodeName==="SELECT"}function NQe(e){return Nc(e)&&e.nodeName==="TEXTAREA"}function f$(e,t){return e.contains(t)||e===t}function zQe(e){return!!document.activeElement&&e.contains(document.activeElement)}function VQe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:F6(e)?!!e.href&&e.rel!=="ignore":LQe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:L6(e)||BQe(e)||NQe(e)?!e.disabled:!1}function qwe(e){if(!VQe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Gp(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Nc(n)&&(qwe(n)||Gp(n)))return!0}return!1}function B6(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Nc(n)&&(qwe(n)||B6(n)))return!0}return!1}function HQe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Wu(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(u$),i=o&&Ywe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ye(r),d=u.length-1,f=Math.min(_m(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),y=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const b=h.useMemo(()=>({version:0,isTopLayer:y,level:c,registerChild:x,size:v,zIndex:p}),[y,c,x,v,p]);return l.jsx(u$.Provider,{value:b,children:n})}const UQe=O.div({position:"relative"}),WQe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=Sf,...a}=t,{zIndex:c,isTopLayer:u}=pa(),d=h.useRef(null),f=fr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,y=document.activeElement;!u||!g||!y||Nc(y)&&f$(g,y)&&(d.current=y)},[f,u,i]);return l.jsx(UQe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),is=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Wu,{zOffset:o,children:l.jsx(WQe,{...i,ref:n,children:r})})}),h$=Symbol.for("@sanity/ui/context/portal"),Bh=Symbol.for("@sanity/ui/context/portal/element");Jt[Bh]=null;const YQe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Jt[Bh]||(Jt[Bh]=document.createElement("div"),Jt[Bh].setAttribute("data-portal",""),document.body.appendChild(Jt[Bh])),Jt[Bh])}};Jt[h$]=Jt[h$]||h.createContext(YQe);const Gwe=Jt[h$];function Em(){const e=h.useContext(Gwe);if(!e)throw new Error("usePortal(): missing context value");if(!D0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function km(e){var t;const{children:n,__unstable_name:r}=e,o=Em(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?vc.createPortal(n,i):null}function qQe(e){const t=h.useRef(e);return GQe(t.current,e)||(t.current=e),t.current}function GQe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const KQe=typeof document<"u";function jm(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=qQe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||KQe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(Gwe.Provider,{value:s,children:n})}var QW=Object.freeze,ZQe=Object.defineProperty,XQe=(e,t)=>QW(ZQe(e,"raw",{value:QW(t||e.slice())})),JW;const QQe=O.div(JW||(JW=XQe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(QQe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var eY=Object.freeze,JQe=Object.defineProperty,Kwe=(e,t)=>eY(JQe(e,"raw",{value:eY(t||e.slice())})),tY,nY;const eJe=O.div(tY||(tY=Kwe([`
  position: relative;
`]))),rY=O.div(nY||(nY=Kwe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=Os().sanity,f=fr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,y]=h.useState(0),[x,b]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&b(k.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!HQe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const P=new Iwe($=>{y($[0].contentRect.height)});return P.observe(D),I(),()=>{D.removeEventListener("scroll",I),P.unobserve(D),P.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(rY,{children:c(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=c(k),I=i?i(k,A):A;return l.jsx(rY,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(eJe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:E})})});const tJe=4,vg=4,cc=27,nJe=11,Zwe=[0,0,0,0],rJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function oJe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await Bb(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(i.floating),x=y.height,b=y.width;return v!==b||g!==x?{reset:{rects:!0}}:{}}}}function iJe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function sJe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-vg*2)}var oY=Object.freeze,aJe=Object.defineProperty,N6=(e,t)=>oY(aJe(e,"raw",{value:oY(t||e.slice())})),iY,sY,aY;const lJe=O.div(iY||(iY=N6([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),cc,cc,cc/2,cc/2,cc,cc,cc,cc),cJe=O.path(sY||(sY=N6([`
  fill: var(--card-shadow-outline-color);
`]))),uJe=O.path(aY||(aY=N6([`
  fill: var(--card-bg-color);
`]))),dJe=h.forwardRef(function(t,n){return l.jsx(lJe,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:cc,height:nJe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(cJe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(uJe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),fJe=O(X)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),Xwe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:y,tone:x,width:b,x:w,y:C,..._}=t,{zIndex:S}=pa(),E=h.useMemo(()=>r||Zwe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:b,zIndex:S,...y}),[g,y,b,j,k,S]),A=d&&Swe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-cc),I},[s,a,A]);return l.jsxs(fJe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(U,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(dJe,{ref:i,style:D})]})}));Xwe.displayName="PopoverCard";const tn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=Os(),m=Sm(),{__unstable_margins:v=Zwe,arrow:g=!0,boundaryElement:y=m.element,children:x,constrainSize:b=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:rJe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:P=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:z,shadow:B=3,tone:H="inherit",width:W="auto",zOffset:V=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:G,...te}=t,N=(c=Uj(y))==null?void 0:c.border,Y=ye(T),q=ye(P),Z=ye(B),se=ye(W),re=ye(V),K=fr(n),Q=h.useRef(null),le="viewport",me=_m(),ae=b||I?N==null?void 0:N.width:void 0,Ce=iJe({mediaIndex:me,theme:p,width:se}),_e=h.useRef(Ce);h.useEffect(()=>{_e.current=Ce},[Ce]);const he=sJe({boundaryWidth:ae,currentWidth:Ce}),be=h.useRef(he);h.useEffect(()=>{be.current=he},[he]);const Le=h.useRef();h.useEffect(()=>{const qt=K.current;if(!j||!qt)return;const no=Le.current;S?no!==void 0&&(qt.style.width="".concat(no,"px")):Ce!==void 0&&(qt.style.width="".concat(Ce,"px")),typeof he=="number"&&(qt.style.maxWidth="".concat(he,"px"))},[Ce,K,S,he,j]);const Re=h.useMemo(()=>{const qt=[];return(b||I)&&qt.push(N1e({boundary:E||void 0,fallbackPlacements:_,padding:vg,rootBoundary:le})),qt.push(z1e({mainAxis:g?tJe:0})),(b||S)&&qt.push(oJe({apply(no){let{availableWidth:al,availableHeight:ll,elements:$s,referenceWidth:Bn}=no;Le.current=Bn;const zn=_e.current,Gr=be.current;S?$s.floating.style.width="".concat(Bn,"px"):zn!==void 0&&($s.floating.style.width="".concat(zn,"px")),b&&($s.floating.style.maxWidth="".concat(Math.min(al,Gr??1/0),"px"),$s.floating.style.maxHeight="".concat(ll,"px"))},boundaryElement:E||void 0,constrainSize:b,margins:v,matchReferenceWidth:S,padding:vg})),I&&qt.push(V1e({boundary:E||void 0,rootBoundary:le,padding:vg})),g&&qt.push(exe({element:Q,padding:vg})),qt.push(uVe({boundary:$||void 0,padding:vg,strategy:"referenceHidden"})),qt},[g,b,_,E,v,S,I,$]),{x:lt,y:ot,middlewareData:Bt,placement:Rt,refs:Ae,strategy:Ge,update:Ye}=nxe({middleware:Re,placement:A,whileElementsMounted:Z1e}),tt=(u=Bt.hide)==null?void 0:u.referenceHidden,xt=(d=Bt.arrow)==null?void 0:d.x,Ee=(f=Bt.arrow)==null?void 0:f.y,Be=h.useCallback(qt=>{Q.current=qt},[]),ct=h.useCallback(qt=>{K.current=qt,Ae.setFloating(qt)},[K,Ae]),pi=h.useCallback(qt=>{Ae.setReference(qt);const no=x==null?void 0:x.ref;typeof no=="function"?no(qt):no&&(no.current=qt)},[x,Ae]),on=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:pi}),[x,R,pi]);if(h.useEffect(()=>{G&&(typeof G=="function"?G(Ye):G&&(G.current=Ye))},[Ye,G]),h.useEffect(()=>{Ae.setReference(R||null)},[R,Ae]),C)return x||l.jsx(l.Fragment,{});const Ko=l.jsx(Wu,{zOffset:re,children:l.jsx(Xwe,{...te,__unstable_margins:v,arrow:g,arrowRef:Be,arrowX:xt,arrowY:Ee,hidden:tt,overflow:k,padding:Y,placement:Rt,radius:q,ref:ct,scheme:z,shadow:Z,strategy:Ge,tone:H,width:S?Le.current:Ce,x:lt,y:ot,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(km,{__unstable_name:typeof D=="string"?D:void 0,children:Ko}):Ko}),on]})}));tn.displayName="Popover";var lY=Object.freeze,hJe=Object.defineProperty,Qwe=(e,t)=>lY(hJe(e,"raw",{value:lY(t||e.slice())})),cY,uY;function pJe(){return de(cY||(cY=Qwe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function mJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return de(uY||(uY=Qwe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ge(r.radio.size/2),ge(r.radio.size),ge(r.radio.size),ge(r.radio.size/2),o.default.enabled.bg,To({color:o.default.enabled.border,width:r.border.width}),ge(i),ge(i),ge(r.radio.markSize),ge(r.radio.markSize),ge(r.radio.markSize/2),o.default.enabled.fg,Rc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),To({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const gJe=O.div(pJe),vJe=O.input(mJe),yJe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=fr(n);return Iw(u,s),l.jsxs(gJe,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(vJe,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var dY=Object.freeze,bJe=Object.defineProperty,qj=(e,t)=>dY(bJe(e,"raw",{value:dY(t||e.slice())})),fY,hY,pY,mY;function xJe(){return de(fY||(fY=qj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function wJe(e){const{theme:t}=e,n=t.sanity.fonts.text;return de(hY||(hY=qj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function CJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return de(pY||(pY=qj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,To({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,To({color:o.default.hovered.border,width:r.border.width}),Rc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,To({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,To({color:o.default.disabled.border,width:r.border.width}))}function _Je(e){return{fontSize:ge(e.fontSize),lineHeight:ge(e.lineHeight)}}function SJe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return mt(t.sanity.media,n,o=>_Je(r[o]||r[2]))}function EJe(){return[dd,wJe,CJe,SJe,GZe]}function kJe(e){const{theme:t}=e,n=t.sanity.color.input;return de(mY||(mY=qj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const z6={root:xJe,input:EJe,iconBox:kJe},jJe=O.div(z6.root),TJe=O.select(z6.input),AJe=O(M)(z6.iconBox),Hf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=fr(n);return Iw(p,o),l.jsxs(jJe,{"data-ui":"Select",children:[l.jsx(TJe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ye(s),$padding:ye(a),$radius:ye(c),$space:ye(d),disabled:i||u,ref:p,children:r}),l.jsx(AJe,{padding:a,children:l.jsx(L,{size:s,children:l.jsx(Hl,{})})})]})}),DJe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function IJe(){return DJe}function PJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return mt(n,e.$space,o=>({gridGap:ge(r[o])}))}const OJe=O(M)(IJe,PJe),ee=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx(OJe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ye(o),forwardedAs:r,ref:n})});var gY=Object.freeze,RJe=Object.defineProperty,jp=(e,t)=>gY(RJe(e,"raw",{value:gY(t||e.slice())})),vY,yY,bY,xY,wY,CY,_Y;function $Je(){return de(vY||(vY=jp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function MJe(){return de(yY||(yY=jp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function FJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return de(bY||(bY=jp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ge(r.switch.width),ge(r.switch.height),ge(r.switch.height/2),Rc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function LJe(e){const{theme:t}=e,{input:n}=t.sanity;return de(xY||(xY=jp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ge(n.switch.width),ge(n.switch.height),ge(n.switch.height/2))}function BJe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return de(_Y||(_Y=jp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ge(s),ge(s),ge(a),ge(a),ge(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&de(wY||(wY=jp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&de(CY||(CY=jp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const NJe=O.span($Je),zJe=O.input(MJe),VJe=O.span(FJe),HJe=O.span(LJe),UJe=O.span(BJe),Jwe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=fr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(NJe,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(zJe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(VJe,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(HJe,{}),l.jsx(UJe,{$checked:r,$indeterminate:s})]})]})});var SY=Object.freeze,WJe=Object.defineProperty,YJe=(e,t)=>SY(WJe(e,"raw",{value:SY(t||e.slice())})),EY;const qJe=O.span(Mwe),GJe=O.span(EY||(EY=YJe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),KJe=O.textarea(R6,Fwe,Lwe),ZJe=O.div(dd,Bwe),eCe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=fr(n),p=I0();return Iw(f,o),l.jsx(qJe,{"data-ui":"TextArea",children:l.jsxs(GJe,{children:[l.jsx(KJe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ye(s),$padding:ye(a),$scheme:p.scheme,$space:ye(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(ZJe,{$radius:ye(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var kY=Object.freeze,XJe=Object.defineProperty,O0=(e,t)=>kY(XJe(e,"raw",{value:kY(t||e.slice())})),jY,TY,AY,DY,IY,PY;const QJe={zIndex:2},JJe=O(X).attrs({forwardedAs:"span"})(Mwe),eet=O.span(jY||(jY=O0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),tet=O(X).attrs({forwardedAs:"span"})(TY||(TY=O0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),net=O(X).attrs({forwardedAs:"span"})(AY||(AY=O0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),ret=O.input(R6,Fwe,Lwe),oet=O.span(dd,Bwe),iet=O(M)(DY||(DY=O0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),set=O(M)(IY||(IY=O0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),aet=O(X)(PY||(PY=O0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),cet=O(oe)({"&:not([hidden])":{display:"block"}}),Fr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:y,type:x="text",weight:b,...w}=t,C=fr(n),_=I0(),S=ye(s),E=ye(d),j=ye(p),k=ye(v),T=!!o,A=!!a,D=!!c,I=!!g,P=!!f;Iw(C,y);const $=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),R=h.useCallback(N=>{var Y;N.preventDefault(),N.stopPropagation(),u&&u(),(Y=C.current)==null||Y.focus()},[u,C]),z=h.useMemo(()=>f&&l.jsx(tet,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),B=h.useMemo(()=>l.jsxs(oet,{$hasPrefix:P,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(iet,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,Sr.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(set,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(c)&&c,Sr.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,E,j,_,T,P,I]),H=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),W=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),V=h.useMemo(()=>typeof o=="object"?o:Sf,[o]),G=h.useMemo(()=>!i&&!m&&o&&l.jsx(aet,{forwardedAs:"span",padding:H,style:QJe,tone:y?"critical":"inherit",children:l.jsx(cet,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Ii,mode:"bleed",padding:W,radius:j,...V,onClick:R,onMouseDown:$})}),[o,H,W,V,y,i,S,R,$,j,m]),te=h.useMemo(()=>g&&l.jsx(net,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(JJe,{"data-ui":"TextInput",tone:_.tone,children:[z,l.jsxs(eet,{children:[l.jsx(ret,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:b,disabled:i,readOnly:m,ref:C,type:x}),B,G]}),te]})});function p$(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const RI=4,uet={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var OY=Object.freeze,det=Object.defineProperty,V6=(e,t)=>OY(det(e,"raw",{value:OY(t||e.slice())})),RY,$Y,MY;const fet=O.div(RY||(RY=V6([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),het=O.path($Y||($Y=V6([`
  fill: var(--card-shadow-outline-color);
`]))),pet=O.path(MY||(MY=V6([`
  fill: var(--card-bg-color);
`]))),met=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(fet,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(het,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(pet,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),m$=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Jt[m$]=Jt[m$]||h.createContext(null);const tCe=Jt[m$];function nCe(){return h.useContext(tCe)}function rCe(e){const{children:t,delay:n}=e,[r,o]=p$(!1),[i,s]=p$(null);if(nCe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(tCe.Provider,{value:d,children:t})}var FY=Object.freeze,get=Object.defineProperty,vet=(e,t)=>FY(get(e,"raw",{value:FY(t||e.slice())})),LY;const yet=O(is)(LY||(LY=vet([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),it=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=Sm(),d=Os(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:uet[(r=t.placement)!=null?r:"bottom"],padding:y,placement:x="bottom",portal:b,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...E}=t,j=ye(g),k=fr(n),[T,A]=h.useState(null),D=h.useRef(null),I="viewport",P=Em(),$=typeof b=="string"?((s=P.elements)==null?void 0:s[b])||null:P.element,R=h.useMemo(()=>{const Ee=[...f?[f.offsetWidth]:[],($==null?void 0:$.offsetWidth)||document.body.offsetWidth];return Math.min(...Ee)-RI*2},[f,$==null?void 0:$.offsetWidth]),z=h.useMemo(()=>{const Ee=[];return Ee.push(N1e({boundary:f||void 0,fallbackPlacements:j,padding:RI,rootBoundary:I})),Ee.push(z1e({mainAxis:3})),Ee.push(V1e({boundary:f||void 0,rootBoundary:I,padding:RI})),Ee.push(exe({element:D,padding:2})),Ee},[f,j]),{floatingStyles:B,placement:H,middlewareData:W,refs:V,update:G}=nxe({middleware:z,placement:x,whileElementsMounted:Z1e}),te=H&&Swe[H.split("-")[0]],N=(a=W.arrow)==null?void 0:a.x,Y=(c=W.arrow)==null?void 0:c.y,q=h.useMemo(()=>{const Ee={left:N!==null?N:void 0,top:Y!==null?Y:void 0,right:void 0,bottom:void 0};return te&&(Ee[te]=-15),Ee},[N,Y,te]),Z=h.useId(),[se,re]=p$(!1),K=nCe(),Q=se||(K==null?void 0:K.openTooltipId)===Z,le=K!==null,me=typeof S=="number"?S:(S==null?void 0:S.open)||0,ae=typeof S=="number"?S:(S==null?void 0:S.close)||0,Ce=le?K.openDelay:me,_e=le?K.closeDelay:ae,he=h.useCallback((Ee,Be)=>{if(le)if(Ee){const ct=Be?0:Ce;K.setIsGroupActive(Ee,ct),K.setOpenTooltipId(Z,ct)}else{const pi=_e>200?_e:200;K.setIsGroupActive(Ee,pi),K.setOpenTooltipId(null,Be?0:_e)}else re(Ee,Be?0:Ee?Ce:_e)},[le,K,Ce,Z,_e,re]),be=h.useCallback(Ee=>{var Be,ct;he(!1),(ct=(Be=p==null?void 0:p.props)==null?void 0:Be.onBlur)==null||ct.call(Be,Ee)},[p==null?void 0:p.props,he]),Le=h.useCallback(Ee=>{var Be,ct;he(!1,!0),(ct=p==null?void 0:(Be=p.props).onClick)==null||ct.call(Be,Ee)},[p==null?void 0:p.props,he]),Re=h.useCallback(Ee=>{var Be,ct;he(!1,!0),(ct=p==null?void 0:(Be=p.props).onContextMenu)==null||ct.call(Be,Ee)},[p==null?void 0:p.props,he]),lt=h.useCallback(Ee=>{var Be,ct;he(!0),(ct=(Be=p==null?void 0:p.props)==null?void 0:Be.onFocus)==null||ct.call(Be,Ee)},[p==null?void 0:p.props,he]),ot=h.useCallback(Ee=>{var Be,ct;he(!0),(ct=(Be=p==null?void 0:p.props)==null?void 0:Be.onMouseEnter)==null||ct.call(Be,Ee)},[p==null?void 0:p.props,he]),Bt=h.useCallback(Ee=>{var Be,ct;he(!1),(ct=(Be=p==null?void 0:p.props)==null?void 0:Be.onMouseLeave)==null||ct.call(Be,Ee)},[p==null?void 0:p.props,he]);h.useEffect(()=>{if(!se)return;function Ee(Be){if(!T)return;T===Be.target||Be.target instanceof Node&&T.contains(Be.target)||(he(!1),window.removeEventListener("mousemove",Ee))}return window.addEventListener("mousemove",Ee),()=>{window.removeEventListener("mousemove",Ee)}},[se,T,he]),h.useEffect(()=>{v&&he(!1)},[v,he]),h.useEffect(()=>{m||he(!1)},[m,he]),h.useEffect(()=>V.setReference(T),[T,V]),h.useEffect(()=>{if(!Q)return;function Ee(Be){Be.key==="Escape"&&he(!1,!0)}return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},[he,Q]);const Rt=h.useCallback(Ee=>{D.current=Ee,G()},[G]),Ae=h.useCallback(Ee=>{k.current=Ee,V.setFloating(Ee)},[k,V]),Ge=p==null?void 0:p.ref,Ye=h.useCallback(Ee=>{typeof Ge=="function"?Ge(Ee):Ge&&(Ge.current=Ee),A(Ee)},[Ge]),tt=h.useMemo(()=>p?h.cloneElement(p,{onBlur:be,onFocus:lt,onMouseEnter:ot,onMouseLeave:Bt,onClick:Le,onContextMenu:Re,ref:Ye}):null,[p,be,Le,Re,lt,ot,Bt,Ye]);if(!tt)return l.jsx(l.Fragment,{});if(v)return tt;const xt=l.jsx(yet,{"data-ui":"Tooltip",...E,ref:Ae,style:B,zOffset:_,$maxWidth:R,children:l.jsxs(X,{"data-ui":"Tooltip__card","data-placement":H,padding:y,radius:2,scheme:w,shadow:C,children:[m,l.jsx(met,{ref:Rt,style:q})]})});return l.jsxs(l.Fragment,{children:[tt,Q&&l.jsx(l.Fragment,{children:b?l.jsx(km,{__unstable_name:typeof b=="string"?b:void 0,children:xt}):xt})]})});var BY=Object.freeze,bet=Object.defineProperty,Gj=(e,t)=>BY(bet(e,"raw",{value:BY(t||e.slice())})),NY,zY,VY,HY;const xet=O.div(NY||(NY=Gj([`
  line-height: 0;
`]))),wet=O(M)(zY||(zY=Gj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),Cet=gm(VY||(VY=Gj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),_et=O(pw)(HY||(HY=Gj([`
  animation: `,` 500ms linear infinite;
`])),Cet);function Eet(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!FQe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function ket(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const jet=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Tet="bottom-start",Aet=["bottom-start","top-start"],Det=(e,t)=>t?t.value:e,Iet=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Pet=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=Sf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:y,openButton:x,options:b,padding:w=3,popover:C=Sf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=Det,suffix:D,value:I,...P}=t,[$,R]=h.useReducer(ket,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:z,focused:B,listFocused:H,query:W,value:V}=$,G=h.useCallback(We=>{let{value:wt}=We;return l.jsx(X,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(L,{size:a,textOverflow:"ellipsis",children:wt})})},[a,w]),te=typeof k=="function"?k:G,N=typeof s=="function"?s:Iet,Y=h.useRef(null),q=h.useRef(null),Z=h.useRef(null),se=h.useRef(null),re=h.useRef(!1),K=h.useRef(V),Q=h.useRef(I),le=h.useRef(!1),me=fr(n),ae="".concat(u,"-listbox"),Ce=Array.isArray(b)?b:Dw,_e=ye(w),he=h.useMemo(()=>V!==null?Ce.find(We=>We.value===V):void 0,[Ce,V]),be=h.useMemo(()=>Ce.filter(We=>W?N(W,We):!0),[N,Ce,W]),Le=be.length,Re=z?"".concat(u,"-option-").concat(z):void 0,lt=W!==null&&f||B&&W!==null,ot=h.useCallback(We=>{setTimeout(()=>{if(le.current)return;const wt=(j||[]).concat(Y.current?[Y.current]:[],q.current?[q.current]:[]);let er=!1;if(document.activeElement){for(const Nn of wt)if(Nn===document.activeElement||Nn.contains(document.activeElement)){er=!0;break}}er===!1&&(R({type:"root/blur"}),le.current=!1,g&&g(null),p&&p(We))},0)},[p,g,j]),Bt=h.useCallback(We=>{const wt=se.current,er=We.target instanceof HTMLElement?We.target:null,Nn=(wt==null?void 0:wt.contains(er))||!1;Nn!==re.current&&(re.current=Nn,R({type:"root/setListFocused",listFocused:Nn}))},[]),Rt=h.useCallback(We=>{var wt;R({type:"value/change",value:We}),le.current=!1,y&&y(We),K.current=We,m&&m(We),g&&g(null),(wt=Z.current)==null||wt.focus()},[m,y,g]),Ae=h.useCallback(We=>{var wt,er;if(We.key==="ArrowDown"){if(We.preventDefault(),!Le)return;const jr=be.find(va=>va.value===z),Oo=jr?be.indexOf(jr):-1,Ms=be[(Oo+1)%Le];Ms&&R({type:"root/setActiveValue",value:Ms.value,listFocused:!0});return}if(We.key==="ArrowUp"){if(We.preventDefault(),!Le)return;const jr=be.find(va=>va.value===z),Oo=jr?be.indexOf(jr):-1,Ms=be[Oo===-1?Le-1:(Le+Oo-1)%Le];Ms&&R({type:"root/setActiveValue",value:Ms.value,listFocused:!0});return}if(We.key==="Escape"){R({type:"root/escape"}),le.current=!1,g&&g(null),(wt=Z.current)==null||wt.focus();return}const Nn=We.target,ga=se.current;if((ga===Nn||ga!=null&&ga.contains(Nn))&&!jet.includes(We.key)){(er=Z.current)==null||er.focus();return}},[z,be,Le,g]),Ge=h.useCallback(We=>{const wt=We.currentTarget.value;R({type:"input/change",query:wt}),g&&g(wt)},[g]),Ye=h.useCallback(We=>{B||(R({type:"input/focus"}),v&&v(We))},[B,v]),tt=h.useCallback(()=>{le.current=!0},[]),xt=h.useCallback(()=>{le.current=!1},[]),Ee=h.useCallback(()=>{var We;R({type:"root/clear"}),K.current="",m&&m(""),g&&g(null),(We=Z.current)==null||We.focus()},[m,g]),Be=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==Q.current){Q.current=I,I!==void 0&&(R({type:"value/change",value:I}),K.current=I);return}I!==K.current&&(K.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!B&&K.current&&R({type:"root/setActiveValue",value:K.current})},[B]),h.useEffect(()=>{const We=se.current;if(!We)return;const wt=be.find(er=>er.value===z);if(wt){const er=be.indexOf(wt),Nn=We.childNodes[er];if(Nn){if(zQe(Nn))return;Gp(Nn)}}},[z,be]);const ct=h.useCallback(We=>{Z.current=We,me.current=We},[me]),pi=h.useMemo(()=>{if(!f&&!i&&V)return{"aria-label":"Clear",onFocus:Be}},[i,Be,f,V]),on=h.useMemo(()=>_e.map(We=>We===0?0:We===1||We===2?1:We-2),[_e]),Ko=h.useMemo(()=>_e.map(We=>Math.max(We-1,0)),[_e]),qt=h.useMemo(()=>typeof x=="object"?x:Sf,[x]),no=h.useCallback(We=>{R({type:"root/open",query:V?A(V,he):""}),qt.onClick&&qt.onClick(We),d$(()=>{var wt;return(wt=Z.current)==null?void 0:wt.focus()})},[he,qt,A,V]),al=h.useMemo(()=>!i&&!E&&x?l.jsx(M,{"aria-hidden":lt,padding:on,children:l.jsx(oe,{"aria-label":"Open",disabled:lt,fontSize:a,icon:el,mode:"bleed",padding:Ko,...qt,onClick:no})}):void 0,[i,lt,a,no,x,on,Ko,qt,E]),ll=h.useMemo(()=>W===null?V!==null?A(V,he):"":W,[he,W,A,V]),$s=l.jsx(Fr,{...P,"aria-activedescendant":Re,"aria-autocomplete":"list","aria-expanded":lt,"aria-owns":ae,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:pi,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&_et,id:u,inputMode:"search",onChange:Ge,onClear:Ee,onFocus:Ye,padding:_e,prefix:_,radius:S,readOnly:E,ref:ct,role:"combobox",spellCheck:!1,suffix:D||al,value:ll}),Bn=h.useCallback(We=>{var wt;We.key==="Tab"&&H&&((wt=Z.current)==null||wt.focus())},[H]),zn=h.useMemo(()=>be.length===0?null:l.jsx(wet,{"data-ui":"AutoComplete__results",onKeyDown:Bn,padding:1,...d,tabIndex:-1,children:l.jsx(ee,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ae,ref:se,role:"listbox",space:1,children:be.map(We=>{const wt=z!==null?We.value===z:he===We;return l.jsx(Eet,{id:"".concat(u,"-option-").concat(We.value),onSelect:Rt,selected:wt,value:We.value,children:h.cloneElement(te(We),{disabled:f,selected:wt,tabIndex:H&&wt?0:-1})},We.value)})})}),[z,he,be,Rt,Bn,u,d,ae,H,f,te]),Gr=h.useMemo(()=>T?T({content:zn,hidden:!lt,inputElement:Z.current,onMouseEnter:tt,onMouseLeave:xt},q):Le===0?null:l.jsx(tn,{arrow:!1,constrainSize:!0,content:zn,fallbackPlacements:Aet,matchReferenceWidth:!0,onMouseEnter:tt,onMouseLeave:xt,open:lt,overflow:"auto",placement:Tet,portal:!0,radius:S,ref:q,referenceElement:Z.current,...C}),[zn,lt,Le,tt,xt,C,S,T]);return l.jsxs(xet,{"data-ui":"Autocomplete",onBlur:ot,onFocus:Bt,onKeyDown:Ae,ref:Y,children:[$s,Gr]})}),H6=Pet;var UY=Object.freeze,Oet=Object.defineProperty,oCe=(e,t)=>UY(Oet(e,"raw",{value:UY(t||e.slice())})),WY,YY;const Ret=O.ol(WY||(WY=oCe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),$et=O(oe)(YY||(YY=oCe([`
  appearance: none;
  margin: -4px;
`]))),U6=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=ye(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),y=h.useCallback(()=>d(!0),[]);dr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),b=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(tn,{constrainSize:!0,content:l.jsx(ee,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx($et,{fontSize:1,mode:"bleed",onClick:u?g:y,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[g,y,o,u,x,c]);return l.jsx(Ret,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(L,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},C))})});function Met(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function Fet(e){const{theme:t}=e,{media:n}=t.sanity;return mt(n,e.$position,r=>({"&&":{position:r}}))}const g$=Symbol.for("@sanity/ui/context/dialog");Jt[g$]=Jt[g$]||h.createContext({version:0});const iCe=Jt[g$];function Let(){return h.useContext(iCe)}var qY=Object.freeze,Bet=Object.defineProperty,R0=(e,t)=>qY(Bet(e,"raw",{value:qY(t||e.slice())})),GY,KY,ZY,XY,QY,JY;function v$(e,t,n){return!e||!t?!0:f$(e,n)||f$(t,n)}const Net=O(is)(Nwe,Met,Fet),zet=O(eo)(GY||(GY=R0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),Vet=O(X)(KY||(KY=R0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),Het=O(U)(ZY||(ZY=R0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),Uet=O(X)(XY||(XY=R0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),Wet=O(M)(QY||(QY=R0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),Yet=O(M)(JY||(JY=R0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),qet=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:y,width:x}=t,b=Em(),w=m?((r=b.elements)==null?void 0:r[m])||null:b.element,C=Sm().element,_=ye(v),S=ye(y),E=ye(x),j=fr(n),[k,T]=h.useState(null),A=h.useRef(null),D=pa(),{isTopLayer:I}=D,P="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&Gp(j.current)},[o,j]),Ps(h.useCallback(H=>{if(!I||!p)return;const W=document.activeElement;W&&!v$(C,w,W)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[C,I,p,w])),dr(h.useCallback(H=>{if(!I||!f)return;const W=H.target;W&&!v$(C,w,W)||f()},[C,I,f,w]),[k]);const z=h.useCallback(H=>{T(H),j.current=H},[j]),B=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return l.jsx(zet,{"data-ui":"DialogCard",width:E,children:l.jsx(Vet,{radius:_,ref:z,scheme:g,shadow:S,children:l.jsxs(Het,{direction:"column",children:[R&&l.jsx(Uet,{children:l.jsxs(U,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(L,{id:P,weight:"semibold",children:u})}),$&&l.jsx(M,{padding:2,children:l.jsx(oe,{"aria-label":"Close dialog",disabled:!p,icon:Ii,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(Wet,{flex:1,ref:B,tabIndex:-1,children:s}),c&&l.jsx(Yet,{children:c})]})})})}),Fi=h.forwardRef(function(t,n){var r,o;const i=Let(),s=Os(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:y,onClickOutside:x,onClose:b,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=Em(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=Sm().element,P=ye(u),$=ye(C),R=ye(S),z=ye(j),B=ye(k),H=h.useRef(null),W=h.useRef(null),V=h.useRef(null),G=h.useRef(null),te=h.useCallback(Z=>{w==null||w(Z);const se=Z.target,re=V.current;if(re&&se===H.current){B6(re);return}if(re&&se===W.current){Gp(re);return}Nc(Z.target)&&(G.current=Z.target)},[w]),N="".concat(g,"_label"),Y=h.useRef(),q=h.useCallback(()=>{Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!v$(I,D,Z)){const se=G.current;if(!se||!document.body.contains(se)){const re=V.current;re&&Gp(re);return}se.focus()}},0)},[I,D]);return l.jsx(km,{__unstable_name:_,children:l.jsxs(Net,{...T,$padding:$,$position:R,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:y,onClick:q,onFocus:te,ref:n,role:"dialog",zOffset:B,children:[l.jsx("div",{ref:H,tabIndex:0}),l.jsx(qet,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:b,portal:_,radius:P,ref:V,scheme:E,shadow:d,width:z,children:f}),l.jsx("div",{ref:W,tabIndex:0})]})})});function y$(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(iCe.Provider,{value:o,children:t})}var eq=Object.freeze,Get=Object.defineProperty,sCe=(e,t)=>eq(Get(e,"raw",{value:eq(t||e.slice())})),tq,nq;const Ket=O.kbd(tq||(tq=sCe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),Zet=O(a$)(nq||(nq=sCe([`
  &:not([hidden]) {
    display: block;
  }
`]))),W6=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=ye(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(Ket,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(Kt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(Zet,{fontSize:r,padding:i,radius:s,children:d},f))})})}),b$=Symbol.for("@sanity/ui/context/menu");Jt[b$]=Jt[b$]||h.createContext(null);const aCe=Jt[b$];function Xet(e){return F6(e)&&e.getAttribute("data-disabled")!=="true"||L6(e)&&!e.disabled}function tg(e){return e.filter(Xet)}function Qet(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const rq=[];function Jet(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,Qet(e,o));const r=(o,i)=>{const s=n.get(o)||rq,a=n.get(i)||rq,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function ett(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),Jet(i,o.current)),b){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=tg(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=tg(o.current),w=b[b.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=tg(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_-1+w)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=tg(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_+1)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const b=x.currentTarget,w=o.current.indexOf(b);p(w)},[p]),y=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const _=tg(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=tg(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[b]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var oq=Object.freeze,ttt=Object.defineProperty,ntt=(e,t)=>oq(ttt(e,"raw",{value:oq(t||e.slice())})),iq;const rtt=O(M)(iq||(iq=ntt([`
  outline: none;
  overflow: auto;
`]))),Nt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...y}=t,x=fr(n),{isTopLayer:b}=pa(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=ett({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),dr(h.useCallback(I=>b&&s&&s(I),[b,s]),[k]),Ps(h.useCallback(I=>{b&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[b,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(aCe.Provider,{value:D,children:l.jsx(rtt,{"data-ui":"Menu",...y,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(ee,{space:g,children:r})})})}),nn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[y,x]=h.useState(!1),[b,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(y);h.useEffect(()=>{u&&y&&!j.current&&u()},[u,y]),h.useEffect(()=>{c&&!y&&j.current&&c()},[c,y]),h.useEffect(()=>{j.current=y},[y]);const k=h.useCallback(()=>{x(V=>!V),w(null)},[]),T=h.useCallback(V=>{if(V.key==="ArrowDown"||V.key==="Enter"||V.key===" "){V.preventDefault(),x(!0),w("first");return}if(V.key==="ArrowUp"){V.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(V=>{const G=V.target;if(G instanceof Node&&!(C&&(G===C||C.contains(G)))){for(const te of S)if(G===te||te.contains(G))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(V=>{const G=V.relatedTarget;if(G instanceof Node){for(const te of S)if(te===G||te.contains(G))return;x(!1)}},[S]),P=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(V=>(E(G=>G.concat([V])),()=>{E(G=>G.filter(te=>te!==V))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:P,originElement:C,registerElement:$,shouldFocus:b}),[C,A,D,P,s,I,$,b]),z=Sr.isElement(a)?h.cloneElement(a,R):null,B=h.useCallback(V=>{typeof n=="function"?n(V):n&&(n.current=V),_(V)},[n]),H=h.useMemo(()=>Sr.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:B,selected:y}):null,[i,k,T,s,y,B]),W=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(tn,{"data-ui":"MenuButton__popover",...W,content:z,open:y,children:H||l.jsx(l.Fragment,{})})});var sq=Object.freeze,ott=Object.defineProperty,itt=(e,t)=>sq(ott(e,"raw",{value:sq(t||e.slice())})),aq;const Or=O.hr(aq||(aq=itt([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var lq=Object.freeze,stt=Object.defineProperty,lCe=(e,t)=>lq(stt(e,"raw",{value:lq(t||e.slice())})),cq,uq;function att(){return de(cq||(cq=lCe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function ltt(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return de(uq||(uq=lCe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Vt(i,c.enabled),Vt(i,c.disabled),Vt(i,c.pressed),Vt(i,c.selected),Vt(i,c.hovered),Vt(i,c.pressed),Vt(i,c.disabled),Vt(i,c.pressed),Vt(i,c.selected),Vt(i,c.hovered),Vt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const cCe=O(M)(dd,att,ltt);function uCe(){const e=h.useContext(aCe);if(!e)throw new Error("useMenu(): missing context value");if(!D0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function Y6(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=uCe(),{activeElement:v,mount:g,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(W=>{D(!1),w(W),j(!0)},[w]),P=h.useCallback(W=>{W.key==="ArrowLeft"&&(W.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(W=>{i&&i(W),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),R=h.useCallback(()=>{j(!1),b&&b()},[b]),z=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const B=l.jsx(Nt,{onClickOutside:y,onEscape:x,onItemClick:R,onKeyDown:P,onMouseEnter:z,registerElement:C,shouldFocus:k.current,children:n}),H=h.useCallback(W=>{const V=W.currentTarget;if(document.activeElement===V&&W.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return l.jsx(tn,{...a,content:B,"data-ui":"MenuGroup__popover",open:E,children:l.jsx(cCe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ye(c),$tone:f,onClick:$,onKeyDown:H,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(U,{children:[o&&l.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,Sr.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(L,{size:r,children:l.jsx(Lc,{})})})]})})})})}const Ne=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x,pressed:b,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=uCe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:P=k.onMouseLeave}=k,[$,R]=h.useState(null),z=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const B=fr(n),H=h.useCallback(G=>{i||(d&&d(G),D&&D())},[i,d,D]),W=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x}),[f,p,m,v,g,y,x]),V=h.useCallback(G=>{B.current=G,R(G)},[B]);return l.jsxs(cCe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":z?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ye(w),$padding:ye(0),$tone:E,disabled:i,onClick:H,onMouseEnter:I,onMouseLeave:P,ref:V,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...W,children:l.jsxs(U,{as:"span",children:[c&&l.jsxs(L,{size:s,children:[h.isValidElement(c)&&c,Sr.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx(W6,{fontSize:s,keys:a})}),u&&l.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,Sr.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...W,children:o})]})});var dq=Object.freeze,ctt=Object.defineProperty,HE=(e,t)=>dq(ctt(e,"raw",{value:dq(t||e.slice())})),fq,hq,pq,mq;const utt=gm(fq||(fq=HE([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),dtt=de(hq||(hq=HE([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),utt),ftt=de(mq||(mq=HE([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?dtt:de(pq||(pq=HE([`
            background-color: var(--card-skeleton-color-from);
          `])))}),htt=O(M)(dd,ftt),$0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(htt,{...s,$animated:r,$radius:ye(i),$visible:a,ref:n})}),Kj=O($0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return mt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),Oi=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Kj,{...o,$size:i,ref:n,$style:"text"})}),UE=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Kj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Kj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Kj,{...o,$size:i,ref:n,$style:"code"})});var gq=Object.freeze,ptt=Object.defineProperty,mtt=(e,t)=>gq(ptt(e,"raw",{value:gq(t||e.slice())})),vq;const gtt=O(oe)(vq||(vq=mtt([`
  max-width: 100%;
`]))),cx=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),y=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=fr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const b=w=>{m.current=w,x.current=w};return l.jsx(gtt,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var yq=Object.freeze,vtt=Object.defineProperty,ytt=(e,t)=>yq(vtt(e,"raw",{value:yq(t||e.slice())})),bq;function btt(e){return!!e}const xtt=O(Kt)(bq||(bq=ytt([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),Zj=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(btt),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(xtt,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),dCe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var xq=Object.freeze,wtt=Object.defineProperty,fCe=(e,t)=>xq(wtt(e,"raw",{value:xq(t||e.slice())})),wq,Cq;const Ctt={error:"critical",warning:"caution",success:"positive",info:"primary"},_tt={error:"alert",warning:"alert",success:"alert",info:"alert"},Stt=O(X)(wq||(wq=fCe([`
  pointer-events: all;
`]))),Ett=O(U)(Cq||(Cq=fCe([`
  overflow-x: auto;
`])));function ktt(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Ctt[i]:"default",c=i?_tt[i]:"status";return l.jsx(Stt,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(Ett,{flex:1,padding:3,children:l.jsxs(ee,{space:3,children:[o&&l.jsx(L,{weight:"semibold",children:o}),n&&l.jsx(L,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(oe,{as:"button",icon:Ii,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function jtt(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const x$=Symbol.for("@sanity/ui/context/toast");Jt[x$]=Jt[x$]||h.createContext(null);const hCe=Jt[x$];var _q=Object.freeze,Ttt=Object.defineProperty,pCe=(e,t)=>_q(Ttt(e,"raw",{value:_q(t||e.slice())})),Sq,Eq;const Att=O(is)(Sq||(Sq=pCe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),Dtt=O.div(Eq||(Eq=pCe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let Itt=0;function q6(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(Itt++),g=p.duration||5e3,y=()=>{var x;const b=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),b!==void 0&&(clearTimeout(b),delete c.current[v])};return m(x=>x.filter(b=>b.id!==v).concat([{dismiss:y,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(y,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=jtt();return l.jsxs(hCe.Provider,{value:d,children:[t,f&&l.jsx(Att,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(Dtt,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(I6,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(ud.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(ktt,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function qo(){const e=h.useContext(hCe);if(!e)throw new Error("useToast(): missing context value");if(!D0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Ptt(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Ott(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function kq(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const w$=Symbol.for("@sanity/ui/context/tree");Jt[w$]=Jt[w$]||h.createContext(null);const WE=Jt[w$],mCe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=fr(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),y=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{y.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),b=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:o,state:v}),[c,p,f,x,b,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=Ott(y.current,p,d.current);j&&(kq(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=Ptt(y.current,p,d.current);j&&(kq(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=y.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&y.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=y.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(WE.Provider,{value:w,children:l.jsx(ee,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));mCe.displayName="Tree";var jq=Object.freeze,Rtt=Object.defineProperty,G6=(e,t)=>jq(Rtt(e,"raw",{value:jq(t||e.slice())})),Tq,Aq,Dq;function $tt(){return de(Tq||(Tq=G6([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function Mtt(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return de(Aq||(Aq=G6([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Vt(r,s.enabled),Vt(r,s.pressed),Vt(r,s.hovered),Vt(r,s.selected),Vt(r,s.enabled),Vt(r,s.pressed),Vt(r,s.hovered),Vt(r,s.selected))}function Ftt(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return de(Dq||(Dq=G6([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ge(r[2]*t))}function gCe(){const e=h.useContext(WE);if(!e)throw new Error("Tree: missing context value");return e}const Iq=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=gCe();return l.jsx(ee,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var Pq=Object.freeze,Ltt=Object.defineProperty,Btt=(e,t)=>Pq(Ltt(e,"raw",{value:Pq(t||e.slice())})),Oq;const Rq=h.memo(O.li($tt,Mtt)),$q=O(M).attrs({forwardedAs:"a"})(Ftt),Ntt=O(L)(Oq||(Oq=Btt([`
  & > svg {
    transition: transform 100ms;
  }
`]))),ux=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...y}=t,x=h.useRef(null),b=h.useRef(null),w=gCe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,P=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),z=h.useCallback(W=>{d&&d(W);const V=W.target;V instanceof HTMLElement&&(V.getAttribute("data-ui")==="TreeItem"||V.closest('[data-ui="TreeItem__box"]'))&&(W.stopPropagation(),S(A,!P),E(x.current))},[P,A,d,S,E]),B=h.useCallback(W=>{if(I&&W.key==="Enter"){const V=b.current||x.current;V==null||V.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),P,p)},[P,T,_,p]);const H=l.jsxs(U,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(L,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(Ntt,{muted:u,size:o,weight:g,children:l.jsx(hj,{style:{transform:P?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(Rq,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:z,ref:x,role:"none",children:[l.jsx($q,{$level:w.level,"aria-expanded":P,as:c,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:$,children:H}),l.jsx(WE.Provider,{value:R,children:n&&l.jsx(Iq,{hidden:!P,children:n})})]}):l.jsxs(Rq,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...y,"aria-expanded":P,onClick:z,onKeyDown:B,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx($q,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),l.jsx(WE.Provider,{value:R,children:n&&l.jsx(Iq,{expanded:P,children:n})})]})});function Lt(e){return typeof e=="function"}function K6(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $I=K6(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function YE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Kp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Lp(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Lt(d))try{d()}catch(g){i=g instanceof $I?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Lp(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{Mq(v)}catch(g){i=i??[],g instanceof $I?i=ai(ai([],Ha(i)),Ha(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new $I(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Mq(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&YE(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&YE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),vCe=Kp.EMPTY;function yCe(e){return e instanceof Kp||e&&"closed"in e&&Lt(e.remove)&&Lt(e.add)&&Lt(e.unsubscribe)}function Mq(e){Lt(e)?e():e.unsubscribe()}var bCe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},C$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=C$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,ai([e,t],Ha(n))):setTimeout.apply(void 0,ai([e,t],Ha(n)))},clearTimeout:function(e){var t=C$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function xCe(e){C$.setTimeout(function(){throw e})}function Uf(){}function J2(e){e()}var Z6=function(e){ua(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,yCe(n)&&n.add(r)):r.destination=Utt,r}return t.create=function(n,r,o){return new dx(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Kp),ztt=Function.prototype.bind;function MI(e,t){return ztt.call(e,t)}var Vtt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){h_(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){h_(r)}else h_(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){h_(n)}},e}(),dx=function(e){ua(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Lt(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&bCe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&MI(n.next,a),error:n.error&&MI(n.error,a),complete:n.complete&&MI(n.complete,a)}):s=n}return i.destination=new Vtt(s),i}return t}(Z6);function h_(e){xCe(e)}function Htt(e){throw e}var Utt={closed:!0,next:Uf,error:Htt,complete:Uf},X6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function fd(e){return e}function Wtt(e){return e.length===0?fd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var pt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=qtt(t)?t:new dx(t,n,r);return J2(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Fq(n),new n(function(o,i){var s=new dx({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[X6]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Wtt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Fq(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Fq(e){var t;return(t=e??bCe.Promise)!==null&&t!==void 0?t:Promise}function Ytt(e){return e&&Lt(e.next)&&Lt(e.error)&&Lt(e.complete)}function qtt(e){return e&&e instanceof Z6||Ytt(e)&&yCe(e)}function wCe(e){return Lt(e==null?void 0:e.lift)}function vn(e){return function(t){if(wCe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(e,t,n,r,o){return new CCe(e,t,n,r,o)}var CCe=function(e){ua(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Z6);function wl(){return vn(function(e,t){var n=null;e._refCount++;var r=Wt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Gtt=function(e){ua(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,wCe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Kp;var o=this.getSubject();r.add(this.source.subscribe(Wt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Kp.EMPTY)}return r},t.prototype.refCount=function(){return wl()(this)},t}(pt),Ktt=K6(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),_r=function(e){ua(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Lq(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ktt},t.prototype.next=function(n){var r=this;J2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Lp(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;J2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;J2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?vCe:(this.currentObservers=null,a.push(n),new Kp(function(){r.currentObservers=null,YE(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new pt;return n.source=this,n},t.create=function(n,r){return new Lq(n,r)},t}(pt),Lq=function(e){ua(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:vCe},t}(_r),Xj=function(e){ua(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(_r),Q6={now:function(){return(Q6.delegate||Date).now()},delegate:void 0},_Ce=function(e){ua(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=Q6);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(_r),Ztt=function(e){ua(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Kp),qE={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=qE.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,ai([e,t],Ha(n))):setInterval.apply(void 0,ai([e,t],Ha(n)))},clearInterval:function(e){var t=qE.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},SCe=function(e){ua(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),qE.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&qE.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,YE(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ztt),Xtt=1,FI,_$={};function Bq(e){return e in _$?(delete _$[e],!0):!1}var ECe={setImmediate:function(e){var t=Xtt++;return _$[t]=!0,FI||(FI=Promise.resolve()),FI.then(function(){return Bq(t)&&e()}),t},clearImmediate:function(e){Bq(e)}},Qtt=ECe.setImmediate,Jtt=ECe.clearImmediate,GE={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=GE.delegate;return((n==null?void 0:n.setImmediate)||Qtt).apply(void 0,ai([],Ha(e)))},clearImmediate:function(e){var t=GE.delegate;return((t==null?void 0:t.clearImmediate)||Jtt)(e)},delegate:void 0},ent=function(e){ua(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=GE.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(GE.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(SCe),Nq=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Q6.now,e}(),kCe=function(e){ua(t,e);function t(n,r){r===void 0&&(r=Nq.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(Nq),tnt=function(e){ua(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(kCe),nnt=new tnt(ent),Rl=new kCe(SCe),rnt=Rl,Qn=new pt(function(e){return e.complete()});function ont(e){return e?int(e):Qn}function int(e){return new pt(function(t){return e.schedule(function(){return t.complete()})})}function jCe(e){return e&&Lt(e.schedule)}function J6(e){return e[e.length-1]}function e8(e){return Lt(J6(e))?e.pop():void 0}function Rw(e){return jCe(J6(e))?e.pop():void 0}function snt(e,t){return typeof J6(e)=="number"?e.pop():t}var t8=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function TCe(e){return Lt(e==null?void 0:e.then)}function ACe(e){return Lt(e[X6])}function DCe(e){return Symbol.asyncIterator&&Lt(e==null?void 0:e[Symbol.asyncIterator])}function ICe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ant(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var PCe=ant();function OCe(e){return Lt(e==null?void 0:e[PCe])}function RCe(e){return YFe(this,arguments,function(){var n,r,o,i;return n0e(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,nv(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,nv(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,nv(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function $Ce(e){return Lt(e==null?void 0:e.getReader)}function En(e){if(e instanceof pt)return e;if(e!=null){if(ACe(e))return lnt(e);if(t8(e))return cnt(e);if(TCe(e))return unt(e);if(DCe(e))return MCe(e);if(OCe(e))return dnt(e);if($Ce(e))return fnt(e)}throw ICe(e)}function lnt(e){return new pt(function(t){var n=e[X6]();if(Lt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cnt(e){return new pt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function unt(e){return new pt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,xCe)})}function dnt(e){return new pt(function(t){var n,r;try{for(var o=Lp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function MCe(e){return new pt(function(t){hnt(e,t).catch(function(n){return t.error(n)})})}function fnt(e){return MCe(RCe(e))}function hnt(e,t){var n,r,o,i;return WFe(this,void 0,void 0,function(){var s,a;return n0e(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=qFe(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Au(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function FCe(e,t){return t===void 0&&(t=0),vn(function(n,r){n.subscribe(Wt(r,function(o){return Au(r,e,function(){return r.next(o)},t)},function(){return Au(r,e,function(){return r.complete()},t)},function(o){return Au(r,e,function(){return r.error(o)},t)}))})}function LCe(e,t){return t===void 0&&(t=0),vn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function pnt(e,t){return En(e).pipe(LCe(t),FCe(t))}function mnt(e,t){return En(e).pipe(LCe(t),FCe(t))}function gnt(e,t){return new pt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function vnt(e,t){return new pt(function(n){var r;return Au(n,t,function(){r=e[PCe](),Au(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Lt(r==null?void 0:r.return)&&r.return()}})}function BCe(e,t){if(!e)throw new Error("Iterable cannot be null");return new pt(function(n){Au(n,t,function(){var r=e[Symbol.asyncIterator]();Au(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function ynt(e,t){return BCe(RCe(e),t)}function NCe(e,t){if(e!=null){if(ACe(e))return pnt(e,t);if(t8(e))return gnt(e,t);if(TCe(e))return mnt(e,t);if(DCe(e))return BCe(e,t);if(OCe(e))return vnt(e,t);if($Ce(e))return ynt(e,t)}throw ICe(e)}function Er(e,t){return t?NCe(e,t):En(e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Rw(e);return Er(e,n)}function Yu(e,t){var n=Lt(e)?e:function(){return e},r=function(o){return o.error(n())};return new pt(t?function(o){return t.schedule(r,0,o)}:r)}function bnt(e){return!!e&&(e instanceof pt||Lt(e.lift)&&Lt(e.subscribe))}var Qj=K6(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function _o(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Qj)}})})}function xnt(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return vn(function(n,r){var o=0;n.subscribe(Wt(r,function(i){r.next(e.call(t,i,o++))}))})}var wnt=Array.isArray;function Cnt(e,t){return wnt(t)?e.apply(void 0,ai([],Ha(t))):e(t)}function n8(e){return ce(function(t){return Cnt(e,t)})}var _nt=Array.isArray,Snt=Object.getPrototypeOf,Ent=Object.prototype,knt=Object.keys;function zCe(e){if(e.length===1){var t=e[0];if(_nt(t))return{args:t,keys:null};if(jnt(t)){var n=knt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function jnt(e){return e&&typeof e=="object"&&Snt(e)===Ent}function VCe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Uo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Rw(e),r=e8(e),o=zCe(e),i=o.args,s=o.keys;if(i.length===0)return Er([],n);var a=new pt(Tnt(i,n,s?function(c){return VCe(s,c)}:fd));return r?a.pipe(n8(r)):a}function Tnt(e,t,n){return n===void 0&&(n=fd),function(r){zq(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){zq(t,function(){var f=Er(e[d],t),p=!1;f.subscribe(Wt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function zq(e,t,n){e?Au(n,e,t):t()}function Ant(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;En(n(g,d++)).subscribe(Wt(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=c.shift();s?Au(t,s,function(){return v(b)}):v(b)};c.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(Wt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function dt(e,t,n){return n===void 0&&(n=1/0),Lt(t)?dt(function(r,o){return ce(function(i,s){return t(r,i,o,s)})(En(e(r,o)))},n):(typeof t=="number"&&(n=t),vn(function(r,o){return Ant(r,o,e,n)}))}function Jj(e){return e===void 0&&(e=1/0),dt(fd,e)}function Dnt(){return Jj(1)}function Wr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dnt()(Er(e,Rw(e)))}function mo(e){return new pt(function(t){En(e()).subscribe(t)})}function Int(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e8(e),r=zCe(e),o=r.args,i=r.keys,s=new pt(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;En(o[v]).subscribe(Wt(a,function(y){g||(g=!0,f--),u[v]=y},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?VCe(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(n8(n)):s}var Pnt=["addListener","removeListener"],Ont=["addEventListener","removeEventListener"],Rnt=["on","off"];function Ri(e,t,n,r){if(Lt(n)&&(r=n,n=void 0),r)return Ri(e,t,n).pipe(n8(r));var o=Ha(Fnt(e)?Ont.map(function(a){return function(c){return e[a](t,c,n)}}):$nt(e)?Pnt.map(Vq(e,t)):Mnt(e)?Rnt.map(Vq(e,t)):[],2),i=o[0],s=o[1];if(!i&&t8(e))return dt(function(a){return Ri(a,t,n)})(En(e));if(!i)throw new TypeError("Invalid event target");return new pt(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function Vq(e,t){return function(n){return function(r){return e[n](t,r)}}}function $nt(e){return Lt(e.addListener)&&Lt(e.removeListener)}function Mnt(e){return Lt(e.on)&&Lt(e.off)}function Fnt(e){return Lt(e.addEventListener)&&Lt(e.removeEventListener)}function Lnt(e,t,n){return mo(function(){return e()?t:n})}function Wo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=rnt);var r=-1;return t!=null&&(jCe(t)?n=t:r=t),new pt(function(o){var i=xnt(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function an(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Rw(e),r=snt(e,1/0),o=e;return o.length?o.length===1?En(o[0]):Jj(r)(Er(o,n)):Qn}var r8=new pt(Uf),Bnt=Array.isArray;function Nnt(e){return e.length===1&&Bnt(e[0])?e[0]:e}function znt(e,t){return function(n,r){return!e.call(t,n,r)}}function ht(e,t){return vn(function(n,r){var o=0;n.subscribe(Wt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function o8(e,t,n){return[ht(t,n)(En(e)),ht(znt(t,n))(En(e))]}function Vnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Nnt(e),e.length===1?En(e[0]):new pt(Hnt(e))}function Hnt(e){return function(t){for(var n=[],r=function(i){n.push(En(e[i]).subscribe(Wt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function Unt(e,t){return new pt(function(n){var r=e(),o=t(r),i=o?En(o):Qn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function Wnt(e){return vn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Wt(n,function(u){r=!0,o=u,i||En(e(u)).subscribe(i=Wt(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function Ynt(e,t){return t===void 0&&(t=Rl),Wnt(function(){return Wo(e,t)})}function Rn(e){return vn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Wt(n,void 0,void 0,function(s){i=En(e(s,Rn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function HCe(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Wt(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function UCe(e,t){return vn(HCe(e,t,arguments.length>=2,!1,!0))}var qnt=function(e,t){return e.push(t),e};function WCe(){return vn(function(e,t){UCe(qnt,[])(e).subscribe(t)})}function S$(e,t){return Lt(t)?dt(e,t,1):dt(e,1)}function Gnt(e){return new pt(function(t){return e.subscribe(t)})}var Knt={connector:function(){return new _r}};function Znt(e,t){t===void 0&&(t=Knt);var n=t.connector;return vn(function(r,o){var i=n();En(e(Gnt(i))).subscribe(o),o.add(r.subscribe(i))})}function i8(e){return vn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Wt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Wt(n,s,Uf),En(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function s8(e,t){return t===void 0&&(t=Rl),vn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Wt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function YCe(e){return vn(function(t,n){var r=!1;t.subscribe(Wt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Ti(e){return e<=0?function(){return Qn}:vn(function(t,n){var r=0;t.subscribe(Wt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Xnt(){return vn(function(e,t){e.subscribe(Wt(t,Uf))})}function eT(e){return ce(function(){return e})}function qCe(e,t){return t?function(n){return Wr(t.pipe(Ti(1),Xnt()),n.pipe(qCe(e)))}:dt(function(n,r){return En(e(n,r)).pipe(Ti(1),eT(n))})}function GCe(e,t){t===void 0&&(t=Rl);var n=Wo(e,t);return qCe(function(){return n})}function Qnt(e,t){return vn(function(n,r){var o=new Set;n.subscribe(Wt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&En(t).subscribe(Wt(r,function(){return o.clear()},Uf))})}function Jn(e,t){return t===void 0&&(t=fd),e=e??Jnt,vn(function(n,r){var o,i=!0;n.subscribe(Wt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function Jnt(e,t){return e===t}function KCe(e){return e===void 0&&(e=ert),vn(function(t,n){var r=!1;t.subscribe(Wt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function ert(){return new Qj}function ZCe(e,t){return t?function(n){return n.pipe(ZCe(function(r,o){return En(e(r,o)).pipe(ce(function(i,s){return t(r,i,o,s)}))}))}:vn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Wt(r,function(a){i||(i=Wt(r,void 0,function(){i=null,s&&r.complete()}),En(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function XCe(e){return vn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function QCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ht(function(o,i){return e(o,i,r)}):fd,Ti(1),n?YCe(t):KCe(function(){return new Qj}))}}function JCe(e,t,n,r){return vn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new CCe(i,function(v){try{var g=e(v),y=a.get(g);if(!y){a.set(g,y=r?r():new _r);var x=m(g,y);if(i.next(x),n){var b=Wt(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(En(n(x)).subscribe(b))}}y.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var y=new pt(function(x){d++;var b=g.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return y.key=v,y}})}function trt(e){return e<=0?function(){return Qn}:vn(function(t,n){var r=[];t.subscribe(Wt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Lp(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function nrt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ht(function(o,i){return e(o,i,r)}):fd,trt(1),n?YCe(t):KCe(function(){return new Qj}))}}var rrt=dt;function Zp(e,t,n){return n===void 0&&(n=1/0),Lt(t)?dt(function(){return e},t,n):(typeof t=="number"&&(n=t),dt(function(){return e},n))}function ort(e,t){var n=Lt(e)?e:function(){return e};return Lt(t)?Znt(t,{connector:n}):function(r){return new Gtt(r,n)}}function Cl(e,t,n,r){n&&!Lt(n)&&(r=n);var o=Lt(n)?n:void 0;return function(i){return ort(new _Ce(e,t,r),o)(i)}}function sa(e,t){return vn(HCe(e,t,arguments.length>=2,!0))}function aa(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new _r}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return vn(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=LI(b,c))}),_.subscribe(C),!d&&m>0&&(d=new dx({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=LI(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=LI(x,s),_.complete()}}),En(w).subscribe(d))})(u)}}function LI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new dx({next:function(){o.unsubscribe(),e()}});return En(t.apply(void 0,ai([],Ha(n)))).subscribe(o)}}function Io(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,aa({connector:function(){return new _Ce(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function e_e(e){return ht(function(t,n){return e<=n})}function ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Rw(e);return vn(function(r,o){(n?Wr(e,r,n):Wr(e,r)).subscribe(o)})}function rt(e,t){return vn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Wt(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;En(e(c,d)).subscribe(o=Wt(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function irt(e,t){return Lt(t)?rt(function(){return e},t):rt(function(){return e})}function a8(e){return vn(function(t,n){En(e).subscribe(Wt(n,function(){return n.complete()},Uf)),!n.closed&&t.subscribe(n)})}function Cn(e,t,n){var r=Lt(e)||t||n?{next:e,error:t,complete:n}:e;return r?vn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Wt(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):fd}function t_e(e,t){return vn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(y(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=En(e(x)).subscribe(Wt(r,m,v))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Wt(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?y():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function fx(e,t,n){t===void 0&&(t=Rl);var r=Wo(e,t);return t_e(function(){return r},n)}function ub(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e8(e);return vn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){En(e[f]).subscribe(Wt(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(fd))&&(a=null))},Uf))},d=0;d<i;d++)u(d);r.subscribe(Wt(o,function(f){if(c){var p=ai([f],Ha(s));o.next(n?n.apply(void 0,ai([],Ha(p))):p)}}))})}function srt(e,t){var n=h.useCallback(function(){var s=new Xj(e),a=s.asObservable().pipe(Jn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var n_e={exports:{}},r_e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv=h;function art(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lrt=typeof Object.is=="function"?Object.is:art,crt=Jv.useState,urt=Jv.useEffect,drt=Jv.useLayoutEffect,frt=Jv.useDebugValue;function hrt(e,t){var n=t(),r=crt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return drt(function(){o.value=n,o.getSnapshot=t,BI(o)&&i({inst:o})},[e,n,t]),urt(function(){return BI(o)&&i({inst:o}),e(function(){BI(o)&&i({inst:o})})},[e]),frt(n),n}function BI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lrt(e,n)}catch{return!0}}function prt(e,t){return t()}var mrt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?prt:hrt;r_e.useSyncExternalStore=Jv.useSyncExternalStore!==void 0?Jv.useSyncExternalStore:mrt;n_e.exports=r_e;var grt=n_e.exports;function E$(e){return typeof e=="function"?e():e}var NI=new WeakMap;function Hq(e,t){if(!NI.has(e)){var n={currentValue:t};n.observable=e.pipe(Io({refCount:!0,bufferSize:1}),Cn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),NI.set(e,n)}return NI.get(e)}function vrt(e,t){var n=h.useMemo(function(){var s=Hq(e,E$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=Hq(e,E$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),grt.useSyncExternalStore(o,r)}function bo(e,t,n){return vrt(h.useMemo(function(){return E$(e)},t),n)}var yrt=function(e){return e};function o_e(e){e===void 0&&(e=yrt);var t=new _r;return[t.pipe(e),function(n){return t.next(n)}]}var brt=[];function tT(e,t){t===void 0&&(t=brt);var n=h.useRef();n.current||(n.current=o_e());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function xrt(){this.__data__=[],this.size=0}var wrt=xrt;function Crt(e,t){return e===t||e!==e&&t!==t}var nT=Crt,_rt=nT;function Srt(e,t){for(var n=e.length;n--;)if(_rt(e[n][0],t))return n;return-1}var rT=Srt,Ert=rT,krt=Array.prototype,jrt=krt.splice;function Trt(e){var t=this.__data__,n=Ert(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():jrt.call(t,n,1),--this.size,!0}var Art=Trt,Drt=rT;function Irt(e){var t=this.__data__,n=Drt(t,e);return n<0?void 0:t[n][1]}var Prt=Irt,Ort=rT;function Rrt(e){return Ort(this.__data__,e)>-1}var $rt=Rrt,Mrt=rT;function Frt(e,t){var n=this.__data__,r=Mrt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Lrt=Frt,Brt=wrt,Nrt=Art,zrt=Prt,Vrt=$rt,Hrt=Lrt;function M0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}M0.prototype.clear=Brt;M0.prototype.delete=Nrt;M0.prototype.get=zrt;M0.prototype.has=Vrt;M0.prototype.set=Hrt;var oT=M0,Urt=oT;function Wrt(){this.__data__=new Urt,this.size=0}var Yrt=Wrt;function qrt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Grt=qrt;function Krt(e){return this.__data__.get(e)}var Zrt=Krt;function Xrt(e){return this.__data__.has(e)}var Qrt=Xrt,Jrt=Xf,eot=Xa,tot="[object AsyncFunction]",not="[object Function]",rot="[object GeneratorFunction]",oot="[object Proxy]";function iot(e){if(!eot(e))return!1;var t=Jrt(e);return t==not||t==rot||t==tot||t==oot}var i_e=iot,sot=Vl,aot=sot["__core-js_shared__"],lot=aot,zI=lot,Uq=function(){var e=/[^.]+$/.exec(zI&&zI.keys&&zI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cot(e){return!!Uq&&Uq in e}var uot=cot,dot=Function.prototype,fot=dot.toString;function hot(e){if(e!=null){try{return fot.call(e)}catch{}try{return e+""}catch{}}return""}var s_e=hot,pot=i_e,mot=uot,got=Xa,vot=s_e,yot=/[\\^$.*+?()[\]{}|]/g,bot=/^\[object .+?Constructor\]$/,xot=Function.prototype,wot=Object.prototype,Cot=xot.toString,_ot=wot.hasOwnProperty,Sot=RegExp("^"+Cot.call(_ot).replace(yot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Eot(e){if(!got(e)||mot(e))return!1;var t=pot(e)?Sot:bot;return t.test(vot(e))}var kot=Eot;function jot(e,t){return e==null?void 0:e[t]}var Tot=jot,Aot=kot,Dot=Tot;function Iot(e,t){var n=Dot(e,t);return Aot(n)?n:void 0}var Tm=Iot,Pot=Tm,Oot=Vl,Rot=Pot(Oot,"Map"),l8=Rot,$ot=Tm,Mot=$ot(Object,"create"),iT=Mot,Wq=iT;function Fot(){this.__data__=Wq?Wq(null):{},this.size=0}var Lot=Fot;function Bot(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Not=Bot,zot=iT,Vot="__lodash_hash_undefined__",Hot=Object.prototype,Uot=Hot.hasOwnProperty;function Wot(e){var t=this.__data__;if(zot){var n=t[e];return n===Vot?void 0:n}return Uot.call(t,e)?t[e]:void 0}var Yot=Wot,qot=iT,Got=Object.prototype,Kot=Got.hasOwnProperty;function Zot(e){var t=this.__data__;return qot?t[e]!==void 0:Kot.call(t,e)}var Xot=Zot,Qot=iT,Jot="__lodash_hash_undefined__";function eit(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qot&&t===void 0?Jot:t,this}var tit=eit,nit=Lot,rit=Not,oit=Yot,iit=Xot,sit=tit;function F0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}F0.prototype.clear=nit;F0.prototype.delete=rit;F0.prototype.get=oit;F0.prototype.has=iit;F0.prototype.set=sit;var ait=F0,Yq=ait,lit=oT,cit=l8;function uit(){this.size=0,this.__data__={hash:new Yq,map:new(cit||lit),string:new Yq}}var dit=uit;function fit(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var hit=fit,pit=hit;function mit(e,t){var n=e.__data__;return pit(t)?n[typeof t=="string"?"string":"hash"]:n.map}var sT=mit,git=sT;function vit(e){var t=git(this,e).delete(e);return this.size-=t?1:0,t}var yit=vit,bit=sT;function xit(e){return bit(this,e).get(e)}var wit=xit,Cit=sT;function _it(e){return Cit(this,e).has(e)}var Sit=_it,Eit=sT;function kit(e,t){var n=Eit(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var jit=kit,Tit=dit,Ait=yit,Dit=wit,Iit=Sit,Pit=jit;function L0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}L0.prototype.clear=Tit;L0.prototype.delete=Ait;L0.prototype.get=Dit;L0.prototype.has=Iit;L0.prototype.set=Pit;var c8=L0,Oit=oT,Rit=l8,$it=c8,Mit=200;function Fit(e,t){var n=this.__data__;if(n instanceof Oit){var r=n.__data__;if(!Rit||r.length<Mit-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $it(r)}return n.set(e,t),this.size=n.size,this}var Lit=Fit,Bit=oT,Nit=Yrt,zit=Grt,Vit=Zrt,Hit=Qrt,Uit=Lit;function B0(e){var t=this.__data__=new Bit(e);this.size=t.size}B0.prototype.clear=Nit;B0.prototype.delete=zit;B0.prototype.get=Vit;B0.prototype.has=Hit;B0.prototype.set=Uit;var u8=B0,Wit="__lodash_hash_undefined__";function Yit(e){return this.__data__.set(e,Wit),this}var qit=Yit;function Git(e){return this.__data__.has(e)}var Kit=Git,Zit=c8,Xit=qit,Qit=Kit;function KE(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Zit;++t<n;)this.add(e[t])}KE.prototype.add=KE.prototype.push=Xit;KE.prototype.has=Qit;var aT=KE;function Jit(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var est=Jit;function tst(e,t){return e.has(t)}var lT=tst,nst=aT,rst=est,ost=lT,ist=1,sst=2;function ast(e,t,n,r,o,i){var s=n&ist,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&sst?new nst:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var y=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!rst(t,function(x,b){if(!ost(m,b)&&(v===x||o(v,x,n,r,i)))return m.push(b)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var a_e=ast,lst=Vl,cst=lst.Uint8Array,l_e=cst;function ust(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var dst=ust;function fst(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var d8=fst,qq=w0,Gq=l_e,hst=nT,pst=a_e,mst=dst,gst=d8,vst=1,yst=2,bst="[object Boolean]",xst="[object Date]",wst="[object Error]",Cst="[object Map]",_st="[object Number]",Sst="[object RegExp]",Est="[object Set]",kst="[object String]",jst="[object Symbol]",Tst="[object ArrayBuffer]",Ast="[object DataView]",Kq=qq?qq.prototype:void 0,VI=Kq?Kq.valueOf:void 0;function Dst(e,t,n,r,o,i,s){switch(n){case Ast:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tst:return!(e.byteLength!=t.byteLength||!i(new Gq(e),new Gq(t)));case bst:case xst:case _st:return hst(+e,+t);case wst:return e.name==t.name&&e.message==t.message;case Sst:case kst:return e==t+"";case Cst:var a=mst;case Est:var c=r&vst;if(a||(a=gst),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=yst,s.set(e,t);var d=pst(a(e),a(t),r,o,i,s);return s.delete(e),d;case jst:if(VI)return VI.call(e)==VI.call(t)}return!1}var Ist=Dst;function Pst(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var f8=Pst,Ost=Array.isArray,to=Ost,Rst=f8,$st=to;function Mst(e,t,n){var r=t(e);return $st(e)?r:Rst(r,n(e))}var c_e=Mst;function Fst(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var u_e=Fst;function Lst(){return[]}var d_e=Lst,Bst=u_e,Nst=d_e,zst=Object.prototype,Vst=zst.propertyIsEnumerable,Zq=Object.getOwnPropertySymbols,Hst=Zq?function(e){return e==null?[]:(e=Object(e),Bst(Zq(e),function(t){return Vst.call(e,t)}))}:Nst,h8=Hst;function Ust(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Wst=Ust,Yst=Xf,qst=Qa,Gst="[object Arguments]";function Kst(e){return qst(e)&&Yst(e)==Gst}var Zst=Kst,Xq=Zst,Xst=Qa,f_e=Object.prototype,Qst=f_e.hasOwnProperty,Jst=f_e.propertyIsEnumerable,eat=Xq(function(){return arguments}())?Xq:function(e){return Xst(e)&&Qst.call(e,"callee")&&!Jst.call(e,"callee")},cT=eat,ZE={exports:{}};function tat(){return!1}var nat=tat;ZE.exports;(function(e,t){var n=Vl,r=nat,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(ZE,ZE.exports);var uT=ZE.exports,rat=9007199254740991,oat=/^(?:0|[1-9]\d*)$/;function iat(e,t){var n=typeof e;return t=t??rat,!!t&&(n=="number"||n!="symbol"&&oat.test(e))&&e>-1&&e%1==0&&e<t}var dT=iat,sat=9007199254740991;function aat(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sat}var p8=aat,lat=Xf,cat=p8,uat=Qa,dat="[object Arguments]",fat="[object Array]",hat="[object Boolean]",pat="[object Date]",mat="[object Error]",gat="[object Function]",vat="[object Map]",yat="[object Number]",bat="[object Object]",xat="[object RegExp]",wat="[object Set]",Cat="[object String]",_at="[object WeakMap]",Sat="[object ArrayBuffer]",Eat="[object DataView]",kat="[object Float32Array]",jat="[object Float64Array]",Tat="[object Int8Array]",Aat="[object Int16Array]",Dat="[object Int32Array]",Iat="[object Uint8Array]",Pat="[object Uint8ClampedArray]",Oat="[object Uint16Array]",Rat="[object Uint32Array]",or={};or[kat]=or[jat]=or[Tat]=or[Aat]=or[Dat]=or[Iat]=or[Pat]=or[Oat]=or[Rat]=!0;or[dat]=or[fat]=or[Sat]=or[hat]=or[Eat]=or[pat]=or[mat]=or[gat]=or[vat]=or[yat]=or[bat]=or[xat]=or[wat]=or[Cat]=or[_at]=!1;function $at(e){return uat(e)&&cat(e.length)&&!!or[lat(e)]}var Mat=$at;function Fat(e){return function(t){return e(t)}}var N0=Fat,XE={exports:{}};XE.exports;(function(e,t){var n=Kve,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(XE,XE.exports);var m8=XE.exports,Lat=Mat,Bat=N0,Qq=m8,Jq=Qq&&Qq.isTypedArray,Nat=Jq?Bat(Jq):Lat,g8=Nat,zat=Wst,Vat=cT,Hat=to,Uat=uT,Wat=dT,Yat=g8,qat=Object.prototype,Gat=qat.hasOwnProperty;function Kat(e,t){var n=Hat(e),r=!n&&Vat(e),o=!n&&!r&&Uat(e),i=!n&&!r&&!o&&Yat(e),s=n||r||o||i,a=s?zat(e.length,String):[],c=a.length;for(var u in e)(t||Gat.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wat(u,c)))&&a.push(u);return a}var h_e=Kat,Zat=Object.prototype;function Xat(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Zat;return e===n}var fT=Xat;function Qat(e,t){return function(n){return e(t(n))}}var p_e=Qat,Jat=p_e,elt=Jat(Object.keys,Object),tlt=elt,nlt=fT,rlt=tlt,olt=Object.prototype,ilt=olt.hasOwnProperty;function slt(e){if(!nlt(e))return rlt(e);var t=[];for(var n in Object(e))ilt.call(e,n)&&n!="constructor"&&t.push(n);return t}var m_e=slt,alt=i_e,llt=p8;function clt(e){return e!=null&&llt(e.length)&&!alt(e)}var ih=clt,ult=h_e,dlt=m_e,flt=ih;function hlt(e){return flt(e)?ult(e):dlt(e)}var sh=hlt,plt=c_e,mlt=h8,glt=sh;function vlt(e){return plt(e,glt,mlt)}var g_e=vlt,eG=g_e,ylt=1,blt=Object.prototype,xlt=blt.hasOwnProperty;function wlt(e,t,n,r,o,i){var s=n&ylt,a=eG(e),c=a.length,u=eG(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:xlt.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<c;){p=a[f];var x=e[p],b=t[p];if(r)var w=s?r(b,x,p,t,e,i):r(x,b,p,e,t,i);if(!(w===void 0?x===b||o(x,b,n,r,i):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Clt=wlt,_lt=Tm,Slt=Vl,Elt=_lt(Slt,"DataView"),klt=Elt,jlt=Tm,Tlt=Vl,Alt=jlt(Tlt,"Promise"),Dlt=Alt,Ilt=Tm,Plt=Vl,Olt=Ilt(Plt,"Set"),v_e=Olt,Rlt=Tm,$lt=Vl,Mlt=Rlt($lt,"WeakMap"),y_e=Mlt,k$=klt,j$=l8,T$=Dlt,A$=v_e,D$=y_e,b_e=Xf,z0=s_e,tG="[object Map]",Flt="[object Object]",nG="[object Promise]",rG="[object Set]",oG="[object WeakMap]",iG="[object DataView]",Llt=z0(k$),Blt=z0(j$),Nlt=z0(T$),zlt=z0(A$),Vlt=z0(D$),Nh=b_e;(k$&&Nh(new k$(new ArrayBuffer(1)))!=iG||j$&&Nh(new j$)!=tG||T$&&Nh(T$.resolve())!=nG||A$&&Nh(new A$)!=rG||D$&&Nh(new D$)!=oG)&&(Nh=function(e){var t=b_e(e),n=t==Flt?e.constructor:void 0,r=n?z0(n):"";if(r)switch(r){case Llt:return iG;case Blt:return tG;case Nlt:return nG;case zlt:return rG;case Vlt:return oG}return t});var $w=Nh,HI=u8,Hlt=a_e,Ult=Ist,Wlt=Clt,sG=$w,aG=to,lG=uT,Ylt=g8,qlt=1,cG="[object Arguments]",uG="[object Array]",p_="[object Object]",Glt=Object.prototype,dG=Glt.hasOwnProperty;function Klt(e,t,n,r,o,i){var s=aG(e),a=aG(t),c=s?uG:sG(e),u=a?uG:sG(t);c=c==cG?p_:c,u=u==cG?p_:u;var d=c==p_,f=u==p_,p=c==u;if(p&&lG(e)){if(!lG(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new HI),s||Ylt(e)?Hlt(e,t,n,r,o,i):Ult(e,t,c,n,r,o,i);if(!(n&qlt)){var m=d&&dG.call(e,"__wrapped__"),v=f&&dG.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,y=v?t.value():t;return i||(i=new HI),o(g,y,n,r,i)}}return p?(i||(i=new HI),Wlt(e,t,n,r,o,i)):!1}var Zlt=Klt,Xlt=Zlt,fG=Qa;function x_e(e,t,n,r,o){return e===t?!0:e==null||t==null||!fG(e)&&!fG(t)?e!==e&&t!==t:Xlt(e,t,n,r,x_e,o)}var v8=x_e,Qlt=v8;function Jlt(e,t){return Qlt(e,t)}var ect=Jlt;const Ut=Pe(ect);var Tp=[],tct=function(){return Tp.some(function(e){return e.activeTargets.length>0})},nct=function(){return Tp.some(function(e){return e.skippedTargets.length>0})},hG="ResizeObserver loop completed with undelivered notifications.",rct=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:hG}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=hG),window.dispatchEvent(e)},hx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(hx||(hx={}));var Ap=function(e){return Object.freeze(e)},oct=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Ap(this)}return e}(),w_e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ap(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),y8=function(e){return e instanceof SVGElement&&"getBBox"in e},C_e=function(e){if(y8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},pG=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},ict=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},db=typeof window<"u"?window:{},m_=new WeakMap,mG=/auto|scroll/,sct=/^tb|vertical/,act=/msie|trident/i.test(db.navigator&&db.navigator.userAgent),ec=function(e){return parseFloat(e||"0")},dv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new oct((n?t:e)||0,(n?e:t)||0)},gG=Ap({devicePixelContentBoxSize:dv(),borderBoxSize:dv(),contentBoxSize:dv(),contentRect:new w_e(0,0,0,0)}),__e=function(e,t){if(t===void 0&&(t=!1),m_.has(e)&&!t)return m_.get(e);if(C_e(e))return m_.set(e,gG),gG;var n=getComputedStyle(e),r=y8(e)&&e.ownerSVGElement&&e.getBBox(),o=!act&&n.boxSizing==="border-box",i=sct.test(n.writingMode||""),s=!r&&mG.test(n.overflowY||""),a=!r&&mG.test(n.overflowX||""),c=r?0:ec(n.paddingTop),u=r?0:ec(n.paddingRight),d=r?0:ec(n.paddingBottom),f=r?0:ec(n.paddingLeft),p=r?0:ec(n.borderTopWidth),m=r?0:ec(n.borderRightWidth),v=r?0:ec(n.borderBottomWidth),g=r?0:ec(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:ec(n.width)-S-_,k=r?r.height:ec(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=Ap({devicePixelContentBoxSize:dv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:dv(T,A,i),contentBoxSize:dv(j,k,i),contentRect:new w_e(f,c,j,k)});return m_.set(e,D),D},S_e=function(e,t,n){var r=__e(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case hx.DEVICE_PIXEL_CONTENT_BOX:return s;case hx.BORDER_BOX:return o;default:return i}},lct=function(){function e(t){var n=__e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Ap([n.borderBoxSize]),this.contentBoxSize=Ap([n.contentBoxSize]),this.devicePixelContentBoxSize=Ap([n.devicePixelContentBoxSize])}return e}(),E_e=function(e){if(C_e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},cct=function(){var e=1/0,t=[];Tp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new lct(u.target),f=E_e(u.target);a.push(d),u.lastReportedSize=S_e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},vG=function(e){Tp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(E_e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},uct=function(){var e=0;for(vG(e);tct();)e=cct(),vG(e);return nct()&&rct(),e>0},UI,k_e=[],dct=function(){return k_e.splice(0).forEach(function(e){return e()})},fct=function(e){if(!UI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return dct()}).observe(n,r),UI=function(){n.textContent="".concat(t?t--:t++)}}k_e.push(e),UI()},hct=function(e){fct(function(){requestAnimationFrame(e)})},eS=0,pct=function(){return!!eS},mct=250,gct={attributes:!0,characterData:!0,childList:!0,subtree:!0},yG=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],bG=function(e){return e===void 0&&(e=0),Date.now()+e},WI=!1,vct=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=mct),!WI){WI=!0;var r=bG(t);hct(function(){var o=!1;try{o=uct()}finally{if(WI=!1,t=r-bG(),!pct())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,gct)};document.body?n():db.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),yG.forEach(function(n){return db.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),yG.forEach(function(n){return db.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),I$=new vct,xG=function(e){!eS&&e>0&&I$.start(),eS+=e,!eS&&I$.stop()},yct=function(e){return!y8(e)&&!ict(e)&&getComputedStyle(e).display==="inline"},bct=function(){function e(t,n){this.target=t,this.observedBox=n||hx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=S_e(this.target,this.observedBox,!0);return yct(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),xct=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),g_=new WeakMap,wG=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},v_=function(){function e(){}return e.connect=function(t,n){var r=new xct(t,n);g_.set(t,r)},e.observe=function(t,n,r){var o=g_.get(t),i=o.observationTargets.length===0;wG(o.observationTargets,n)<0&&(i&&Tp.push(o),o.observationTargets.push(new bct(n,r&&r.box)),xG(1),I$.schedule())},e.unobserve=function(t,n){var r=g_.get(t),o=wG(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Tp.splice(Tp.indexOf(r),1),r.observationTargets.splice(o,1),xG(-1))},e.disconnect=function(t){var n=this,r=g_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),j_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");v_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!pG(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");v_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!pG(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");v_.unobserve(this,t)},e.prototype.disconnect=function(){v_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),wct=Jve,Cct=Xa,_ct="Expected a function";function Sct(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(_ct);return Cct(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),wct(e,t,{leading:r,maxWait:t,trailing:o})}var Ect=Sct;const hT=Pe(Ect);var CG=w0,kct=cT,jct=to,_G=CG?CG.isConcatSpreadable:void 0;function Tct(e){return jct(e)||kct(e)||!!(_G&&e&&e[_G])}var Act=Tct,Dct=f8,Ict=Act;function T_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Ict),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?T_e(a,t-1,n,r,o):Dct(o,a):r||(o[o.length]=a)}return o}var V0=T_e;function Pct(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var zc=Pct,Oct=to,Rct=mm,$ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mct=/^\w*$/;function Fct(e,t){if(Oct(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Rct(e)?!0:Mct.test(e)||!$ct.test(e)||t!=null&&e in Object(t)}var b8=Fct,A_e=c8,Lct="Expected a function";function x8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lct);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(x8.Cache||A_e),n}x8.Cache=A_e;var D_e=x8;const pT=Pe(D_e);var Bct=D_e,Nct=500;function zct(e){var t=Bct(e,function(r){return n.size===Nct&&n.clear(),r}),n=t.cache;return t}var Vct=zct,Hct=Vct,Uct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wct=/\\(\\)?/g,Yct=Hct(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Uct,function(n,r,o,i){t.push(o?i.replace(Wct,"$1"):r||n)}),t}),I_e=Yct,SG=w0,qct=zc,Gct=to,Kct=mm,Zct=1/0,EG=SG?SG.prototype:void 0,kG=EG?EG.toString:void 0;function P_e(e){if(typeof e=="string")return e;if(Gct(e))return qct(e,P_e)+"";if(Kct(e))return kG?kG.call(e):"";var t=e+"";return t=="0"&&1/e==-Zct?"-0":t}var O_e=P_e,Xct=O_e;function Qct(e){return e==null?"":Xct(e)}var Vc=Qct,Jct=to,eut=b8,tut=I_e,nut=Vc;function rut(e,t){return Jct(e)?e:eut(e,t)?[e]:tut(nut(e))}var H0=rut,out=mm,iut=1/0;function sut(e){if(typeof e=="string"||out(e))return e;var t=e+"";return t=="0"&&1/e==-iut?"-0":t}var Am=sut,aut=H0,lut=Am;function cut(e,t){t=aut(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[lut(t[n++])];return n&&n==r?e:void 0}var Mw=cut,uut=u8,dut=v8,fut=1,hut=2;function put(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new uut;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?dut(d,u,fut|hut,r,f):p))return!1}}return!0}var mut=put,gut=Xa;function vut(e){return e===e&&!gut(e)}var R_e=vut,yut=R_e,but=sh;function xut(e){for(var t=but(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,yut(o)]}return t}var wut=xut;function Cut(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var $_e=Cut,_ut=mut,Sut=wut,Eut=$_e;function kut(e){var t=Sut(e);return t.length==1&&t[0][2]?Eut(t[0][0],t[0][1]):function(n){return n===e||_ut(n,e,t)}}var jut=kut,Tut=Mw;function Aut(e,t,n){var r=e==null?void 0:Tut(e,t);return r===void 0?n:r}var M_e=Aut;const Yn=Pe(M_e);function Dut(e,t){return e!=null&&t in Object(e)}var Iut=Dut,Put=H0,Out=cT,Rut=to,$ut=dT,Mut=p8,Fut=Am;function Lut(e,t,n){t=Put(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Fut(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Mut(o)&&$ut(s,o)&&(Rut(e)||Out(e)))}var But=Lut,Nut=Iut,zut=But;function Vut(e,t){return e!=null&&zut(e,t,Nut)}var F_e=Vut,Hut=v8,Uut=M_e,Wut=F_e,Yut=b8,qut=R_e,Gut=$_e,Kut=Am,Zut=1,Xut=2;function Qut(e,t){return Yut(e)&&qut(t)?Gut(Kut(e),t):function(n){var r=Uut(n,e);return r===void 0&&r===t?Wut(n,e):Hut(t,r,Zut|Xut)}}var Jut=Qut;function edt(e){return e}var Dm=edt;const L_e=Pe(Dm);function tdt(e){return function(t){return t==null?void 0:t[e]}}var ndt=tdt,rdt=Mw;function odt(e){return function(t){return rdt(t,e)}}var idt=odt,sdt=ndt,adt=idt,ldt=b8,cdt=Am;function udt(e){return ldt(e)?sdt(cdt(e)):adt(e)}var ddt=udt,fdt=jut,hdt=Jut,pdt=Dm,mdt=to,gdt=ddt;function vdt(e){return typeof e=="function"?e:e==null?pdt:typeof e=="object"?mdt(e)?hdt(e[0],e[1]):fdt(e):gdt(e)}var ah=vdt;function ydt(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var bdt=ydt,xdt=bdt,wdt=xdt(),Cdt=wdt,_dt=Cdt,Sdt=sh;function Edt(e,t){return e&&_dt(e,t,Sdt)}var kdt=Edt,jdt=ih;function Tdt(e,t){return function(n,r){if(n==null)return n;if(!jdt(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Adt=Tdt,Ddt=kdt,Idt=Adt,Pdt=Idt(Ddt),B_e=Pdt,Odt=B_e,Rdt=ih;function $dt(e,t){var n=-1,r=Rdt(e)?Array(e.length):[];return Odt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var N_e=$dt;function Mdt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Fdt=Mdt,jG=mm;function Ldt(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=jG(e),s=t!==void 0,a=t===null,c=t===t,u=jG(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var Bdt=Ldt,Ndt=Bdt;function zdt(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=Ndt(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Vdt=zdt,YI=zc,Hdt=Mw,Udt=ah,Wdt=N_e,Ydt=Fdt,qdt=N0,Gdt=Vdt,Kdt=Dm,Zdt=to;function Xdt(e,t,n){t.length?t=YI(t,function(i){return Zdt(i)?function(s){return Hdt(s,i.length===1?i[0]:i)}:i}):t=[Kdt];var r=-1;t=YI(t,qdt(Udt));var o=Wdt(e,function(i,s,a){var c=YI(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return Ydt(o,function(i,s){return Gdt(i,s,n)})}var z_e=Xdt;function Qdt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Jdt=Qdt,eft=Jdt,TG=Math.max;function tft(e,t,n){return t=TG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=TG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),eft(e,this,a)}}var V_e=tft;function nft(e){return function(){return e}}var rft=nft,oft=Tm,ift=function(){try{var e=oft(Object,"defineProperty");return e({},"",{}),e}catch{}}(),H_e=ift,sft=rft,AG=H_e,aft=Dm,lft=AG?function(e,t){return AG(e,"toString",{configurable:!0,enumerable:!1,value:sft(t),writable:!0})}:aft,cft=lft,uft=800,dft=16,fft=Date.now;function hft(e){var t=0,n=0;return function(){var r=fft(),o=dft-(r-n);if(n=r,o>0){if(++t>=uft)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pft=hft,mft=cft,gft=pft,vft=gft(mft),U_e=vft,yft=Dm,bft=V_e,xft=U_e;function wft(e,t){return xft(bft(e,t,yft),e+"")}var U0=wft,Cft=nT,_ft=ih,Sft=dT,Eft=Xa;function kft(e,t,n){if(!Eft(n))return!1;var r=typeof t;return(r=="number"?_ft(n)&&Sft(t,n.length):r=="string"&&t in n)?Cft(n[t],e):!1}var w8=kft,jft=V0,Tft=z_e,Aft=U0,DG=w8,Dft=Aft(function(e,t){if(e==null)return[];var n=t.length;return n>1&&DG(e,t[0],t[1])?t=[]:n>2&&DG(t[0],t[1],t[2])&&(t=[t[0]]),Tft(e,jft(t,1),[])}),Ift=Dft;const Im=Pe(Ift);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,y){for(g=String(g);g.length<y;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function qI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Pft=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Oft=function(t){return t},W_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Rft=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},$ft=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Mft=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},Y_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},Fft=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=JE({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Oft,rangeExtractor:W_e,onChange:function(){},measureElement:Mft,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=ng(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=ng(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),y=typeof g=="number"?g:n.options.estimateSize(f),x=v+y,b=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:y,end:x,key:p,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=ng(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=Lft({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=ng(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=ng(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(JE({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=ng(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return qI(o[q_e(0,o.length-1,function(i){return qI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=qI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];Pft(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},q_e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function Lft(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=q_e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bft=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Nft(e){var t=h.useReducer(function(){return{}},{})[1],n=QE({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new Fft(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Bft(function(){return o._willUpdate()}),o}function G_e(e){return Nft(QE({observeElementRect:Rft,observeElementOffset:$ft,scrollToFn:Y_e},e))}var zft=Vft;function Vft(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:Wft(a)?n?n(e,t):e===t:i?Hft(e,t,n):Uft(e,t,n)}function Hft(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function Uft(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function Wft(e){return e!=="function"&&e!=="object"}const qu=Pe(zft);var P$={exports:{}},GI,IG;function Yft(){if(IG)return GI;IG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;GI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return GI}function qft(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=Yft(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Gft=qft;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=Gft(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(P$,P$.exports);var Kft=P$.exports;const Ss=Pe(Kft);function Zft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var K_e=Zft;function Xft(e){return e!==e}var Qft=Xft;function Jft(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var eht=Jft,tht=K_e,nht=Qft,rht=eht;function oht(e,t,n){return t===t?rht(e,t,n):tht(e,nht,n)}var C8=oht,iht=C8;function sht(e,t){var n=e==null?0:e.length;return!!n&&iht(e,t,0)>-1}var _8=sht;function aht(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var S8=aht,lht=aT,cht=_8,uht=S8,dht=zc,fht=N0,hht=lT,pht=200;function mht(e,t,n,r){var o=-1,i=cht,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=dht(t,fht(n))),r?(i=uht,s=!1):t.length>=pht&&(i=hht,s=!1,t=new lht(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var Z_e=mht,ght=ih,vht=Qa;function yht(e){return vht(e)&&ght(e)}var mT=yht,bht=Z_e,xht=V0,wht=U0,PG=mT,Cht=wht(function(e,t){return PG(e)?bht(e,xht(t,1,PG,!0)):[]}),_ht=Cht;const Xp=Pe(_ht);var Sht=aT,Eht=_8,kht=S8,jht=zc,Tht=N0,OG=lT,Aht=Math.min;function Dht(e,t,n){for(var r=n?kht:Eht,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=jht(d,Tht(t))),c=Aht(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new Sht(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?OG(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?OG(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Iht=Dht,Pht=mT;function Oht(e){return Pht(e)?e:[]}var Rht=Oht,$ht=zc,Mht=Iht,Fht=U0,Lht=Rht,Bht=Fht(function(e){var t=$ht(e,Lht);return t.length&&t[0]===e[0]?Mht(t):[]}),Nht=Bht;const ek=Pe(Nht);var zht=p_e,Vht=zht(Object.getPrototypeOf,Object),E8=Vht,Hht=Xf,Uht=E8,Wht=Qa,Yht="[object Object]",qht=Function.prototype,Ght=Object.prototype,X_e=qht.toString,Kht=Ght.hasOwnProperty,Zht=X_e.call(Object);function Xht(e){if(!Wht(e)||Hht(e)!=Yht)return!1;var t=Uht(e);if(t===null)return!0;var n=Kht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&X_e.call(n)==Zht}var Q_e=Xht;const kr=Pe(Q_e);var RG=H_e;function Qht(e,t,n){t=="__proto__"&&RG?RG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var gT=Qht,Jht=gT,ept=nT,tpt=Object.prototype,npt=tpt.hasOwnProperty;function rpt(e,t,n){var r=e[t];(!(npt.call(e,t)&&ept(r,n))||n===void 0&&!(t in e))&&Jht(e,t,n)}var k8=rpt,opt=k8,ipt=H0,spt=dT,$G=Xa,apt=Am;function lpt(e,t,n,r){if(!$G(e))return e;t=ipt(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=apt(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=$G(d)?d:spt(t[o+1])?[]:{})}opt(a,c,u),a=a[c]}return e}var cpt=lpt,upt=Mw,dpt=cpt,fpt=H0;function hpt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=upt(e,s);n(a,s)&&dpt(i,fpt(s,e),a)}return i}var J_e=hpt,ppt=J_e,mpt=F_e;function gpt(e,t){return ppt(e,t,function(n,r){return mpt(e,r)})}var vpt=gpt,ypt=V0;function bpt(e){var t=e==null?0:e.length;return t?ypt(e,1):[]}var e2e=bpt;const Pn=Pe(e2e);var xpt=e2e,wpt=V_e,Cpt=U_e;function _pt(e){return Cpt(wpt(e,void 0,xpt),e+"")}var j8=_pt,Spt=vpt,Ept=j8,kpt=Ept(function(e,t){return e==null?{}:Spt(e,t)}),jpt=kpt;const _t=Pe(jpt),T8=ne.createContext(null);function Ul(){const e=h.useContext(T8);if(!e)throw new Error("Router: missing context value");return e}function Tpt(e){return e.button===0}function Apt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function A8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Ul();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Apt(a)||!Tpt(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Fw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Ul(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=A8({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const Pm=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=Fw({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=A8({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});function Dpt(e,t,n){return n&&{...e,[t]:n}}function Ipt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,o=Ul(),{resolvePathFromState:i,navigate:s}=o,a=h.useRef(o.state);a.current=o.state;const c=h.useCallback(p=>{const{_searchParams:m,...v}=p,g=Dpt(a.current,n,v);return r?g._searchParams=m:g[n]._searchParams=m,g},[n,r]),u=h.useCallback(p=>i(c(p)),[i,c]),d=h.useCallback(p=>s(c(p)),[s,c]),f=h.useMemo(()=>{const p=o.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...o,navigate:d,resolvePathFromState:u,state:m}},[n,o,d,u,r]);return l.jsx(T8.Provider,{value:f,children:t})}function Ppt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(T8.Provider,{value:c,children:e.children})}const MG={};function t2e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Ul(),a=h.useMemo(()=>s(i?MG:r||MG),[s,r,i]),{onClick:c}=A8({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const vT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=t2e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),Opt=/^[a-zA-Z0-9_-]+$/;function Rpt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Opt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function $pt(e){const[t]=e.split("?"),n=t.split("/").map(Rpt).filter(Boolean);return{raw:e,segments:n}}const O$=Ss("state-router");function n2e(e){return Array.isArray(e)?e:e?[e]:[]}function Mpt(e){return e.map(t=>{let[n,r]=t;return[Fpt(n),r]})}const KI=1,FG=0;function Fpt(e){const t=[];let n=0,r=FG;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===KI)throw new Error("Nested brackets not supported");r=KI,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===KI)throw new Error("Unclosed bracket");break}r=FG,t.push(e.slice(n+1,i)),n=i+1}return t}function r2e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?n2e(e.children(i)):e.children,d=Bpt(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[y]=g;return m.scope===y[0]}):d;return c=r2e(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function Lpt(e,t){O$("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=r2e(e,n,Mpt(o));return O$("resolved: %o",i||null),i||null}function Bpt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function LG(e){return kr(e)}function ZI(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function XI(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function o2e(e,t){if(!t)return XI(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),s=LG(o)?Object.keys(o):[],a=ek(s,i),c=Xp(i,a),u=Xp(s,a);if(c.length>0)return ZI(e,c,[]);const d=r.map(y=>{let[x,b]=y;return[[x],b]}),f=_t(o,a);if(u.length===0)return XI(e,f,d);const p=n2e((typeof e.children=="function"?e.children(LG(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return ZI(e,[],u);const m=_t(o,u),g=p.map(y=>o2e(y,m)).find(y=>y.type==="ok");return g?XI(e,f,d,g):ZI(e,[],u)}function i2e(e,t){const n=[...String(e)];let r="";for(let o=0;o<n.length;o++){const i=n[o];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}function Npt(e,t){O$("Resolving path from state %o",t);const n=o2e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(BG).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(BG).join(", ")))}const{path:r,searchParams:o}=s2e(n),i=o.length>0?Vpt(o):"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function zpt(e){return"[".concat(e,"]")}function Vpt(e){return e.flatMap(t=>{let[n,r]=t;return r===void 0?[]:[Wpt(Hpt(n)),Upt(r)].join("=")}).join("&")}function Hpt(e){const[t,...n]=e;return n.length>0?[t,...n.map(zpt)].join(""):t}function Upt(e){return i2e(e,"/")}function Wpt(e){return i2e(e,"[]")}function s2e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?s2e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:Ypt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function Ypt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function BG(e){return'"'.concat(e,'"')}function qpt(e){return Zpt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function Gpt(e){return Qpt(e.replace(/-/g,"+").replace(/_/g,"/"))}function Kpt(e){return String.fromCharCode(parseInt(e.slice(1),16))}function Zpt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,Kpt))}function Xpt(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}function Qpt(e){return decodeURIComponent(Array.from(atob(e),Xpt).join(""))}function a2e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(Gpt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function l2e(e){return e?qpt(JSON.stringify(e)):""}function Jpt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function emt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const Gi={create:(e,t,n)=>HG(zG(e,t,n)),intents:e=>{const t=nmt(e).join("/");return Gi.create("".concat(t,"/:intent"),[Gi.create(":params",{transform:{params:{toState:Jpt,toPath:emt}}},[Gi.create(":payload",{transform:{payload:{toState:a2e,toPath:l2e}}})])])},scope(e,t,n,r){const o=zG(t,n,r);return HG({...o,scope:e})}};function NG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function tmt(e){return e&&"_isRoute"in e}function zG(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||tmt(t)?{path:e,children:NG(t)}:n?{path:e,...t,children:NG(n)}:{path:e,...t}}function nmt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const rmt={};function VG(e){return e.split("/").every(t=>!t)}function HG(e){const{path:t,scope:n,transform:r,children:o,__unsafe_disableScopedSearchParams:i}=e;if(!t)throw new TypeError("Missing path");const s=$pt(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:i,route:s,children:o||[],transform:r,encode(a){return Npt(this,a)},decode(a){return Lpt(this,a)},isRoot:VG,isNotFound(a){return this.decode(a)===null},getBasePath(){return this.encode(rmt)},getRedirectBase(a){if(VG(a)){const c=this.getBasePath();if(a!==c)return c}return null}}}function yT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L_e;const{state:t}=Ul();return h.useMemo(()=>e(t),[e,t])}function omt(e){function t(n){const r=Ul();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}omt(e=>e.children(e.router));function imt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}var R$="data-focus-lock",c2e="data-focus-lock-disabled",smt="data-no-focus-lock",amt="data-autofocus-inside",lmt="data-no-autofocus";function cmt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function umt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function dmt(e,t){return umt(t||null,function(n){return e.forEach(function(r){return cmt(r,n)})})}var QI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function u2e(e){return e}function d2e(e,t){t===void 0&&(t=u2e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function D8(e,t){return t===void 0&&(t=u2e),d2e(e,t)}function fmt(e){e===void 0&&(e={});var t=d2e(null);return t.options=ko({async:!0,ssr:!1},e),t}var f2e=D8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),h2e=D8(),hmt=D8(),pmt=fmt({async:!0}),mmt=[],I8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var y=t.group,x=t.className,b=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?mmt:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,P=t.onDeactivation,$=h.useState({}),R=$[0],z=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),B=h.useCallback(function(){c.current=!1,P&&P(a.current)},[P]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(Z){var se=u.current;if(se&&se.focus){var re=typeof A=="function"?A(se):A;if(re){var K=typeof re=="object"?re:void 0;u.current=null,Z?Promise.resolve().then(function(){return se.focus(K)}):se.focus(K)}}},[A]),W=h.useCallback(function(Z){c.current&&f2e.useMedium(Z)},[]),V=h2e.useMedium,G=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),te=Gu((r={},r[c2e]=f&&"disabled",r[R$]=y,r),k),N=p!==!0,Y=N&&p!=="tail",q=dmt([n,G]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:QI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:QI}):null],!f&&h.createElement(T,{id:R,sideCar:pmt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:b,shards:_,onActivation:z,onDeactivation:B,returnFocus:H,focusOptions:D}),h.createElement(E,Gu({ref:q},te,{className:x,onBlur:V,onFocus:W}),d),Y&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:QI}))});I8.propTypes={};I8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const p2e=I8;function tk(e,t){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},tk(e,t)}function gmt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tk(e,t)}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function vmt(e,t){if($l(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m2e(e){var t=vmt(e,"string");return $l(t)==="symbol"?t:String(t)}function Fe(e,t,n){return t=m2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ymt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){gmt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ne.createElement(o,this.props)},d}(h.PureComponent);return Fe(c,"displayName","SideEffect("+n(o)+")"),c}}var Hc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},nk=function(e){return Array.isArray(e)?e:[e]},g2e=function(e){return Array.isArray(e)?e[0]:e},bmt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},v2e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},y2e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},xmt=function(e,t){return!e||y2e(e)||!bmt(e)&&t(v2e(e))},b2e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=xmt(t,b2e.bind(void 0,e));return e.set(t,r),r},wmt=function(e,t){return e&&!y2e(e)?Smt(e)?t(v2e(e)):!1:!0},x2e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=wmt(t,x2e.bind(void 0,e));return e.set(t,r),r},w2e=function(e){return e.dataset},Cmt=function(e){return e.tagName==="BUTTON"},C2e=function(e){return e.tagName==="INPUT"},_2e=function(e){return C2e(e)&&e.type==="radio"},_mt=function(e){return!((C2e(e)||Cmt(e))&&(e.type==="hidden"||e.disabled))},Smt=function(e){var t=e.getAttribute(lmt);return![!0,"true",""].includes(t)},P8=function(e){var t;return!!(e&&(!((t=w2e(e))===null||t===void 0)&&t.focusGuard))},rk=function(e){return!P8(e)},Emt=function(e){return!!e},kmt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},S2e=function(e,t,n){return Hc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(kmt)},jmt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],O8=jmt.join(","),Tmt="".concat(O8,", [data-focus-guard]"),E2e=function(e,t){return Hc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Tmt:O8)?[r]:[],E2e(r))},[])},Amt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?bT([e.contentDocument.body],t):[e]},bT=function(e,t){return e.reduce(function(n,r){var o,i=E2e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return Amt(a,t)}));return n.concat(s,r.parentNode?Hc(r.parentNode.querySelectorAll(O8)).filter(function(a){return a===r}):[])},[])},Dmt=function(e){var t=e.querySelectorAll("[".concat(amt,"]"));return Hc(t).map(function(n){return bT([n])}).reduce(function(n,r){return n.concat(r)},[])},R8=function(e,t){return Hc(e).filter(function(n){return b2e(t,n)}).filter(function(n){return _mt(n)})},UG=function(e,t){return t===void 0&&(t=new Map),Hc(e).filter(function(n){return x2e(t,n)})},$$=function(e,t,n){return S2e(R8(bT(e,n),t),!0,n)},WG=function(e,t){return S2e(R8(bT(e),t),!1)},Imt=function(e,t){return R8(Dmt(e),t)},fv=function(e,t){return e.shadowRoot?fv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Hc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?fv(o,t):!1}return fv(n,t)})},Pmt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},k2e=function(e){return e.parentNode?k2e(e.parentNode):e},$8=function(e){var t=nk(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(R$);return n.push.apply(n,o?Pmt(Hc(k2e(r).querySelectorAll("[".concat(R$,'="').concat(o,'"]:not([').concat(c2e,'="disabled"])')))):[r]),n},[])},Omt=function(e){try{return e()}catch{return}},px=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?px(t.shadowRoot):t instanceof HTMLIFrameElement&&Omt(function(){return t.contentWindow.document})?px(t.contentWindow.document):t}},Rmt=function(e,t){return e===t},$mt=function(e,t){return!!Hc(e.querySelectorAll("iframe")).some(function(n){return Rmt(n,t)})},j2e=function(e,t){return t===void 0&&(t=px(g2e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:$8(e).some(function(n){return fv(n,t)||$mt(n,t)})},Mmt=function(e){e===void 0&&(e=document);var t=px(e);return t?Hc(e.querySelectorAll("[".concat(smt,"]"))).some(function(n){return fv(n,t)}):!1},Fmt=function(e,t){return t.filter(_2e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},M8=function(e,t){return _2e(e)&&e.name?Fmt(e,t):e},Lmt=function(e){var t=new Set;return e.forEach(function(n){return t.add(M8(n,e))}),e.filter(function(n){return t.has(n)})},YG=function(e){return e[0]&&e.length>1?M8(e[0],e):e[0]},qG=function(e,t){return e.length>1?e.indexOf(M8(e[t],e)):t},T2e="NEW_FOCUS",Bmt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=P8(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=Lmt(t),g=n!==void 0?v.indexOf(n):-1,y=g-(r?v.indexOf(r):c),x=qG(e,0),b=qG(e,o-1);if(c===-1||d===-1)return T2e;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return b;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(c<=p)return b;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Nmt=function(e){return function(t){var n,r=(n=w2e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},zmt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=UG(r.filter(Nmt(n)));return o&&o.length?YG(o):YG(UG(t))},M$=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&M$(e.parentNode.host||e.parentNode,t),t},JI=function(e,t){for(var n=M$(e),r=M$(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},A2e=function(e,t,n){var r=nk(e),o=nk(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=JI(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=JI(i,c);u&&(!s||fv(u,s)?s=u:s=JI(u,s))})}),s},Vmt=function(e,t){return e.reduce(function(n,r){return n.concat(Imt(r,t))},[])},Hmt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Emt)},Umt=function(e,t){var n=px(nk(e).length>0?document:g2e(e).ownerDocument),r=$8(e).filter(rk),o=A2e(n||e,e,r),i=new Map,s=WG(r,i),a=$$(r,i).filter(function(m){var v=m.node;return rk(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=WG([o],i).map(function(m){var v=m.node;return v}),u=Hmt(c,a),d=u.map(function(m){var v=m.node;return v}),f=Bmt(d,c,n,t);if(f===T2e){var p=zmt(s,d,Vmt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Wmt=function(e){var t=$8(e).filter(rk),n=A2e(e,e,t),r=new Map,o=$$([n],r,!0),i=$$(t,r).filter(function(s){var a=s.node;return rk(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:P8(a)}})},Ymt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},eP=0,tP=!1,D2e=function(e,t,n){n===void 0&&(n={});var r=Umt(e,t);if(!tP&&r){if(eP>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),tP=!0,setTimeout(function(){tP=!1},1);return}eP++,Ymt(r.node,n.focusOptions),eP--}};function F8(e){setTimeout(e,1)}var qmt=function(){return document&&document.activeElement===document.body},Gmt=function(){return qmt()||Mmt()},hv=null,qg=null,pv=null,mx=!1,Kmt=function(){return!0},Zmt=function(t){return(hv.whiteList||Kmt)(t)},Xmt=function(t,n){pv={observerNode:t,portaledElement:n}},Qmt=function(t){return pv&&pv.portaledElement===t};function GG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Jmt=function(t){return t&&"current"in t?t.current:t},egt=function(t){return t?!!mx:mx==="meanwhile"},tgt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},ngt=function(t,n){return n.some(function(r){return tgt(t,r,r)})},ok=function(){var t=!1;if(hv){var n=hv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||pv&&pv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(Jmt).filter(Boolean));if((!d||Zmt(d))&&(o||egt(a)||!Gmt()||!qg&&i)&&(u&&!(j2e(f)||d&&ngt(d,f)||Qmt(d))&&(document&&!qg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=D2e(f,qg,{focusOptions:c}),pv={})),mx=!1,qg=document&&document.activeElement),document){var p=document&&document.activeElement,m=Wmt(f),v=m.map(function(g){var y=g.node;return y}).indexOf(p);v>-1&&(m.filter(function(g){var y=g.guard,x=g.node;return y&&x.dataset.focusAutoGuard}).forEach(function(g){var y=g.node;return y.removeAttribute("tabIndex")}),GG(v,m.length,1,m),GG(v,-1,-1,m))}}}return t},I2e=function(t){ok()&&t&&(t.stopPropagation(),t.preventDefault())},L8=function(){return F8(ok)},rgt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Xmt(r,n)},ogt=function(){return null},P2e=function(){mx="just",F8(function(){mx="meanwhile"})},igt=function(){document.addEventListener("focusin",I2e),document.addEventListener("focusout",L8),window.addEventListener("blur",P2e)},sgt=function(){document.removeEventListener("focusin",I2e),document.removeEventListener("focusout",L8),window.removeEventListener("blur",P2e)};function agt(e){return e.filter(function(t){var n=t.disabled;return!n})}function lgt(e){var t=e.slice(-1)[0];t&&!hv&&igt();var n=hv,r=n&&t&&t.id===n.id;hv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(qg=null,(!r||n.observed!==t.observed)&&t.onActivation(),ok(),F8(ok)):(sgt(),qg=null)}f2e.assignSyncMedium(rgt);h2e.assignMedium(L8);hmt.assignMedium(function(e){return e({moveFocusInside:D2e,focusInside:j2e})});const cgt=ymt(agt,lgt)(ogt);var O2e=h.forwardRef(function(t,n){return h.createElement(p2e,Gu({sideCar:cgt,ref:n},t))}),R2e=p2e.propTypes||{};R2e.sideCar;imt(R2e,["sideCar"]);O2e.propTypes={};const lh=O2e;var $2e={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})($2e);var ugt=$2e.exports;const dgt=Pe(ugt);function Om(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const fgt="modulepreload",hgt=function(e){return"/"+e},KG={},M2e=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=hgt(i),i in KG)return;KG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":fgt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},pgt=typeof navigator>"u"?!1:navigator.product==="ReactNative",F2e={timeout:pgt?6e4:12e4},mgt=function(t){const n={...F2e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=L2e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function L2e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?L2e(F2e.timeout):{connect:t,socket:t}}const ggt=/^https?:\/\//i,vgt=function(t){if(!ggt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var nP=function(e){return e.replace(/^\s+|\s+$/g,"")},ygt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},bgt=function(e){if(!e)return{};for(var t={},n=nP(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=nP(o.slice(0,i)).toLowerCase(),a=nP(o.slice(i+1));typeof t[s]>"u"?t[s]=a:ygt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const xgt=Pe(bgt),wgt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function Cgt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const _gt=["request","response","progress","error","abort"],ZG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function B2e(e,t){const n=[],r=ZG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[mgt],validateOptions:[vgt]});function o(i){const s=(v,g,y)=>{let x=v,b=g;if(!x)try{b=c("onResponse",g,y)}catch(w){b=null,x=w}x=x&&c("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=_gt.reduce((v,g)=>(v[g]=Cgt(),v),{}),c=wgt(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,y)=>s(g,y,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return ZG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>B2e(n,t),e.forEach(o.use),o}var N2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},xa=(e,t,n)=>(N2e(e,t,"read from private field"),n?n.call(e):t.get(e)),kh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ed=(e,t,n,r)=>(N2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),tS,nS,yg,rS,Pd,oS,iS;class z2e{constructor(){this.readyState=0,this.responseType="",kh(this,tS,void 0),kh(this,nS,void 0),kh(this,yg,void 0),kh(this,rS,{}),kh(this,Pd,void 0),kh(this,oS,{}),kh(this,iS,void 0)}open(t,n,r){Ed(this,tS,t),Ed(this,nS,n),Ed(this,yg,""),this.readyState=1,this.onreadystatechange(),Ed(this,Pd,void 0)}abort(){xa(this,Pd)&&xa(this,Pd).abort()}getAllResponseHeaders(){return xa(this,yg)}setRequestHeader(t,n){xa(this,rS)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ed(this,oS,t),Ed(this,iS,n)}send(t){const n=this.responseType!=="arraybuffer",r={...xa(this,oS),method:xa(this,tS),headers:xa(this,rS),body:t};typeof AbortController=="function"&&xa(this,iS)&&(Ed(this,Pd,new AbortController),typeof EventTarget<"u"&&xa(this,Pd).signal instanceof EventTarget&&(r.signal=xa(this,Pd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(xa(this,nS),r).then(o=>(o.headers.forEach((i,s)=>{Ed(this,yg,xa(this,yg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}tS=new WeakMap;nS=new WeakMap;yg=new WeakMap;rS=new WeakMap;Pd=new WeakMap;oS=new WeakMap;iS=new WeakMap;const F$=typeof XMLHttpRequest=="function"?"xhr":"fetch",Sgt=F$==="xhr"?XMLHttpRequest:z2e,Egt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:F$,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new Sgt;a instanceof z2e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:F$,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(y(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:xgt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,t(null,b())}}},kgt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Egt;return B2e(e,t)};var XG={exports:{}},rP,QG;function jgt(){if(QG)return rP;QG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;rP=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return rP}function Tgt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=jgt(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...y){if(!g.enabled)return;const x=g,b=Number(new Date),w=b-(f||b);x.diff=w,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=y[C];S=j.call(x,k),y.splice(C,1),C--}return S}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Agt=Tgt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=Agt(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(XG,XG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function JG(e){return Object.prototype.toString.call(e)==="[object Object]"}function ei(e){var t,n;return JG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(JG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const Dgt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),Igt=["boolean","string","number"];function Pgt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!Dgt(t)&&(Igt.indexOf(typeof t)!==-1||Array.isArray(t)||ei(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Ogt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let Ay={};typeof globalThis<"u"?Ay=globalThis:typeof window<"u"?Ay=window:typeof global<"u"?Ay=global:typeof self<"u"&&(Ay=self);var Rgt=Ay;function $gt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Rgt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Mgt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class Fgt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const eK=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new Fgt(r),n(this.reason))})}};eK.source=()=>{let e;return{token:new eK(n=>{e=n}),cancel:e}};var V2e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Lgt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Bgt=e=>{const t=e.maxRetries||5,n=e.retryDelay||Ngt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(Lgt(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function Ngt(e){return 100*Math.pow(2,e)+Math.random()*100}const B8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Bgt({shouldRetry:V2e,...e})};B8.shouldRetry=V2e;const oP=5;class zgt extends Error{constructor(t){const n=H2e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class Vgt extends Error{constructor(t){const n=H2e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function H2e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Wgt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(Hgt(t)){const r=t.error.items||[],o=r.slice(0,oP).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>oP&&(i+=`
...and `.concat(r.length-oP," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||Ugt(e),n)}function Hgt(e){return tK(e)&&tK(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function tK(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Ugt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Wgt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Ygt={onResponse:e=>{if(e.statusCode>=500)throw new Vgt(e);if(e.statusCode>=400)throw new zgt(e);return e}},qgt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function nK(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=kgt([n>0?B8({retryDelay:r,maxRetries:n,shouldRetry:Ggt}):{},...e,qgt,Pgt(),Ogt(),Mgt(),Ygt,$gt({implementation:pt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function Ggt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:B8.shouldRetry(e,t,n)}function U2e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const rK=["image","file"],oK=["before","after","replace"],W2e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Kgt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Zgt=e=>{if(rK.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(rK.join(", ")))},fb=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},Y2e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},ik=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));Y2e(e,t._id)},Xgt=(e,t,n)=>{const r="insert(at, selector, items)";if(oK.indexOf(e)===-1){const o=oK.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},q2e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},G2e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var K2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},mv=(e,t,n)=>(K2e(e,t,"read from private field"),n?n.call(e):t.get(e)),Z2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},X2e=(e,t,n,r)=>(K2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),bg,xg;class Q2e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return fb("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return Xgt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...U2e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return fb(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const Qgt=class J2e extends Q2e{constructor(t,n,r){super(t,n),Z2e(this,bg,void 0),X2e(this,bg,r)}clone(){return new J2e(this.selection,{...this.operations},mv(this,bg))}commit(t){if(!mv(this,bg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return mv(this,bg).mutate({patch:this.serialize()},r)}};bg=new WeakMap;let hb=Qgt;const Jgt=class eSe extends Q2e{constructor(t,n,r){super(t,n),Z2e(this,xg,void 0),X2e(this,xg,r)}clone(){return new eSe(this.selection,{...this.operations},mv(this,xg))}commit(t){if(!mv(this,xg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return mv(this,xg).mutate({patch:this.serialize()},r)}};xg=new WeakMap;let pb=Jgt;var tSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Xd=(e,t,n)=>(tSe(e,t,"read from private field"),n?n.call(e):t.get(e)),nSe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},rSe=(e,t,n,r)=>(tSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),zh,Vh;const oSe={returnDocuments:!1};class iSe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return fb("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return fb(n,t),ik(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return fb(n,t),ik(n,t),this._add({[n]:t})}delete(t){return Y2e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const evt=class sSe extends iSe{constructor(t,n,r){super(t,r),nSe(this,zh,void 0),rSe(this,zh,n)}clone(){return new sSe([...this.operations],Xd(this,zh),this.trxId)}commit(t){if(!Xd(this,zh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Xd(this,zh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},oSe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof pb)return this._add({patch:t.serialize()});if(r){const i=n(new pb(t,{},Xd(this,zh)));if(!(i instanceof pb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};zh=new WeakMap;let aSe=evt;const tvt=class lSe extends iSe{constructor(t,n,r){super(t,r),nSe(this,Vh,void 0),rSe(this,Vh,n)}clone(){return new lSe([...this.operations],Xd(this,Vh),this.trxId)}commit(t){if(!Xd(this,Vh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Xd(this,Vh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},oSe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof hb)return this._add({patch:t.serialize()});if(r){const i=n(new hb(t,{},Xd(this,Vh)));if(!(i instanceof hb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Vh=new WeakMap;let cSe=tvt;const nvt="https://www.sanity.io/help/";function N8(e){return nvt+e}function rvt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const xT=e=>rvt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),ovt=xT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),ivt=xT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),svt=xT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(N8("js-client-browser-token")," for more information and how to hide this warning.")]),avt=xT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(N8("js-client-api-version"))]),lvt="apicdn.sanity.io",sk={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},cvt=["localhost","127.0.0.1","0.0.0.0"],uvt=e=>cvt.indexOf(e)!==-1,dvt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},uSe=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},dSe=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||avt();const r=Object.assign({},sk,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=N8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&uSe(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0&&r.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&uvt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?svt():typeof r.useCdn>"u"&&ovt(),o&&Kgt(r.projectId),r.dataset&&W2e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?G2e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===sk.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,dvt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?lvt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},fvt="X-Sanity-Project-ID";function hvt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[fvt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const fSe=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},pvt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,mvt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:pvt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},z8=e=>e.type==="response",gvt=e=>e.body,vvt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),yvt=11264;function hSe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return Lw(e,t,"query",{query:n,params:r},u).pipe(ce(i))}function pSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:W0(e,"doc",n),json:!0,tag:r.tag};return Bw(e,t,o).pipe(ht(z8),ce(i=>i.body.documents&&i.body.documents[0]))}function mSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:W0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Bw(e,t,o).pipe(ht(z8),ce(i=>{const s=vvt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function gSe(e,t,n,r){return ik("createIfNotExists",n),wT(e,t,n,"createIfNotExists",r)}function vSe(e,t,n,r){return ik("createOrReplace",n),wT(e,t,n,"createOrReplace",r)}function ySe(e,t,n,r){return Lw(e,t,"mutate",{mutations:[{delete:U2e(n)}]},r)}function bSe(e,t,n,r){let o;n instanceof pb||n instanceof hb?o={patch:n.serialize()}:n instanceof aSe||n instanceof cSe?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Lw(e,t,"mutate",{mutations:i,transactionId:s},r)}function Lw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":fSe(r),c=!i&&a.length<yvt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=W0(e,n,u),y={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&mvt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Bw(e,t,y).pipe(ht(z8),ce(gvt),ce(x=>{if(!i)return x;const b=x.results||[];if(o.returnDocuments)return d?b[0]&&b[0].document:b.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(_=>_.id);return{transactionId:x.transactionId,results:b,[w]:C}}))}function wT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Lw(e,t,"mutate",{mutations:[i]},s)}function Bw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:G2e(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(uSe(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,ivt()))}const u=hvt(i,Object.assign({},n,{url:V8(e,o,a)})),d=new pt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(bvt(n.signal)):d}function Ml(e,t,n){return Bw(e,t,n).pipe(ht(o=>o.type==="response"),ce(o=>o.body))}function W0(e,t,n){const r=e.config(),o=q2e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function V8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function bvt(e){return t=>new pt(n=>{const r=()=>n.error(wvt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const xvt=!!globalThis.DOMException;function wvt(e){var t,n;if(xvt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var xSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ak=(e,t,n)=>(xSe(e,t,"read from private field"),n?n.call(e):t.get(e)),lk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ck=(e,t,n,r)=>(xSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),sS,aS,lS,cS;class Cvt{constructor(t,n){lk(this,sS,void 0),lk(this,aS,void 0),ck(this,sS,t),ck(this,aS,n)}upload(t,n,r){return wSe(ak(this,sS),ak(this,aS),t,n,r)}}sS=new WeakMap;aS=new WeakMap;class _vt{constructor(t,n){lk(this,lS,void 0),lk(this,cS,void 0),ck(this,lS,t),ck(this,cS,n)}upload(t,n,r){const o=wSe(ak(this,lS),ak(this,cS),t,n,r);return _o(o.pipe(ht(i=>i.type==="response"),ce(i=>i.body.document)))}}lS=new WeakMap;cS=new WeakMap;function wSe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Zgt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=q2e(e.config()),a=n==="image"?"images":"files",c=Svt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,y={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),Bw(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:y,body:r})}function Svt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var Evt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const kvt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),jvt=16e3-1200,Tvt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Avt={includeResult:!0};function CSe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...Evt(n,Avt),tag:a},u=kvt(c,Tvt),d=fSe({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(W0(this,"listen",d));if(f.length>jvt)return new pt(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new pt(g=>{let y;k().then(D=>{y=D}).catch(D=>{g.error(D),A()});let x,b=!1;function w(){b||(j(),!b&&y.readyState===y.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(Dvt(D))}function _(D){const I=_Se(D);return I instanceof Error?g.error(I):g.next(I)}function S(){b=!0,E(),g.complete()}function E(){y&&(y.removeEventListener("error",w),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",S),p.forEach(D=>y.removeEventListener(D,_)),y.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await M2e(()=>import("./browser-57f829f8.js").then(P=>P.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(P=>I.addEventListener(P,_)),I}function T(){k().then(D=>{y=D}).catch(D=>{g.error(D),A()})}function A(){b=!0,E()}return A})}function _Se(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function Dvt(e){if(e instanceof Error)return e;const t=_Se(e);return t instanceof Error?t:new Error(Ivt(t))}function Ivt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var SSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},_i=(e,t,n)=>(SSe(e,t,"read from private field"),n?n.call(e):t.get(e)),uk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},dk=(e,t,n,r)=>(SSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Hh,Uh,Wh,Yh;class Pvt{constructor(t,n){uk(this,Hh,void 0),uk(this,Uh,void 0),dk(this,Hh,t),dk(this,Uh,n)}create(t,n){return gv(_i(this,Hh),_i(this,Uh),"PUT",t,n)}edit(t,n){return gv(_i(this,Hh),_i(this,Uh),"PATCH",t,n)}delete(t){return gv(_i(this,Hh),_i(this,Uh),"DELETE",t)}list(){return Ml(_i(this,Hh),_i(this,Uh),{uri:"/datasets",tag:null})}}Hh=new WeakMap;Uh=new WeakMap;class Ovt{constructor(t,n){uk(this,Wh,void 0),uk(this,Yh,void 0),dk(this,Wh,t),dk(this,Yh,n)}create(t,n){return _o(gv(_i(this,Wh),_i(this,Yh),"PUT",t,n))}edit(t,n){return _o(gv(_i(this,Wh),_i(this,Yh),"PATCH",t,n))}delete(t){return _o(gv(_i(this,Wh),_i(this,Yh),"DELETE",t))}list(){return _o(Ml(_i(this,Wh),_i(this,Yh),{uri:"/datasets",tag:null}))}}Wh=new WeakMap;Yh=new WeakMap;function gv(e,t,n,r,o){return W2e(r),Ml(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var ESe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Qd=(e,t,n)=>(ESe(e,t,"read from private field"),n?n.call(e):t.get(e)),fk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},hk=(e,t,n,r)=>(ESe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Dy,Iy,Py,Oy;class Rvt{constructor(t,n){fk(this,Dy,void 0),fk(this,Iy,void 0),hk(this,Dy,t),hk(this,Iy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ml(Qd(this,Dy),Qd(this,Iy),{uri:n})}getById(t){return Ml(Qd(this,Dy),Qd(this,Iy),{uri:"/projects/".concat(t)})}}Dy=new WeakMap;Iy=new WeakMap;class $vt{constructor(t,n){fk(this,Py,void 0),fk(this,Oy,void 0),hk(this,Py,t),hk(this,Oy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return _o(Ml(Qd(this,Py),Qd(this,Oy),{uri:n}))}getById(t){return _o(Ml(Qd(this,Py),Qd(this,Oy),{uri:"/projects/".concat(t)}))}}Py=new WeakMap;Oy=new WeakMap;var kSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},pk=(e,t,n)=>(kSe(e,t,"read from private field"),n?n.call(e):t.get(e)),mk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gk=(e,t,n,r)=>(kSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),uS,dS,fS,hS;class Mvt{constructor(t,n){mk(this,uS,void 0),mk(this,dS,void 0),gk(this,uS,t),gk(this,dS,n)}getById(t){return Ml(pk(this,uS),pk(this,dS),{uri:"/users/".concat(t)})}}uS=new WeakMap;dS=new WeakMap;class Fvt{constructor(t,n){mk(this,fS,void 0),mk(this,hS,void 0),gk(this,fS,t),gk(this,hS,n)}getById(t){return _o(Ml(pk(this,fS),pk(this,hS),{uri:"/users/".concat(t)}))}}fS=new WeakMap;hS=new WeakMap;var jSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(jSe(e,t,"read from private field"),n?n.call(e):t.get(e)),vk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},yk=(e,t,n,r)=>(jSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qh,Ro,Gh,Co;const Lvt=class L${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sk;vk(this,qh,void 0),vk(this,Ro,void 0),this.listen=CSe,this.config(n),yk(this,Ro,t),this.assets=new Cvt(this,Dt(this,Ro)),this.datasets=new Pvt(this,Dt(this,Ro)),this.projects=new Rvt(this,Dt(this,Ro)),this.users=new Mvt(this,Dt(this,Ro))}clone(){return new L$(Dt(this,Ro),this.config())}config(t){if(t===void 0)return{...Dt(this,qh)};if(Dt(this,qh)&&Dt(this,qh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return yk(this,qh,dSe(t,Dt(this,qh)||{})),this}withConfig(t){return new L$(Dt(this,Ro),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return hSe(this,Dt(this,Ro),t,n,r)}getDocument(t,n){return pSe(this,Dt(this,Ro),t,n)}getDocuments(t,n){return mSe(this,Dt(this,Ro),t,n)}create(t,n){return wT(this,Dt(this,Ro),t,"create",n)}createIfNotExists(t,n){return gSe(this,Dt(this,Ro),t,n)}createOrReplace(t,n){return vSe(this,Dt(this,Ro),t,n)}delete(t,n){return ySe(this,Dt(this,Ro),t,n)}mutate(t,n){return bSe(this,Dt(this,Ro),t,n)}patch(t,n){return new hb(t,n,this)}transaction(t){return new cSe(t,this)}request(t){return Ml(this,Dt(this,Ro),t)}getUrl(t,n){return V8(this,t,n)}getDataUrl(t,n){return W0(this,t,n)}};qh=new WeakMap;Ro=new WeakMap;let Bvt=Lvt;const Nvt=class B${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sk;vk(this,Gh,void 0),vk(this,Co,void 0),this.listen=CSe,this.config(n),yk(this,Co,t),this.assets=new _vt(this,Dt(this,Co)),this.datasets=new Ovt(this,Dt(this,Co)),this.projects=new $vt(this,Dt(this,Co)),this.users=new Fvt(this,Dt(this,Co)),this.observable=new Bvt(t,n)}clone(){return new B$(Dt(this,Co),this.config())}config(t){if(t===void 0)return{...Dt(this,Gh)};if(Dt(this,Gh)&&Dt(this,Gh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),yk(this,Gh,dSe(t,Dt(this,Gh)||{})),this}withConfig(t){return new B$(Dt(this,Co),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _o(hSe(this,Dt(this,Co),t,n,r))}getDocument(t,n){return _o(pSe(this,Dt(this,Co),t,n))}getDocuments(t,n){return _o(mSe(this,Dt(this,Co),t,n))}create(t,n){return _o(wT(this,Dt(this,Co),t,"create",n))}createIfNotExists(t,n){return _o(gSe(this,Dt(this,Co),t,n))}createOrReplace(t,n){return _o(vSe(this,Dt(this,Co),t,n))}delete(t,n){return _o(ySe(this,Dt(this,Co),t,n))}mutate(t,n){return _o(bSe(this,Dt(this,Co),t,n))}patch(t,n){return new pb(t,n,this)}transaction(t){return new aSe(t,this)}request(t){return _o(Ml(this,Dt(this,Co),t))}dataRequest(t,n,r){return _o(Lw(this,Dt(this,Co),t,n,r))}getUrl(t,n){return V8(this,t,n)}getDataUrl(t,n){return W0(this,t,n)}};Gh=new WeakMap;Co=new WeakMap;let zvt=Nvt;function Vvt(e,t){return{requester:nK(e,{}).defaultRequester,createClient:i=>new t(nK(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var Hvt=[];const Uvt=Vvt(Hvt,zvt),TSe=Uvt.createClient;var Wvt=H8;H8.displayName="bash";H8.aliases=["shell"];function H8(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const Yvt=Pe(Wvt);var qvt=U8;U8.displayName="json";U8.aliases=["webmanifest"];function U8(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const Gvt=Pe(qvt);var Kvt=W8;W8.displayName="jsx";W8.aliases=[];function W8(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const Zvt=Pe(Kvt);var Xvt=Y8;Y8.displayName="typescript";Y8.aliases=["ts"];function Y8(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const Qvt=Pe(Xvt);function Jvt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var e0t=Jvt;function t0t(e){return function(t){return e==null?void 0:e[t]}}var n0t=t0t,r0t=n0t,o0t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},i0t=r0t(o0t),s0t=i0t,a0t=s0t,l0t=Vc,c0t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u0t="\\u0300-\\u036f",d0t="\\ufe20-\\ufe2f",f0t="\\u20d0-\\u20ff",h0t=u0t+d0t+f0t,p0t="["+h0t+"]",m0t=RegExp(p0t,"g");function g0t(e){return e=l0t(e),e&&e.replace(c0t,a0t).replace(m0t,"")}var ASe=g0t;const iK=Pe(ASe);var v0t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function y0t(e){return e.match(v0t)||[]}var b0t=y0t,x0t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function w0t(e){return x0t.test(e)}var C0t=w0t,DSe="\\ud800-\\udfff",_0t="\\u0300-\\u036f",S0t="\\ufe20-\\ufe2f",E0t="\\u20d0-\\u20ff",k0t=_0t+S0t+E0t,ISe="\\u2700-\\u27bf",PSe="a-z\\xdf-\\xf6\\xf8-\\xff",j0t="\\xac\\xb1\\xd7\\xf7",T0t="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",A0t="\\u2000-\\u206f",D0t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",OSe="A-Z\\xc0-\\xd6\\xd8-\\xde",I0t="\\ufe0e\\ufe0f",RSe=j0t+T0t+A0t+D0t,$Se="['’]",sK="["+RSe+"]",P0t="["+k0t+"]",MSe="\\d+",O0t="["+ISe+"]",FSe="["+PSe+"]",LSe="[^"+DSe+RSe+MSe+ISe+PSe+OSe+"]",R0t="\\ud83c[\\udffb-\\udfff]",$0t="(?:"+P0t+"|"+R0t+")",M0t="[^"+DSe+"]",BSe="(?:\\ud83c[\\udde6-\\uddff]){2}",NSe="[\\ud800-\\udbff][\\udc00-\\udfff]",wg="["+OSe+"]",F0t="\\u200d",aK="(?:"+FSe+"|"+LSe+")",L0t="(?:"+wg+"|"+LSe+")",lK="(?:"+$Se+"(?:d|ll|m|re|s|t|ve))?",cK="(?:"+$Se+"(?:D|LL|M|RE|S|T|VE))?",zSe=$0t+"?",VSe="["+I0t+"]?",B0t="(?:"+F0t+"(?:"+[M0t,BSe,NSe].join("|")+")"+VSe+zSe+")*",N0t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",z0t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",V0t=VSe+zSe+B0t,H0t="(?:"+[O0t,BSe,NSe].join("|")+")"+V0t,U0t=RegExp([wg+"?"+FSe+"+"+lK+"(?="+[sK,wg,"$"].join("|")+")",L0t+"+"+cK+"(?="+[sK,wg+aK,"$"].join("|")+")",wg+"?"+aK+"+"+lK,wg+"+"+cK,z0t,N0t,MSe,H0t].join("|"),"g");function W0t(e){return e.match(U0t)||[]}var Y0t=W0t,q0t=b0t,G0t=C0t,K0t=Vc,Z0t=Y0t;function X0t(e,t,n){return e=K0t(e),t=n?void 0:t,t===void 0?G0t(e)?Z0t(e):q0t(e):e.match(t)||[]}var HSe=X0t;const USe=Pe(HSe);var Q0t=e0t,J0t=ASe,e1t=HSe,t1t="['’]",n1t=RegExp(t1t,"g");function r1t(e){return function(t){return Q0t(e1t(J0t(t).replace(n1t,"")),e,"")}}var q8=r1t;function o1t(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var WSe=o1t,i1t=WSe;function s1t(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:i1t(e,t,n)}var YSe=s1t,a1t="\\ud800-\\udfff",l1t="\\u0300-\\u036f",c1t="\\ufe20-\\ufe2f",u1t="\\u20d0-\\u20ff",d1t=l1t+c1t+u1t,f1t="\\ufe0e\\ufe0f",h1t="\\u200d",p1t=RegExp("["+h1t+a1t+d1t+f1t+"]");function m1t(e){return p1t.test(e)}var qSe=m1t;function g1t(e){return e.split("")}var v1t=g1t,GSe="\\ud800-\\udfff",y1t="\\u0300-\\u036f",b1t="\\ufe20-\\ufe2f",x1t="\\u20d0-\\u20ff",w1t=y1t+b1t+x1t,C1t="\\ufe0e\\ufe0f",_1t="["+GSe+"]",N$="["+w1t+"]",z$="\\ud83c[\\udffb-\\udfff]",S1t="(?:"+N$+"|"+z$+")",KSe="[^"+GSe+"]",ZSe="(?:\\ud83c[\\udde6-\\uddff]){2}",XSe="[\\ud800-\\udbff][\\udc00-\\udfff]",E1t="\\u200d",QSe=S1t+"?",JSe="["+C1t+"]?",k1t="(?:"+E1t+"(?:"+[KSe,ZSe,XSe].join("|")+")"+JSe+QSe+")*",j1t=JSe+QSe+k1t,T1t="(?:"+[KSe+N$+"?",N$,ZSe,XSe,_1t].join("|")+")",A1t=RegExp(z$+"(?="+z$+")|"+T1t+j1t,"g");function D1t(e){return e.match(A1t)||[]}var I1t=D1t,P1t=v1t,O1t=qSe,R1t=I1t;function $1t(e){return O1t(e)?R1t(e):P1t(e)}var eEe=$1t,M1t=YSe,F1t=qSe,L1t=eEe,B1t=Vc;function N1t(e){return function(t){t=B1t(t);var n=F1t(t)?L1t(t):void 0,r=n?n[0]:t.charAt(0),o=n?M1t(n,1).join(""):t.slice(1);return r[e]()+o}}var z1t=N1t,V1t=z1t,H1t=V1t("toUpperCase"),G8=H1t;const tEe=Pe(G8);var U1t=q8,W1t=G8,Y1t=U1t(function(e,t,n){return e+(n?" ":"")+W1t(t)}),q1t=Y1t;const hn=Pe(q1t);var G1t=Xf,K1t=to,Z1t=Qa,X1t="[object String]";function Q1t(e){return typeof e=="string"||!K1t(e)&&Z1t(e)&&G1t(e)==X1t}var J1t=Q1t;const CT=Pe(J1t);let eyt=e=>crypto.getRandomValues(new Uint8Array(e)),tyt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},nyt=(e,t=21)=>tyt(e,t,eyt),ryt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var oyt=["presence","listen"],bk=globalThis&&globalThis.__assign||function(){return bk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bk.apply(this,arguments)},iyt=nyt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),syt="♥";function uK(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:lyt(t,"v1"),id:n})}function ayt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function lyt(e,t){return bk(bk({},e),{apiVersion:t})}var cyt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?iyt:r,i=o8(e.pipe(rt(function(m){return Ri(m,"message")})),function(m){return m.data===syt}),s=i[0],a=i[1],c=a.pipe(dt(function(m){var v=ayt(m.data),g=v[0],y=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Qn):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),Qn):ve(y)}),aa()),u=n?Uo([n,e]).pipe(Jn(function(m,v){var g=m[0],y=m[1],x=v[0],b=v[1];return g===x&&y===b}),rt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(Ti(1),eT(g)):ve(g)}),Io({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var y=o();return an(c.pipe(ht(function(x){return x.id===y}),ce(function(x){return x.result})),mo(function(){return m.send(uK(v,g,y)),Qn}))}function f(m,v){return u.pipe(Ti(1),dt(function(g){return d(g,m,v).pipe(Ti(1))}))}function p(m,v){return u.pipe(Ti(1),dt(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(Ti(1),dt(function(y){return c.pipe(ht(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===y}),ce(function(x){return x.params.result}),XCe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(uK("".concat(m,"_unsubscribe"),{subscriptionId:y},o()))}))}))}))}return{heartbeats:an(u,s,a).pipe(ce(function(){return new Date})),request:function(m,v){return uyt(m)?p(m,v):f(m,v)}}};function uyt(e){return oyt.includes(e)}var dyt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dK=function(e){dyt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function fyt(e){return function(t){return new pt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new dK("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new dK("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var hyt=function(e,t){return function(n){return Vnt(n,Wo(e).pipe(dt(function(){return t})))}},fK;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(fK||(fK={}));var pyt=function(e){return e};function myt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=fyt(function(i,s){return new window.WebSocket(i,s)});return cyt(o(e).pipe(n?hyt(n,Yu(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):pyt,Io({refCount:!0}),a8(Ri(window,"beforeunload"))),{token$:r})}function gyt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var vyt=gyt,yyt=k8,byt=gT;function xyt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?byt(n,a,c):yyt(n,a,c)}return n}var Y0=xyt,wyt=Y0,Cyt=sh;function _yt(e,t){return e&&wyt(t,Cyt(t),e)}var Syt=_yt;function Eyt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var kyt=Eyt,jyt=Xa,Tyt=fT,Ayt=kyt,Dyt=Object.prototype,Iyt=Dyt.hasOwnProperty;function Pyt(e){if(!jyt(e))return Ayt(e);var t=Tyt(e),n=[];for(var r in e)r=="constructor"&&(t||!Iyt.call(e,r))||n.push(r);return n}var Oyt=Pyt,Ryt=h_e,$yt=Oyt,Myt=ih;function Fyt(e){return Myt(e)?Ryt(e,!0):$yt(e)}var K8=Fyt,Lyt=Y0,Byt=K8;function Nyt(e,t){return e&&Lyt(t,Byt(t),e)}var zyt=Nyt,xk={exports:{}};xk.exports;(function(e,t){var n=Vl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(xk,xk.exports);var Vyt=xk.exports;function Hyt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Z8=Hyt,Uyt=Y0,Wyt=h8;function Yyt(e,t){return Uyt(e,Wyt(e),t)}var qyt=Yyt,Gyt=f8,Kyt=E8,Zyt=h8,Xyt=d_e,Qyt=Object.getOwnPropertySymbols,Jyt=Qyt?function(e){for(var t=[];e;)Gyt(t,Zyt(e)),e=Kyt(e);return t}:Xyt,nEe=Jyt,ebt=Y0,tbt=nEe;function nbt(e,t){return ebt(e,tbt(e),t)}var rbt=nbt,obt=c_e,ibt=nEe,sbt=K8;function abt(e){return obt(e,sbt,ibt)}var X8=abt,lbt=Object.prototype,cbt=lbt.hasOwnProperty;function ubt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&cbt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var dbt=ubt,hK=l_e;function fbt(e){var t=new e.constructor(e.byteLength);return new hK(t).set(new hK(e)),t}var Q8=fbt,hbt=Q8;function pbt(e,t){var n=t?hbt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var mbt=pbt,gbt=/\w*$/;function vbt(e){var t=new e.constructor(e.source,gbt.exec(e));return t.lastIndex=e.lastIndex,t}var ybt=vbt,pK=w0,mK=pK?pK.prototype:void 0,gK=mK?mK.valueOf:void 0;function bbt(e){return gK?Object(gK.call(e)):{}}var xbt=bbt,wbt=Q8;function Cbt(e,t){var n=t?wbt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _bt=Cbt,Sbt=Q8,Ebt=mbt,kbt=ybt,jbt=xbt,Tbt=_bt,Abt="[object Boolean]",Dbt="[object Date]",Ibt="[object Map]",Pbt="[object Number]",Obt="[object RegExp]",Rbt="[object Set]",$bt="[object String]",Mbt="[object Symbol]",Fbt="[object ArrayBuffer]",Lbt="[object DataView]",Bbt="[object Float32Array]",Nbt="[object Float64Array]",zbt="[object Int8Array]",Vbt="[object Int16Array]",Hbt="[object Int32Array]",Ubt="[object Uint8Array]",Wbt="[object Uint8ClampedArray]",Ybt="[object Uint16Array]",qbt="[object Uint32Array]";function Gbt(e,t,n){var r=e.constructor;switch(t){case Fbt:return Sbt(e);case Abt:case Dbt:return new r(+e);case Lbt:return Ebt(e,n);case Bbt:case Nbt:case zbt:case Vbt:case Hbt:case Ubt:case Wbt:case Ybt:case qbt:return Tbt(e,n);case Ibt:return new r;case Pbt:case $bt:return new r(e);case Obt:return kbt(e);case Rbt:return new r;case Mbt:return jbt(e)}}var Kbt=Gbt,Zbt=Xa,vK=Object.create,Xbt=function(){function e(){}return function(t){if(!Zbt(t))return{};if(vK)return vK(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),J8=Xbt,Qbt=J8,Jbt=E8,ext=fT;function txt(e){return typeof e.constructor=="function"&&!ext(e)?Qbt(Jbt(e)):{}}var nxt=txt,rxt=$w,oxt=Qa,ixt="[object Map]";function sxt(e){return oxt(e)&&rxt(e)==ixt}var axt=sxt,lxt=axt,cxt=N0,yK=m8,bK=yK&&yK.isMap,uxt=bK?cxt(bK):lxt,dxt=uxt,fxt=$w,hxt=Qa,pxt="[object Set]";function mxt(e){return hxt(e)&&fxt(e)==pxt}var gxt=mxt,vxt=gxt,yxt=N0,xK=m8,wK=xK&&xK.isSet,bxt=wK?yxt(wK):vxt,xxt=bxt,wxt=u8,Cxt=vyt,_xt=k8,Sxt=Syt,Ext=zyt,kxt=Vyt,jxt=Z8,Txt=qyt,Axt=rbt,Dxt=g_e,Ixt=X8,Pxt=$w,Oxt=dbt,Rxt=Kbt,$xt=nxt,Mxt=to,Fxt=uT,Lxt=dxt,Bxt=Xa,Nxt=xxt,zxt=sh,Vxt=K8,Hxt=1,Uxt=2,Wxt=4,rEe="[object Arguments]",Yxt="[object Array]",qxt="[object Boolean]",Gxt="[object Date]",Kxt="[object Error]",oEe="[object Function]",Zxt="[object GeneratorFunction]",Xxt="[object Map]",Qxt="[object Number]",iEe="[object Object]",Jxt="[object RegExp]",ewt="[object Set]",twt="[object String]",nwt="[object Symbol]",rwt="[object WeakMap]",owt="[object ArrayBuffer]",iwt="[object DataView]",swt="[object Float32Array]",awt="[object Float64Array]",lwt="[object Int8Array]",cwt="[object Int16Array]",uwt="[object Int32Array]",dwt="[object Uint8Array]",fwt="[object Uint8ClampedArray]",hwt="[object Uint16Array]",pwt="[object Uint32Array]",Hn={};Hn[rEe]=Hn[Yxt]=Hn[owt]=Hn[iwt]=Hn[qxt]=Hn[Gxt]=Hn[swt]=Hn[awt]=Hn[lwt]=Hn[cwt]=Hn[uwt]=Hn[Xxt]=Hn[Qxt]=Hn[iEe]=Hn[Jxt]=Hn[ewt]=Hn[twt]=Hn[nwt]=Hn[dwt]=Hn[fwt]=Hn[hwt]=Hn[pwt]=!0;Hn[Kxt]=Hn[oEe]=Hn[rwt]=!1;function pS(e,t,n,r,o,i){var s,a=t&Hxt,c=t&Uxt,u=t&Wxt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Bxt(e))return e;var d=Mxt(e);if(d){if(s=Oxt(e),!a)return jxt(e,s)}else{var f=Pxt(e),p=f==oEe||f==Zxt;if(Fxt(e))return kxt(e,a);if(f==iEe||f==rEe||p&&!o){if(s=c||p?{}:$xt(e),!a)return c?Axt(e,Ext(s,e)):Txt(e,Sxt(s,e))}else{if(!Hn[f])return o?e:{};s=Rxt(e,f,a)}}i||(i=new wxt);var m=i.get(e);if(m)return m;i.set(e,s),Nxt(e)?e.forEach(function(y){s.add(pS(y,t,n,y,e,i))}):Lxt(e)&&e.forEach(function(y,x){s.set(x,pS(y,t,n,x,e,i))});var v=u?c?Ixt:Dxt:c?Vxt:zxt,g=d?void 0:v(e);return Cxt(g||e,function(y,x){g&&(x=y,y=e[x]),_xt(s,x,pS(y,t,n,x,e,i))}),s}var e9=pS;function mwt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gwt=mwt,vwt=Mw,ywt=WSe;function bwt(e,t){return t.length<2?e:vwt(e,ywt(t,0,-1))}var xwt=bwt,wwt=H0,Cwt=gwt,_wt=xwt,Swt=Am;function Ewt(e,t){return t=wwt(t,e),e=_wt(e,t),e==null||delete e[Swt(Cwt(t))]}var kwt=Ewt,jwt=Q_e;function Twt(e){return jwt(e)?void 0:e}var Awt=Twt,Dwt=zc,Iwt=e9,Pwt=kwt,Owt=H0,Rwt=Y0,$wt=Awt,Mwt=j8,Fwt=X8,Lwt=1,Bwt=2,Nwt=4,zwt=Mwt(function(e,t){var n={};if(e==null)return n;var r=!1;t=Dwt(t,function(i){return i=Owt(i,e),r||(r=i.length>1),i}),Rwt(e,Fwt(e),n),r&&(n=Iwt(n,Lwt|Bwt|Nwt,$wt));for(var o=t.length;o--;)Pwt(n,t[o]);return n}),Vwt=zwt;const $i=Pe(Vwt);var Hwt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Nw=Pe(Hwt);var Uwt=to;function Wwt(){if(!arguments.length)return[];var e=arguments[0];return Uwt(e)?e:[e]}var Ywt=Wwt;const zw=Pe(Ywt);var qwt=zc,Gwt=ah,Kwt=N_e,Zwt=to;function Xwt(e,t){var n=Zwt(e)?qwt:Kwt;return n(e,Gwt(t))}var Qwt=Xwt,Jwt=V0,eCt=Qwt;function tCt(e,t){return Jwt(eCt(e,t),1)}var nCt=tCt;const rCt=Pe(nCt);var oCt="Expected a function";function iCt(e){if(typeof e!="function")throw new TypeError(oCt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var sEe=iCt;const sCt=Pe(sEe);var aCt=zc,lCt=ah,cCt=J_e,uCt=X8;function dCt(e,t){if(e==null)return{};var n=aCt(uCt(e),function(r){return[r]});return t=lCt(t),cCt(e,n,function(r,o){return t(r,o[0])})}var fCt=dCt,hCt=ah,pCt=sEe,mCt=fCt;function gCt(e,t){return mCt(e,pCt(hCt(t)))}var vCt=gCt;const aEe=Pe(vCt);function yCt(e){return e===void 0}var bCt=yCt;const lEe=Pe(bCt);var xCt=Vc,wCt=G8;function CCt(e){return wCt(xCt(e).toLowerCase())}var cEe=CCt;const Rm=Pe(cEe);var _Ct=zc,SCt=Z8,ECt=to,kCt=mm,jCt=I_e,TCt=Am,ACt=Vc;function DCt(e){return ECt(e)?_Ct(e,TCt):kCt(e)?[e]:SCt(jCt(ACt(e)))}var ICt=DCt;const PCt=Pe(ICt);function OCt(){}var t9=OCt;const uEe=Pe(t9);var iP=v_e,RCt=t9,$Ct=d8,MCt=1/0,FCt=iP&&1/$Ct(new iP([,-0]))[1]==MCt?function(e){return new iP(e)}:RCt,LCt=FCt,BCt=aT,NCt=_8,zCt=S8,VCt=lT,HCt=LCt,UCt=d8,WCt=200;function YCt(e,t,n){var r=-1,o=NCt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=zCt;else if(i>=WCt){var u=t?null:HCt(e);if(u)return UCt(u);s=!1,o=VCt,c=new BCt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var _T=YCt,qCt=ah,GCt=_T;function KCt(e,t){return e&&e.length?GCt(e,qCt(t)):[]}var ZCt=KCt;const Wf=Pe(ZCt),ss=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],CK=[...ss],sP={name:"any",type:null,jsonType:"any"},XCt={get(){return sP},extend(e,t){const n=Object.assign(_t(sP,CK),e,{type:sP,of:e.of.map(o=>({name:o.name,type:t($i(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,_t(i,CK),{type:o});return r(s)}}}}};var ch={prepare:e=>({title:String(e)})};const _K=[...ss],aP={name:"string",title:"String",type:null,jsonType:"string"},QCt={get(){return aP},extend(e){const t=Object.assign(_t(aP,_K),e,{type:aP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,_K),{type:r});return n(i)}}}}},SK=[...ss,"rows"],lP={name:"text",title:"Text",type:null,jsonType:"string"},JCt={get(){return lP},extend(e){const t=Object.assign(_t(lP,SK),e,{type:lP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,SK),{type:r});return n(i)}}}}},EK=[...ss],cP={name:"datetime",title:"Datetime",type:null,jsonType:"string"},e_t={get(){return cP},extend(e){const t=Object.assign(_t(cP,EK),e,{type:cP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,EK),{type:r});return n(i)}}}}},kK=[...ss],uP={name:"date",title:"Datetime",type:null,jsonType:"string"},t_t={get(){return uP},extend(e){const t=Object.assign(_t(uP,kK),e,{type:uP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,kK),{type:r});return n(i)}}}}},jK=[...ss],dP={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},n_t={get(){return dP},extend(e){const t=Object.assign(_t(dP,jK),e,{type:dP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,jK),{type:r});return n(i)}}}}},TK=[...ss],fP={name:"url",title:"Url",type:null,jsonType:"string"},r_t={get(){return fP},extend(e){const t=Object.assign(_t(fP,TK),e,{type:fP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,TK),{type:r});return n(i)}}}}},AK=[...ss],hP={name:"email",title:"Email",type:null,jsonType:"string"},o_t={get(){return hP},extend(e){const t=Object.assign(_t(hP,AK),e,{type:hP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,AK),{type:r});return n(i)}}}}},DK=[...ss],pP={name:"number",title:"Number",type:null,jsonType:"number"},i_t={get(){return pP},extend(e){const t=Object.assign(_t(pP,DK),e,{type:pP,preview:ch});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,_t(o,DK),{type:r});return n(i)}}}}};function qn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function s_t(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function V$(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>V$(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(s_t(_t(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(V$(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function a_t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return V$(e,n,0)}const l_t={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function c_t(e){return t=>({title:a_t(_t(t,e),l_t)})}function u_t(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const dEe=["title","name","label","heading","header","caption"],d_t=["description",...dEe];function fEe(e,t){return Nw(e.to||[]).some(n=>n.type===t)}function IK(e){return fEe(e,"sanity.imageAsset")}function f_t(e){const t=e.fields||[],n=t.find(IK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(IK));return r?"".concat(r.name,".asset"):void 0}function PK(e){return fEe(e,"sanity.fileAsset")}function h_t(e){const t=e.fields||[],n=t.find(PK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(PK));return r?"".concat(r.name,".asset"):void 0}function p_t(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(u_t).map(u=>u.name);let o=dEe.find(u=>n.includes(u)||r.includes(u)),i=d_t.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=f_t(t);if(!o){const u=h_t(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:c_t(u)}}return{select:aEe({title:o,description:i,media:s?s.name:a},lEe)}}function m_t(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function g_t(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function v_t(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function y_t(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{..._t(e,["prepare","component"]),select:v_t(t)}:{..._t(e,["prepare","component"]),select:t}}function Vw(e){return function(){return m_t(e),g_t(e),y_t(e.preview||(e.options||{}).preview)||p_t(e)}}const b_t=["title","name","label","heading","header","caption","description"],x_t=["string","boolean","number"],OK=e=>x_t.includes(e.type);function w_t(e){let t=b_t.filter(n=>e.fields.some(r=>OK(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(OK).map(n=>n.name)),t.map(n=>({name:n,title:Rm(hn(n)),by:[{field:n,direction:"asc"}]}))}function RK(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!kr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:PCt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const vv=Symbol("__cachedStringFields"),C_t=e=>e.type&&e.type.name==="reference",__t=["style","list"],n9=e=>e.name==="block"||e.type&&n9(e.type),S_t=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(n9);function ST(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?E_t(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!C_t(e)?k_t(e,t,i,r,o):i}function E_t(e,t,n,r,o){return e.of.reduce((i,s)=>ST(s,t,i,r,o-1),n)}function k_t(e,t,n,r,o){const i=n9(e);return e.fields.reduce((s,a)=>{if(i&&__t.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return ST(a.type,t,s,r.concat(c),o-1)},n)}const hEe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],$K={title:10,subtitle:5,description:1.5};function pEe(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in $K).map(r=>({weight:$K[r],path:n[r].split(".")})):[]}function j_t(e,t){return e[vv]||(e[vv]=Wf([...hEe,...pEe(e),...A_t(e,t).map(n=>({weight:1,path:n})),...D_t(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[vv]}function T_t(e){return e[vv]||(e[vv]=Wf([...hEe,...pEe(e)],t=>t.path.join("."))),e[vv]}function A_t(e,t){return ST(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function D_t(e,t){return ST(e,(r,o,i)=>S_t(o)?[...r,i]:r,[],[],t)}function I_t(e){return T_t(e)}function P_t(e){return j_t(e,4)}const MK=[...ss,"orderings","__experimental_search","blockEditor","icon"],mEe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(_t(this.get(),MK),n,{type:this.get(),title:n.title||(n.name?hn(n.name):""),options:r,orderings:n.orderings||w_t(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return qn({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||hn(a)}))})});return qn(o,"fieldsets",()=>ET(n,o.fields)),qn(o,"groups",()=>O_t(n,o.fields)),qn(o,"preview",Vw(n)),qn(o,"__experimental_search",()=>{const s=n.__experimental_search?RK(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?RK(n):a):P_t(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,_t(a,MK),{title:a.title||n.title||(n.name?hn(n.name):""),type:s});return qn(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function ET(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:hn(e.name),"'"));n[o.name]={title:hn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function O_t(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:hn(e.name),"'"));if(n[o.name]={title:hn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:hn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=zw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:hn(e.name),"'"));a.fields.push(o)})}),rCt(n).filter(o=>o.fields.length>0)}const R_t={name:"_ref",title:"Referenced document ID",type:"string"},$_t={name:"_weak",title:"Weak reference",type:"boolean"},M_t=[R_t,$_t],FK=[...ss],mP={name:"reference",title:"Reference",type:null,jsonType:"object"};function F_t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function L_t(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(F_t(Nw(e.to).map(t=>t.title),"or").toLowerCase())}const B_t={get(){return mP},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(_t(mP,FK),e,{type:mP});return qn(n,"fields",()=>M_t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),qn(n,"fieldsets",()=>ET(e,n.fields)),qn(n,"to",()=>Nw(e.to).map(o=>t(o))),qn(n,"title",()=>e.title||L_t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,_t(i,FK),{type:o});return r(s)}}}}},N_t={name:"_ref",title:"Referenced document ID",type:"string"},z_t={name:"_weak",title:"Weak reference marker",type:"boolean"},V_t={name:"_dataset",title:"Target dataset",type:"string"},H_t={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},U_t=[N_t,z_t,V_t,H_t],LK=[...ss],gP={name:"crossDatasetReference",type:null,jsonType:"object"};function W_t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function Y_t(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(W_t(Nw(e.to).map(t=>t.title||Rm(t.type)),"or").toLowerCase())}const q_t={get(){return gP},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(_t(gP,LK),e,{type:gP});return qn(n,"fields",()=>U_t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),qn(n,"to",()=>Nw(e.to).map(o=>({...o,__experimental_search:I_t(o)}))),qn(n,"title",()=>e.title||Y_t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,_t(i,LK),{type:o});return r(s)}}}}},G_t={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},K_t={name:"hotspot",type:"sanity.imageHotspot"},Z_t={name:"crop",type:"sanity.imageCrop"},BK=[...ss],NK={name:"image",title:"Image",type:null,jsonType:"object"},X_t={},Q_t={get(){return NK},extend(e,t){const n={...e.options||X_t};let r=[K_t,Z_t];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[G_t,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(_t(this.get(),BK),i,{type:NK,title:i.title||(i.name?hn(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return qn(p,"type",()=>t({...f,title:c.title||hn(u)}))})});return qn(s,"fieldsets",()=>ET(i,s.fields)),qn(s,"preview",Vw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,_t(u,BK),{type:c});return a(d)}}}}},J_t={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},zK=[...ss],vP={name:"file",title:"File",type:null,jsonType:"object"},e2t={accept:""},t2t={get(){return vP},extend(e,t){const n={...e.options||e2t},r=[J_t,...e.fields||[]],o={...e,fields:r},i=Object.assign(_t(vP,zK),o,{type:vP,title:o.title||(o.name?hn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return qn(f,"type",()=>t({...d,title:a.title||hn(c)}))})});return qn(i,"fieldsets",()=>ET(o,i.fields)),qn(i,"preview",Vw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,_t(c,zK),{type:a});return s(u)}}}}},n2t={name:"document",title:"Document",type:null,jsonType:"object"},r2t={get(){return n2t},extend:mEe.extend},VK=[...ss],yP={name:"array",type:null,jsonType:"array",of:[]},o2t={get(){return yP},extend(e,t){const n=Object.assign(_t(yP,VK),e,{type:yP});return qn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,_t(i,VK),{type:o});return r(s)}}}}},i2t={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},s2t={type:"text",name:"text",title:"Text"},a2t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},HK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},l2t=[HK.bullet,HK.numbered],au={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},c2t=[au.normal,au.h1,au.h2,au.h3,au.h4,au.h5,au.h6,au.blockquote],u2t={title:"Strong",value:"strong"},d2t={title:"Italic",value:"em"},f2t={title:"Code",value:"code"},h2t={title:"Underline",value:"underline"},p2t={title:"Strike",value:"strike-through"},H1={strong:u2t,em:d2t,code:f2t,underline:h2t,strikeThrough:p2t},m2t=[H1.strong,H1.em,H1.code,H1.underline,H1.strikeThrough],UK=["type","name","title","jsonType","description","options","fieldsets","icon"],bP={name:"block",title:"Block",type:null,jsonType:"object"},g2t={},v2t={get(){return bP},extend(e,t){const n={...e.options||g2t},{marks:r,styles:o,lists:i,of:s,...a}=e,c=w2t(r,s),u=b2t(o),d=x2t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||gEe},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(_t(bP,UK),a,{type:bP,options:n});return qn(v,"fields",()=>m.map(y=>{const{name:x,...b}=y;return{name:x,type:t(b)}})),qn(v,"preview",Vw(e)),g(v);function g(y){return{get(){return y},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,_t(x,UK),{type:y});return g(b)}}}}};function y2t(e){return e.some(t=>t.value==="normal")?e:[au.normal,...e]}function b2t(e){return{name:"style",title:"Style",type:"string",options:{list:y2t(e||c2t)}}}function x2t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||l2t}}}const gEe=[i2t];function w2t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[s2t,a2t],annotations:e&&e.annotations?e.annotations:gEe,decorators:e&&e.decorators?e.decorators:m2t},...t.filter(n=>n.type!=="span")]}}const WK=["type","name","title","jsonType","description","options","fieldsets","icon"],xP={name:"span",title:"Span",type:null,jsonType:"object"},C2t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},_2t={name:"text",title:"Text",type:"string"},S2t={},E2t={get(){return xP},extend(e,t){const n={...e.options||S2t},{annotations:r=[],marks:o=[]}=e,i=[C2t,_2t],s=Object.assign(_t(xP,WK),e,{type:xP,options:n});return qn(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),qn(s,"annotations",()=>r.map(t)),qn(s,"marks",()=>o.map(t)),qn(s,"preview",Vw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,_t(u,WK),{type:c});return a(d)}}}}};var k2t=Object.freeze({__proto__:null,any:XCt,array:o2t,block:v2t,boolean:n_t,crossDatasetReference:q_t,date:t_t,datetime:e_t,document:r2t,email:o_t,file:t2t,image:Q_t,number:i_t,object:mEe,reference:B_t,span:E2t,string:QCt,text:JCt,url:r_t});function j2t(e){const t=Object.assign(Object.create(null),k2t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let T2t=class vEe{static compile(t){return new vEe(t)}constructor(t){this._original=t,this._registry=j2t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const r9=T2t;var A2t=_T;function D2t(e){return e&&e.length?A2t(e):[]}var I2t=D2t;const go=Pe(I2t),P2t={},O2t=Object.freeze(Object.defineProperty({__proto__:null,default:P2t},Symbol.toStringTag,{value:"Module"})),R2t=m4e(O2t);var o9=typeof Map=="function"&&Map.prototype,wP=Object.getOwnPropertyDescriptor&&o9?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,wk=o9&&wP&&typeof wP.get=="function"?wP.get:null,YK=o9&&Map.prototype.forEach,i9=typeof Set=="function"&&Set.prototype,CP=Object.getOwnPropertyDescriptor&&i9?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ck=i9&&CP&&typeof CP.get=="function"?CP.get:null,qK=i9&&Set.prototype.forEach,$2t=typeof WeakMap=="function"&&WeakMap.prototype,mb=$2t?WeakMap.prototype.has:null,M2t=typeof WeakSet=="function"&&WeakSet.prototype,gb=M2t?WeakSet.prototype.has:null,F2t=typeof WeakRef=="function"&&WeakRef.prototype,GK=F2t?WeakRef.prototype.deref:null,L2t=Boolean.prototype.valueOf,B2t=Object.prototype.toString,N2t=Function.prototype.toString,z2t=String.prototype.match,s9=String.prototype.slice,Jd=String.prototype.replace,V2t=String.prototype.toUpperCase,KK=String.prototype.toLowerCase,yEe=RegExp.prototype.test,ZK=Array.prototype.concat,hc=Array.prototype.join,H2t=Array.prototype.slice,XK=Math.floor,H$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_P=Object.getOwnPropertySymbols,U$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,e0=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===e0||"symbol")?Symbol.toStringTag:null,bEe=Object.prototype.propertyIsEnumerable,QK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function JK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||yEe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-XK(-e):XK(e);if(r!==e){var o=String(r),i=s9.call(t,o.length+1);return Jd.call(o,n,"$&_")+"."+Jd.call(Jd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jd.call(t,n,"$&_")}var W$=R2t,eZ=W$.custom,tZ=wEe(eZ)?eZ:null,U2t=function e(t,n,r,o){var i=n||{};if(Ld(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ld(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Ld(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ld(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ld(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return _Ee(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?JK(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?JK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return Y$(t)?"[Array]":"[Object]";var f=lSt(i,r);if(typeof o>"u")o=[];else if(CEe(o,t)>=0)return"[Circular]";function p(I,P,$){if(P&&(o=H2t.call(o),o.push(P)),$){var R={depth:i.depth};return Ld(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!nZ(t)){var m=J2t(t),v=y_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+hc.call(v,", ")+" }":"")}if(wEe(t)){var g=e0?Jd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):U$.call(t);return typeof t=="object"&&!e0?U1(g):g}if(iSt(t)){for(var y="<"+KK.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+xEe(W2t(x[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+KK.call(String(t.nodeName))+">",y}if(Y$(t)){if(t.length===0)return"[]";var w=y_(t,p);return f&&!aSt(w)?"["+q$(w,f)+"]":"[ "+hc.call(w,", ")+" ]"}if(q2t(t)){var C=y_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!bEe.call(t,"cause")?"{ ["+String(t)+"] "+hc.call(ZK.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+hc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(tZ&&typeof t[tZ]=="function"&&W$)return W$(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(eSt(t)){var _=[];return YK&&YK.call(t,function(I,P){_.push(p(P,t,!0)+" => "+p(I,t))}),rZ("Map",wk.call(t),_,f)}if(rSt(t)){var S=[];return qK&&qK.call(t,function(I){S.push(p(I,t))}),rZ("Set",Ck.call(t),S,f)}if(tSt(t))return SP("WeakMap");if(oSt(t))return SP("WeakSet");if(nSt(t))return SP("WeakRef");if(K2t(t))return U1(p(Number(t)));if(X2t(t))return U1(p(H$.call(t)));if(Z2t(t))return U1(L2t.call(t));if(G2t(t))return U1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Cs)return"{ [object globalThis] }";if(!Y2t(t)&&!nZ(t)){var E=y_(t,p),j=QK?QK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Mi&&Object(t)===t&&Mi in t?s9.call(uh(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+hc.call(ZK.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+q$(E,f)+"}":D+"{ "+hc.call(E,", ")+" }"}return String(t)};function xEe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function W2t(e){return Jd.call(String(e),/"/g,"&quot;")}function Y$(e){return uh(e)==="[object Array]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function Y2t(e){return uh(e)==="[object Date]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function nZ(e){return uh(e)==="[object RegExp]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function q2t(e){return uh(e)==="[object Error]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function G2t(e){return uh(e)==="[object String]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function K2t(e){return uh(e)==="[object Number]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function Z2t(e){return uh(e)==="[object Boolean]"&&(!Mi||!(typeof e=="object"&&Mi in e))}function wEe(e){if(e0)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!U$)return!1;try{return U$.call(e),!0}catch{}return!1}function X2t(e){if(!e||typeof e!="object"||!H$)return!1;try{return H$.call(e),!0}catch{}return!1}var Q2t=Object.prototype.hasOwnProperty||function(e){return e in this};function Ld(e,t){return Q2t.call(e,t)}function uh(e){return B2t.call(e)}function J2t(e){if(e.name)return e.name;var t=z2t.call(N2t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function CEe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function eSt(e){if(!wk||!e||typeof e!="object")return!1;try{wk.call(e);try{Ck.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function tSt(e){if(!mb||!e||typeof e!="object")return!1;try{mb.call(e,mb);try{gb.call(e,gb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function nSt(e){if(!GK||!e||typeof e!="object")return!1;try{return GK.call(e),!0}catch{}return!1}function rSt(e){if(!Ck||!e||typeof e!="object")return!1;try{Ck.call(e);try{wk.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function oSt(e){if(!gb||!e||typeof e!="object")return!1;try{gb.call(e,gb);try{mb.call(e,mb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function iSt(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function _Ee(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return _Ee(s9.call(e,0,t.maxStringLength),t)+r}var o=Jd.call(Jd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,sSt);return xEe(o,"single",t)}function sSt(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+V2t.call(t.toString(16))}function U1(e){return"Object("+e+")"}function SP(e){return e+" { ? }"}function rZ(e,t,n,r){var o=r?q$(n,r):hc.call(n,", ");return e+" ("+t+") {"+o+"}"}function aSt(e){for(var t=0;t<e.length;t++)if(CEe(e[t],`
`)>=0)return!1;return!0}function lSt(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=hc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:hc.call(Array(t+1),n)}}function q$(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+hc.call(e,","+n)+`
`+t.prev}function y_(e,t){var n=Y$(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Ld(e,o)?t(e[o],e):""}var i=typeof _P=="function"?_P(e):[],s;if(e0){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Ld(e,c)&&(n&&String(Number(c))===c&&c<e.length||e0&&s["$"+c]instanceof Symbol||(yEe.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof _P=="function")for(var u=0;u<i.length;u++)bEe.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Gg=Pe(U2t);function cSt(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var uSt=cSt,dSt=B_e;function fSt(e,t,n,r){return dSt(e,function(o,i,s){t(r,o,n(o),s)}),r}var hSt=fSt,pSt=uSt,mSt=hSt,gSt=ah,vSt=to;function ySt(e,t){return function(n,r){var o=vSt(n)?pSt:mSt,i=t?t():{};return o(n,e,gSt(r),i)}}var a9=ySt,bSt=a9,xSt=bSt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),wSt=xSt;const l9=Pe(wSt);var CSt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Es=Pe(CSt);var c9={exports:{}};const EP=[],oZ=[],SEe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)oZ[d]=e.charCodeAt(i+d),EP[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===oZ[d]?c:c+1,c=EP[d],a=EP[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};c9.exports=SEe;c9.exports.default=SEe;var _St=c9.exports;const SSt=Pe(_St),ESt="https://docs.sanity.io/help/";function u9(e){return ESt+e}const nt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function EEe(e,t,n){if(n&&!Object.keys(nt).some(r=>nt[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const De=(e,t)=>EEe("error",e,t),Hr=(e,t)=>EEe("warning",e,t);function kSt(e){return Pn(e.map(t=>kEe(t))).filter(t=>t.problems.length>0)}function $m(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Yn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return kEe(c,d)}):[[{path:i,problems:[De("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...Pn(a)]}}const jSt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],iZ=$m("fields"),TSt=$m("fields"),ASt=$m("fields"),DSt=$m("of"),ISt=$m("to",e=>"to"in e?jSt(e.to):[]),PSt=$m("marks.annotations"),OSt=$m("of"),RSt=(e,t)=>[...PSt(e,t),...OSt(e,t)];function $St(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function kEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return iZ(e,t);case"document":return iZ(e,t);case"array":return DSt(e,t);case"reference":return ISt(e,t);case"block":return RSt(e,t);case"image":return TSt(e,t);case"file":return ASt(e,t);default:return $St(e,t)}}function kT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const MSt=e=>e,FSt={name:"type",type:null},LSt=["any","time","date"];function BSt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MSt;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=LSt.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?FSt:r[v]||o[v]||null}const u=go(Pn(kT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,y)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:y});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const jEe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],TEe=jEe.map(e=>e.name);function NSt(e,t){return BSt(e,jEe,t)}const zSt=/^Symbol\(react\..+\)$/;function b_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&zSt.test(String(e==null?void 0:e.$$typeof))}function AEe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!b_(t.input)&&n.push(Hr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Gg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!b_(t.field)&&n.push(Hr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Gg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!b_(t.item)&&n.push(Hr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Gg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!b_(t.preview)&&n.push(Hr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Gg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const sZ=/^[A-Za-z]+[0-9A-Za-z_]*$/,VSt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function HSt(e){return typeof e!="string"?[De('Field names must be strings. Saw "'.concat(Gg(e),'"'),nt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[De('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),nt.OBJECT_FIELD_NAME_INVALID)]:sZ.test(e)?VSt.test(e)?[]:[Hr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),nt.OBJECT_FIELD_NAME_INVALID]:[De('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(sZ),")."),nt.OBJECT_FIELD_NAME_INVALID)]}function d9(e,t){if(!kr(e))return[De("Incorrect type for field definition - should be an object, saw ".concat(Gg(e)),nt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?HSt(e.name):[De("Missing field name",nt.OBJECT_FIELD_NAME_INVALID)]),n.push(...AEe(e)),n}function USt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function f9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[De('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),nt.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");USt(o).forEach(s=>{n.push(De("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),nt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(De("Object should have at least one field",nt.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(De("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),nt.STANDALONE_BLOCK_TYPE))}return n}function WSt(e){return kr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[De('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?kr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(De('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[De('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[De('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var DEe=(e,t)=>{let n=f9(e.fields),r=e.preview;if(r){const o=WSt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(De('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:d9(o).concat(c||[])}}),_problems:n}},YSt=(e,t)=>{const n=DEe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!kr(r)&&typeof r!="function"&&n._problems.push(De('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(De('Found property "initialValues" - did you mean "initialValue"?')),n};function qSt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var GSt=(e,t)=>{const n=Array.isArray(e.to)||kr(e.to),r=qSt(e),o=Pn([n?kT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.REFERENCE_TO_INVALID)):De('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(De('The reference type should define at least one accepted type. Please check the "to" property.',nt.REFERENCE_TO_INVALID)),o.push(...KSt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function KSt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?kr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!kr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}function aZ(e){return e==="string"||e==="number"||e==="boolean"}function ZSt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function vb(e){return'"'.concat(e,'"')}function lZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function cZ(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Es(Object.keys(e).map(vb))):vb(e)}var XSt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&TEe.includes(y.name))return g.concat(De('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Hr('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(De('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',nt.ARRAY_OF_ARRAY));if(y)return g;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return g.concat(De("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),nt.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=Pn([i?kT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>De("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),nt.ARRAY_OF_NOT_UNIQUE)):De('The array type is missing or having an invalid value for the required "of" property',nt.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(De("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",nt.ARRAY_OF_INVALID));const[d,f]=l9(a,v=>{var g;return aZ(v.type)||aZ((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(y=>y.type),g=f.map(y=>y.type);s.push(De("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(lZ(v)," ").concat(Es(v.map(vb))," and object type").concat(lZ(g)," ").concat(Es(g.map(vb)),")"),nt.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var y;const x=(y=g==null?void 0:g.value)!=null?y:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=Es(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(De("An invalid entry found in options.list: ".concat(cZ(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),nt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const y=g._type||"object";f.some(b=>ZSt(y,b))||s.push(De("An invalid entry found in options.list: ".concat(cZ(g),'. Must be an object with "_type" set to ').concat(Es(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":vb(b)),{conjunction:"or"})),nt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Hr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},QSt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Hr('Heads up! The "slugifyFn" option has been renamed to "slugify".',nt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},JSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...f9(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(De("Invalid type for file `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(De("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:d9(i).concat(u||[])}}),_problems:n}};const uZ=["dimensions","hasAlpha","isOpaque"];var eEt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...f9(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>uZ.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(De("Invalid type for image `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Hr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!uZ.includes(u))}):c.length>0&&n.push(De("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:d9(u).concat(m||[])}}),_problems:n}};function IEe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return IEe(r,t,n)}const na=e=>Array.isArray(e)?"array":typeof e,Hw=e=>'"'.concat(e,'"'),tEt=["components","lists","marks","name","of","options","styles","title","type","validation"],nEt=["decorators","annotations"],rEt=["blockEditor","title","value","component"],oEt=["blockEditor","title","value","icon","component"],iEt=["title","value","icon","component"],dZ=["file","image","object","reference"];function sEt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!tEt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Es(a.map(Hw))))),i&&(i=aEt(e.marks,t,n)),r&&(r=cEt(r,t,n)),o&&(o=lEt(o,t,n)),s&&(s=fEt(s,t,n)),{...$i(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function aEt(e,t,n){let r=e.decorators,o=e.annotations;if(!kr(e))return n.push(De('"marks" declaration should be an object, got '.concat(na(e)))),n;const i=Object.keys(e).filter(s=>!nEt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Es(i.map(Hw))))),r&&!Array.isArray(r)?n.push(De('"marks.decorators" declaration should be an array, got '.concat(na(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=uEt(r,t,n)),o&&!Array.isArray(o)?n.push(De('"marks.annotations" declaration should be an array, got '.concat(na(o)))):o&&(o=dEt(o,t,n)),{...e,decorators:r,annotations:o}}function lEt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!kr(r)){n.push(De("List must be an object, got ".concat(na(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!iEt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for list ".concat(i,": ").concat(Es(s.map(Hw))))),r.value?typeof r.value!="string"?n.push(De("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(na(r.value)))):r.title||n.push(Hr("List type ".concat(i,' is missing recommended "title" property'))):n.push(De("List #".concat(o,' is missing required "value" property')))}),e):(n.push(De('"lists" declaration should be an array, got '.concat(na(e)))),n)}function cEt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!kr(r)){n.push(De("Style must be an object, got ".concat(na(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!rEt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for style ".concat(i,": ").concat(Es(s.map(Hw))))),r.value?typeof r.value!="string"?n.push(De("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(na(r.value)))):r.title||n.push(Hr("Style ".concat(i,' is missing recommended "title" property'))):n.push(De("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Hr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(De('"styles" declaration should be an array, got '.concat(na(e)))),n)}function uEt(e,t,n){return e.forEach((r,o)=>{if(!kr(r)){n.push(De("Annotation must be an object, got ".concat(na(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!oEt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for decorator ".concat(i,": ").concat(Es(s.map(Hw))))),r.value?typeof r.value!="string"?n.push(De("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(na(r.value)))):r.title||n.push(Hr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(De("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Hr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function dEt(e,t,n){return e.map(r=>{var o,i;if(!kr(r))return{...r,_problems:[De("Annotation must be an object, got ".concat(na(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!IEe(a,"object",t)&&s.push(De('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Hr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function fEt(e,t,n){if(!Array.isArray(e)){n.push(De('"of" declaration should be an array, got '.concat(na(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Hr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=TEe.filter(a=>!dZ.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[De("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(dZ.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function hEt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[De('Type has propery "fields", but is not an object/document type.')]:[]}const pEt=e=>'"'.concat(e,'"');function mEt(e,t){const n=t.getTypeNames();if(!e)return[De("Type is missing a type. Valid types are: ".concat(Es(n)),nt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[De('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Es(n)),nt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[SSt(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(Es(o.map(pEt),{conjunction:"or"}),"?"):"";return[De("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Es(n)))]}return[]}function gEt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Hr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Hr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Hr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Hr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Hr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var fZ=(e,t)=>({...e,_problems:[...mEt(e.type,t),...hEt(e,t),...gEt(e)].filter(Boolean)}),vEt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[De("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",nt.TYPE_INVALID)]};const r=[];return yEt(e)?r.push(De("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",nt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(De('Invalid type name: "'.concat(e.name,'" is a reserved name.'),nt.TYPE_NAME_RESERVED)):r.push(De("Missing type name",nt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(De('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...AEe(e)),"title"in e&&typeof e.title!="string"&&r.push(Hr("Type title is not a string.",nt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function yEt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function bEt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const xEt=/^[a-z0-9~][-_a-z0-9]+$/;function wEt(e){return e.length>=2&&e.toLowerCase()===e&&xEt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var CEt=(e,t)=>{const n=Array.isArray(e.to)||kr(e.to),r=bEt(e),o=Pn([n?kT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.CROSS_DATASET_REFERENCE_INVALID)):De('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(De('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',nt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(De("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),nt.CROSS_DATASET_REFERENCE_INVALID)),kr(i.preview)||o.push(De('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),nt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=wEt(e.dataset);i!==!0&&o.push(De(i,nt.CROSS_DATASET_REFERENCE_INVALID))}else o.push(De("A cross dataset reference must specify a `dataset`",nt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(De('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',nt.CROSS_DATASET_REFERENCE_INVALID)),o.push(..._Et(e)),{...e,_problems:o}};function _Et(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?kr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!kr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}const SEt={array:XSt,object:DEe,slug:QSt,file:JSt,image:eEt,block:sEt,document:YSt,reference:GSt,crossDatasetReference:CEt},EEt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function hZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function kEt(e){return NSt(e,(t,n)=>{const r=t&&t.type&&SEt[t.type]||EEt(n);return n.isRoot?hZ(vEt,fZ,r)(t,n):hZ(fZ,r)(t,n)})}const G$="__experimental_actions",PEe=["create","update","delete","publish"],kP=PEe,jEt=e=>G$ in e?e[G$]:PEe,TEt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(G$," should be an array with any of the actions ").concat(kP.join(", ")));const n=Xp(t,kP);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(kP.join(", ")));return t},AEt=e=>TEt(e.name,jEt(e)),pZ=(e,t)=>AEt(e).includes(t);var DEt=e9,IEt=1,PEt=4;function OEt(e){return DEt(e,IEt|PEt)}var REt=OEt;const $Et=Pe(REt);function qe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function MEt(e){return qe(1,arguments),e instanceof Date||$l(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ke(e){qe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||$l(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ku(e){if(qe(1,arguments),!MEt(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function Tt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function FEt(e,t){qe(2,arguments);var n=Ke(e).getTime(),r=Tt(t);return new Date(n+r)}function OEe(e,t){qe(2,arguments);var n=Tt(t);return FEt(e,-n)}var LEt=864e5;function BEt(e){qe(1,arguments);var t=Ke(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/LEt)+1}function t0(e){qe(1,arguments);var t=1,n=Ke(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function REe(e){qe(1,arguments);var t=Ke(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=t0(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=t0(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function NEt(e){qe(1,arguments);var t=REe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=t0(n);return r}var zEt=6048e5;function $Ee(e){qe(1,arguments);var t=Ke(e),n=t0(t).getTime()-NEt(t).getTime();return Math.round(n/zEt)+1}var VEt={};function hd(){return VEt}function Qp(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=hd(),f=Tt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function h9(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=Ke(e),f=d.getUTCFullYear(),p=hd(),m=Tt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Qp(v,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=Qp(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function HEt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=hd(),f=Tt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=h9(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Qp(m,t);return v}var UEt=6048e5;function MEe(e,t){qe(1,arguments);var n=Ke(e),r=Qp(n,t).getTime()-HEt(n,t).getTime();return Math.round(r/UEt)+1}function xn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var WEt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return xn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):xn(r+1,2)},d:function(t,n){return xn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return xn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return xn(t.getUTCHours(),n.length)},m:function(t,n){return xn(t.getUTCMinutes(),n.length)},s:function(t,n){return xn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return xn(i,n.length)}};const kd=WEt;var rg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YEt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return kd.y(t,n)},Y:function(t,n,r,o){var i=h9(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return xn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):xn(s,n.length)},R:function(t,n){var r=REe(t);return xn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return xn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return xn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return xn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return kd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return xn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=MEe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):xn(i,n.length)},I:function(t,n,r){var o=$Ee(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):xn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):kd.d(t,n)},D:function(t,n,r){var o=BEt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):xn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return xn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return xn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return xn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=rg.noon:o===0?i=rg.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=rg.evening:o>=12?i=rg.afternoon:o>=4?i=rg.morning:i=rg.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return kd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):kd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):xn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):xn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):kd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):kd.s(t,n)},S:function(t,n){return kd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return gZ(s);case"XXXX":case"XX":return Kh(s);case"XXXXX":case"XXX":default:return Kh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return gZ(s);case"xxxx":case"xx":return Kh(s);case"xxxxx":case"xxx":default:return Kh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+mZ(s,":");case"OOOO":default:return"GMT"+Kh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+mZ(s,":");case"zzzz":default:return"GMT"+Kh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return xn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return xn(s,n.length)}};function mZ(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+xn(i,2)}function gZ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+xn(Math.abs(e)/60,2)}return Kh(e,t)}function Kh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=xn(Math.floor(o/60),2),s=xn(o%60,2);return r+i+n+s}const qEt=YEt;var vZ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},FEe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},GEt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return vZ(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",vZ(o,n)).replace("{{time}}",FEe(i,n))},KEt={p:FEe,P:GEt};const K$=KEt;function _k(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ZEt=["D","DD"],XEt=["YY","YYYY"];function LEe(e){return ZEt.indexOf(e)!==-1}function BEe(e){return XEt.indexOf(e)!==-1}function Sk(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var QEt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JEt=function(t,n,r){var o,i=QEt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const ekt=JEt;function jP(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var tkt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nkt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rkt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},okt={date:jP({formats:tkt,defaultWidth:"full"}),time:jP({formats:nkt,defaultWidth:"full"}),dateTime:jP({formats:rkt,defaultWidth:"full"})};const ikt=okt;var skt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},akt=function(t,n,r,o){return skt[t]};const lkt=akt;function W1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var ckt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ukt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dkt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fkt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hkt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pkt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mkt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gkt={ordinalNumber:mkt,era:W1({values:ckt,defaultWidth:"wide"}),quarter:W1({values:ukt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:W1({values:dkt,defaultWidth:"wide"}),day:W1({values:fkt,defaultWidth:"wide"}),dayPeriod:W1({values:hkt,defaultWidth:"wide",formattingValues:pkt,defaultFormattingWidth:"wide"})};const vkt=gkt;function Y1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?bkt(a,function(f){return f.test(s)}):ykt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function ykt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function bkt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function xkt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var wkt=/^(\d+)(th|st|nd|rd)?/i,Ckt=/\d+/i,_kt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Skt={any:[/^b/i,/^(a|c)/i]},Ekt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kkt={any:[/1/i,/2/i,/3/i,/4/i]},jkt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tkt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Akt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dkt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ikt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pkt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Okt={ordinalNumber:xkt({matchPattern:wkt,parsePattern:Ckt,valueCallback:function(t){return parseInt(t,10)}}),era:Y1({matchPatterns:_kt,defaultMatchWidth:"wide",parsePatterns:Skt,defaultParseWidth:"any"}),quarter:Y1({matchPatterns:Ekt,defaultMatchWidth:"wide",parsePatterns:kkt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Y1({matchPatterns:jkt,defaultMatchWidth:"wide",parsePatterns:Tkt,defaultParseWidth:"any"}),day:Y1({matchPatterns:Akt,defaultMatchWidth:"wide",parsePatterns:Dkt,defaultParseWidth:"any"}),dayPeriod:Y1({matchPatterns:Ikt,defaultMatchWidth:"any",parsePatterns:Pkt,defaultParseWidth:"any"})};const Rkt=Okt;var $kt={code:"en-US",formatDistance:ekt,formatLong:ikt,formatRelative:lkt,localize:vkt,match:Rkt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const NEe=$kt;var Mkt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fkt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lkt=/^'([^]*?)'?$/,Bkt=/''/g,Nkt=/[a-zA-Z]/;function oi(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C;qe(2,arguments);var _=String(t),S=hd(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:NEe,j=Tt((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Tt((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ke(e);if(!Ku(T))throw new RangeError("Invalid time value");var A=_k(T),D=OEe(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},P=_.match(Fkt).map(function($){var R=$[0];if(R==="p"||R==="P"){var z=K$[R];return z($,E.formatLong)}return $}).join("").match(Mkt).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return zkt($);var z=qEt[R];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&BEe($)&&Sk($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&LEe($)&&Sk($,t,String(e)),z(D,$,E.localize,I);if(R.match(Nkt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return P}function zkt(e){var t=e.match(Lkt);return t?t[1].replace(Bkt,"'"):e}var Cc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cc||(Cc={}));var Ek=function(e){return e},yZ="beforeunload",Vkt="popstate";function Hkt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,Ek({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=Cc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else b(E)}}r.addEventListener(Vkt,a);var c=Cc.Pop,u=i(),d=u[0],f=u[1],p=kk(),m=kk();d==null&&(d=0,o.replaceState(Gu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:zEe(E)}function g(E,j){return j===void 0&&(j=null),Ek(Gu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?X$(E):E,{state:j,key:Z$()}))}function y(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function b(E){c=E;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(E,j){var k=Cc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=y(T,d+1),I=D[0],P=D[1];try{o.pushState(I,"",P)}catch{r.location.assign(P)}b(k)}}function C(E,j){var k=Cc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=y(T,d),I=D[0],P=D[1];o.replaceState(I,"",P),b(k)}}function _(E){o.go(E)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(yZ,xZ),function(){k(),m.length||r.removeEventListener(yZ,xZ)}}};return S}function Ukt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=Ek(Gu({pathname:"/",search:"",hash:"",state:null,key:Z$()},typeof w=="string"?X$(w):w));return C}),s=bZ(o??i.length-1,0,i.length-1),a=Cc.Pop,c=i[s],u=kk(),d=kk();function f(w){return typeof w=="string"?w:zEe(w)}function p(w,C){return C===void 0&&(C=null),Ek(Gu({pathname:c.pathname,search:"",hash:""},typeof w=="string"?X$(w):w,{state:C,key:Z$()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,c=C,u.call({action:a,location:c})}function g(w,C){var _=Cc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function y(w,C){var _=Cc.Replace,S=p(w,C);function E(){y(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=bZ(s+w,0,i.length-1),_=Cc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var b={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function bZ(e,t,n){return Math.min(Math.max(e,t),n)}function xZ(e){e.preventDefault(),e.returnValue=""}function kk(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function Z$(){return Math.random().toString(36).substr(2,8)}function zEe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function X$(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var VEe={exports:{}},HEe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw=h;function Wkt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ykt=typeof Object.is=="function"?Object.is:Wkt,qkt=Uw.useSyncExternalStore,Gkt=Uw.useRef,Kkt=Uw.useEffect,Zkt=Uw.useMemo,Xkt=Uw.useDebugValue;HEe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Gkt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Zkt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,Ykt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=qkt(e,i[0],i[1]);return Kkt(function(){s.hasValue=!0,s.value=a},[a]),Xkt(a),a};VEe.exports=HEe;var p9=VEe.exports,Qkt=Vc,UEe=/[\\^$.*+?()[\]{}|]/g,Jkt=RegExp(UEe.source);function e5t(e){return e=Qkt(e),e&&Jkt.test(e)?e.replace(UEe,"\\$&"):e}var t5t=e5t;const m9=Pe(t5t);var pd={};Object.defineProperty(pd,"__esModule",{value:!0});var n5t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),TP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r5t={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n5t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},WEe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var x_=1;x_<20;x_++)WEe["f"+x_]=111+x_;function jT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return YEe(s,t)}),o=function(a){return r.some(function(c){return qEe(c,a)})},i=n==null?o:o(n);return i}function o5t(e,t){return jT(e,t)}function i5t(e,t){return jT(e,{byKey:!0},t)}function YEe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in TP)r[TP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=g9(p),g=TP[v];(i===1||!g)&&(n?r.key=v:r.which=GEe(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function qEe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function GEe(e){e=g9(e);var t=WEe[e]||e.toUpperCase().charCodeAt(0);return t}function g9(e){return e=e.toLowerCase(),e=r5t[e]||e,e}var Ci=pd.default=jT;pd.isHotkey=jT;pd.isCodeHotkey=o5t;pd.isKeyHotkey=i5t;pd.parseHotkey=YEe;pd.compareHotkey=qEe;pd.toKeyCode=GEe;pd.toKeyName=g9;var s5t=m_e,a5t=$w,l5t=cT,c5t=to,u5t=ih,d5t=uT,f5t=fT,h5t=g8,p5t="[object Map]",m5t="[object Set]",g5t=Object.prototype,v5t=g5t.hasOwnProperty;function y5t(e){if(e==null)return!0;if(u5t(e)&&(c5t(e)||typeof e=="string"||typeof e.splice=="function"||d5t(e)||h5t(e)||l5t(e)))return!e.length;var t=a5t(e);if(t==p5t||t==m5t)return!e.size;if(f5t(e))return!s5t(e).length;for(var n in e)if(v5t.call(e,n))return!1;return!0}var b5t=y5t;const x5t=Pe(b5t);var w5t=Vc,C5t=0;function _5t(e){var t=++C5t;return w5t(e)+t}var S5t=_5t;const KEe=Pe(S5t);function Ki(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function v9(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function n0(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=hd(),f=Tt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Yf(e){qe(1,arguments);var t=Ke(e);return t.setHours(0,0,0,0),t}var E5t=864e5;function k5t(e,t){qe(2,arguments);var n=Yf(e),r=Yf(t),o=n.getTime()-_k(n),i=r.getTime()-_k(r);return Math.round((o-i)/E5t)}function j5t(e,t){qe(2,arguments);var n=Tt(t),r=n*7;return Ki(e,r)}function yb(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var TT=6e4,AT=36e5,T5t=1e3;function Yd(e,t){qe(2,arguments);var n=Yf(e),r=Yf(t);return n.getTime()===r.getTime()}function A5t(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function D5t(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()-r.getFullYear()}function wZ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ZEe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=wZ(n,r),i=Math.abs(k5t(n,r));n.setDate(n.getDate()-o*i);var s=+(wZ(n,r)===-o),a=o*(i-s);return a===0?0:a}function y9(e,t){return qe(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var CZ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},I5t="trunc";function DT(e){return e?CZ[e]:CZ[I5t]}function P5t(e,t,n){qe(2,arguments);var r=y9(e,t)/AT;return DT(n==null?void 0:n.roundingMethod)(r)}function O5t(e,t,n){qe(2,arguments);var r=y9(e,t)/TT;return DT(n==null?void 0:n.roundingMethod)(r)}function jk(e){qe(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function R5t(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $5t(e){qe(1,arguments);var t=Ke(e);return jk(t).getTime()===R5t(t).getTime()}function M5t(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=yb(n,r),i=Math.abs(A5t(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=yb(n,r)===-o;$5t(Ke(e))&&i===1&&yb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function F5t(e,t,n){qe(2,arguments);var r=y9(e,t)/1e3;return DT(n==null?void 0:n.roundingMethod)(r)}function L5t(e,t,n){qe(2,arguments);var r=ZEe(e,t)/7;return DT(n==null?void 0:n.roundingMethod)(r)}function B5t(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=yb(n,r),i=Math.abs(D5t(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=yb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function _Z(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(0,0),t}function XEe(e,t){qe(1,arguments);var n=e||{},r=Ke(n.start),o=Ke(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=n0(r,t),a=n0(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Ke(u)),u=j5t(u,1),u.setHours(15);return c}function QEe(e){qe(1,arguments);var t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function SZ(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(59,999),t}function N5t(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function z5t(e){qe(1,arguments);var t=Ke(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function V5t(e){qe(1,arguments);var t=Ke(e),n=t.getMinutes();return n}function H5t(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=Ke(e),f=d.getFullYear(),p=hd(),m=Tt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=n0(v,t),y=new Date(0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);var x=n0(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function U5t(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=hd(),f=Tt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=H5t(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=n0(m,t);return v}var W5t=6048e5;function JEe(e,t){qe(1,arguments);var n=Ke(e),r=n0(n,t).getTime()-U5t(n,t).getTime();return Math.round(r/W5t)+1}function eke(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Q$(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()>r.getTime()}function tke(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()<r.getTime()}function EZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y5t(e,t){if(e){if(typeof e=="string")return EZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EZ(e,t)}}function kZ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Y5t(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}function Tk(e){return Tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tk(e)}function q5t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G5t(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function dn(e){var t=q5t();return function(){var r=Tk(e),o;if(t){var i=Tk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return G5t(this,o)}}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m2e(r.key),r)}}function Xt(e,t,n){return t&&jZ(e.prototype,t),n&&jZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var K5t=10,nke=function(){function e(){Zt(this,e),Fe(this,"priority",void 0),Fe(this,"subPriority",0)}return Xt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Z5t=function(e){un(n,e);var t=dn(n);function n(r,o,i,s,a){var c;return Zt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Xt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(nke),X5t=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",K5t),Fe(ze(r),"subPriority",-1),r}return Xt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(nke),yn=function(){function e(){Zt(this,e),Fe(this,"incompatibleTokens",void 0),Fe(this,"priority",void 0),Fe(this,"subPriority",void 0)}return Xt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new Z5t(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),Q5t=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",140),Fe(ze(r),"incompatibleTokens",["R","u","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Qr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},yc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Jr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Pr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function bc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*AT+i*TT+s*T5t),rest:t.slice(n[0].length)}}function rke(e){return Pr(Qr.anyDigitsSigned,e)}function Yr(e,t){switch(e){case 1:return Pr(Qr.singleDigit,t);case 2:return Pr(Qr.twoDigits,t);case 3:return Pr(Qr.threeDigits,t);case 4:return Pr(Qr.fourDigits,t);default:return Pr(new RegExp("^\\d{1,"+e+"}"),t)}}function Ak(e,t){switch(e){case 1:return Pr(Qr.singleDigitSigned,t);case 2:return Pr(Qr.twoDigitsSigned,t);case 3:return Pr(Qr.threeDigitsSigned,t);case 4:return Pr(Qr.fourDigitsSigned,t);default:return Pr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function b9(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oke(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function ike(e){return e%400===0||e%4===0&&e%100!==0}var J5t=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Jr(Yr(4,o),a);case"yo":return Jr(s.ordinalNumber(o,{unit:"year"}),a);default:return Jr(Yr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=oke(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),ejt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Jr(Yr(4,o),a);case"Yo":return Jr(s.ordinalNumber(o,{unit:"year"}),a);default:return Jr(Yr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=h9(o,a);if(s.isTwoDigitYear){var u=oke(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Qp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Qp(o,a)}}]),n}(yn),tjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i){return Ak(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),t0(a)}}]),n}(yn),njt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",130),Fe(ze(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i){return Ak(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),rjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",120),Fe(ze(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Yr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),ojt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",120),Fe(ze(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Yr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),ijt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Fe(ze(r),"priority",110),r}return Xt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Jr(Pr(Qr.month,o),a);case"MM":return Jr(Yr(2,o),a);case"Mo":return Jr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),sjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",110),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Jr(Pr(Qr.month,o),a);case"LL":return Jr(Yr(2,o),a);case"Lo":return Jr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn);function ajt(e,t,n){qe(2,arguments);var r=Ke(e),o=Tt(t),i=MEe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var ljt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",100),Fe(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Pr(Qr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Qp(ajt(o,s,a),a)}}]),n}(yn);function cjt(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t),o=$Ee(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var ujt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",100),Fe(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Pr(Qr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return t0(cjt(o,s))}}]),n}(yn),djt=[31,28,31,30,31,30,31,31,30,31,30,31],fjt=[31,29,31,30,31,30,31,31,30,31,30,31],hjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"subPriority",1),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Pr(Qr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=ike(s),c=o.getUTCMonth();return a?i>=1&&i<=fjt[c]:i>=1&&i<=djt[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(yn),pjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"subpriority",1),Fe(ze(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Pr(Qr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=ike(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(yn);function x9(e,t,n){var r,o,i,s,a,c,u,d;qe(2,arguments);var f=hd(),p=Tt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ke(e),v=Tt(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,b=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+b),m}var mjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=x9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(yn),gjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Jr(Yr(i.length,o),c);case"eo":return Jr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=x9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(yn),vjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Jr(Yr(i.length,o),c);case"co":return Jr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=x9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(yn);function yjt(e,t){qe(2,arguments);var n=Tt(t);n%7===0&&(n=n-7);var r=1,o=Ke(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var bjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",90),Fe(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Yr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Jr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Jr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Jr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Jr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=yjt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(yn),xjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",80),Fe(ze(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(b9(s),0,0,0),o}}]),n}(yn),wjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",80),Fe(ze(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(b9(s),0,0,0),o}}]),n}(yn),Cjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",80),Fe(ze(r),"incompatibleTokens",["a","b","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(b9(s),0,0,0),o}}]),n}(yn),_jt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Pr(Qr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(yn),Sjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Pr(Qr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(yn),Ejt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Pr(Qr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(yn),kjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",70),Fe(ze(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Pr(Qr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(yn),jjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",60),Fe(ze(r),"incompatibleTokens",["t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Pr(Qr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(yn),Tjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",50),Fe(ze(r),"incompatibleTokens",["t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Pr(Qr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Yr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(yn),Ajt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",30),Fe(ze(r),"incompatibleTokens",["t","T"]),r}return Xt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Jr(Yr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(yn),Djt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",10),Fe(ze(r),"incompatibleTokens",["t","T","x"]),r}return Xt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return bc(yc.basicOptionalMinutes,o);case"XX":return bc(yc.basic,o);case"XXXX":return bc(yc.basicOptionalSeconds,o);case"XXXXX":return bc(yc.extendedOptionalSeconds,o);case"XXX":default:return bc(yc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(yn),Ijt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",10),Fe(ze(r),"incompatibleTokens",["t","T","X"]),r}return Xt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return bc(yc.basicOptionalMinutes,o);case"xx":return bc(yc.basic,o);case"xxxx":return bc(yc.basicOptionalSeconds,o);case"xxxxx":return bc(yc.extendedOptionalSeconds,o);case"xxx":default:return bc(yc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(yn),Pjt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",40),Fe(ze(r),"incompatibleTokens","*"),r}return Xt(n,[{key:"parse",value:function(o){return rke(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(yn),Ojt=function(e){un(n,e);var t=dn(n);function n(){var r;Zt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(ze(r),"priority",20),Fe(ze(r),"incompatibleTokens","*"),r}return Xt(n,[{key:"parse",value:function(o){return rke(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(yn),Rjt={G:new Q5t,y:new J5t,Y:new ejt,R:new tjt,u:new njt,Q:new rjt,q:new ojt,M:new ijt,L:new sjt,w:new ljt,I:new ujt,d:new hjt,D:new pjt,E:new mjt,e:new gjt,c:new vjt,i:new bjt,a:new xjt,b:new wjt,B:new Cjt,h:new _jt,H:new Sjt,K:new Ejt,k:new kjt,m:new jjt,s:new Tjt,S:new Ajt,X:new Djt,x:new Ijt,t:new Pjt,T:new Ojt},$jt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mjt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fjt=/^'([^]*?)'?$/,Ljt=/''/g,Bjt=/\S/,Njt=/[a-zA-Z]/;function zjt(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_;qe(3,arguments);var S=String(e),E=String(t),j=hd(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:NEe;if(!k.match)throw new RangeError("locale must contain match property");var T=Tt((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Tt((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Ke(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new X5t],P=E.match(Mjt).map(function(se){var re=se[0];if(re in K$){var K=K$[re];return K(se,k.formatLong)}return se}).join("").match($jt),$=[],R=kZ(P),z;try{var B=function(){var re=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&BEe(re)&&Sk(re,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&LEe(re)&&Sk(re,E,e);var K=re[0],Q=Rjt[K];if(Q){var le=Q.incompatibleTokens;if(Array.isArray(le)){var me=$.find(function(Ce){return le.includes(Ce.token)||Ce.token===K});if(me)throw new RangeError("The format string mustn't contain `".concat(me.fullToken,"` and `").concat(re,"` at the same time"))}else if(Q.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));$.push({token:K,fullToken:re});var ae=Q.run(S,re,k.match,D);if(!ae)return{v:new Date(NaN)};I.push(ae.setter),S=ae.rest}else{if(K.match(Njt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(re==="''"?re="'":K==="'"&&(re=Vjt(re)),S.indexOf(re)===0)S=S.slice(re.length);else return{v:new Date(NaN)}}};for(R.s();!(z=R.n()).done;){var H=B();if($l(H)==="object")return H.v}}catch(se){R.e(se)}finally{R.f()}if(S.length>0&&Bjt.test(S))return new Date(NaN);var W=I.map(function(se){return se.priority}).sort(function(se,re){return re-se}).filter(function(se,re,K){return K.indexOf(se)===re}).map(function(se){return I.filter(function(re){return re.priority===se}).sort(function(re,K){return K.subPriority-re.subPriority})}).map(function(se){return se[0]}),V=Ke(n);if(isNaN(V.getTime()))return new Date(NaN);var G=OEe(V,_k(V)),te={},N=kZ(W),Y;try{for(N.s();!(Y=N.n()).done;){var q=Y.value;if(!q.validate(G,D))return new Date(NaN);var Z=q.set(G,te,D);Array.isArray(Z)?(G=Z[0],N5t(te,Z[1])):G=Z}}catch(se){N.e(se)}finally{N.f()}return G}function Vjt(e){return e.match(Fjt)[1].replace(Ljt,"'")}function ske(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Hjt(e,t){qe(2,arguments);var n=Tt(t);return Ki(e,-n)}function Ujt(e,t){var n;qe(1,arguments);var r=Tt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Gjt(e),i;if(o.date){var s=Kjt(o.date,r);i=Zjt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=Xjt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=Qjt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var w_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wjt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Yjt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qjt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gjt(e){var t={},n=e.split(w_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],w_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(w_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=w_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function Kjt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Zjt(e,t){if(t===null)return new Date(NaN);var n=e.match(Wjt);if(!n)return new Date(NaN);var r=!!n[4],o=q1(n[1]),i=q1(n[2])-1,s=q1(n[3]),a=q1(n[4]),c=q1(n[5])-1;if(r)return rTt(t,a,c)?Jjt(t,a,c):new Date(NaN);var u=new Date(0);return!tTt(t,i,s)||!nTt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function q1(e){return e?parseInt(e):1}function Xjt(e){var t=e.match(Yjt);if(!t)return NaN;var n=AP(t[1]),r=AP(t[2]),o=AP(t[3]);return oTt(n,r,o)?n*AT+r*TT+o*1e3:NaN}function AP(e){return e&&parseFloat(e.replace(",","."))||0}function Qjt(e){if(e==="Z")return 0;var t=e.match(qjt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return iTt(r,o)?n*(r*AT+o*TT):NaN}function Jjt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var eTt=[31,null,31,30,31,30,31,31,30,31,30,31];function ake(e){return e%400===0||e%4===0&&e%100!==0}function tTt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(eTt[t]||(ake(e)?29:28))}function nTt(e,t){return t>=1&&t<=(ake(e)?366:365)}function rTt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function oTt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function iTt(e,t){return t>=0&&t<=59}function lke(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=z5t(s);return n.setMonth(r,Math.min(i,a)),n}function sTt(e,t){if(qe(2,arguments),$l(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ke(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=lke(n,t.month)),t.date!=null&&n.setDate(Tt(t.date)),t.hours!=null&&n.setHours(Tt(t.hours)),t.minutes!=null&&n.setMinutes(Tt(t.minutes)),t.seconds!=null&&n.setSeconds(Tt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Tt(t.milliseconds)),n)}function aTt(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t);return n.setDate(r),n}function DP(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t);return n.setHours(r),n}function mS(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t);return n.setMinutes(r),n}function lTt(e,t){qe(2,arguments);var n=Ke(e),r=Tt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function TZ(){return Yf(Date.now())}function cTt(e,t){qe(2,arguments);var n=Tt(t);return v9(e,-n)}function AZ(e,t){if(qe(2,arguments),!t||$l(t)!=="object")return new Date(NaN);var n=t.years?Tt(t.years):0,r=t.months?Tt(t.months):0,o=t.weeks?Tt(t.weeks):0,i=t.days?Tt(t.days):0,s=t.hours?Tt(t.hours):0,a=t.minutes?Tt(t.minutes):0,c=t.seconds?Tt(t.seconds):0,u=cTt(e,r+n*12),d=Hjt(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const w9=[],C9=[],cke=new Set,Ww=new Map,Yw=new Map,uke=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,Dk=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),dke=(e,t,n)=>{if(!e.length||cke.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return Dk(c===""?t[u-1]:c,d)})}return t},fke=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?Dk(e,o):t.has(o)?Dk(e,t.get(o)):dke(o,e,r)},hke=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:dke(o,o,r)===o},Ur=(e,t,n)=>{const r=t===1?Ur.singular(e):Ur.plural(e);return n?"".concat(t," ").concat(r):r};Ur.plural=e=>fke(e,Yw,Ww,w9);Ur.singular=e=>fke(e,Ww,Yw,C9);Ur.addPluralRule=(e,t)=>{w9.push([uke(e),t])};Ur.addSingularRule=(e,t)=>{C9.push([uke(e),t])};Ur.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();Yw.set(r,n),Ww.set(n,r)};Ur.addUncountableRule=e=>{if(typeof e=="string"){cke.add(e.toLowerCase());return}Ur.addPluralRule(e,"$0"),Ur.addSingularRule(e,"$0")};Ur.isPlural=e=>hke(e,Yw,Ww,w9);Ur.isSingular=e=>hke(e,Ww,Yw,C9);const uTt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],dTt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],fTt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],hTt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of uTt)Ur.addIrregularRule(e,t);for(const[e,t]of dTt)Ur.addPluralRule(e,t);for(const[e,t]of fTt)Ur.addSingularRule(e,t);for(const e of hTt)Ur.addUncountableRule(e);var pke={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(A[P]=I[P])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,P=new Array(D);I<D;I++)P[I]=A[I];return P}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var P=0;return function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],P=D[2],$=D[3];if(!I||!P||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=P.split("x"),z=R[0],B=R[1],H=+z,W=+B,V=isFinite(H)&&isFinite(W);if(!V)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:H,height:W,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(A){var D=n({},A||{}),I=D.source;delete D.source;var P=f(I);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=P.asset._ref||P.asset._id||"",R=a($),z=Math.round(P.crop.left*R.width),B=Math.round(P.crop.top*R.height),H={left:z,top:B,width:Math.round(R.width-P.crop.right*R.width-z),height:Math.round(R.height-P.crop.bottom*R.height-B)},W=P.hotspot.height*R.height/2,V=P.hotspot.width*R.width/2,G=P.hotspot.x*R.width,te=P.hotspot.y*R.height,N={left:G-V,top:te-W,right:G+V,bottom:te+W};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,b({crop:H,hotspot:N},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,P=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,z=R.left,B=R.top,H=R.width,W=R.height,V=z!==0||B!==0||W!==A.asset.height||H!==A.asset.width;V&&$.push("rect="+z+","+B+","+H+","+W)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var G=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return G&&$.push("flip="+G),g.forEach(function(te){var N=te[0],Y=te[1];typeof A[N]<"u"?$.push(Y+"="+encodeURIComponent(A[N])):typeof A[Y]<"u"&&$.push(Y+"="+encodeURIComponent(A[Y]))}),$.length===0?P:P+"?"+$.join("&")}function b(A,D){var I,P=D.width,$=D.height;if(!(P&&$))return{width:P,height:$,rect:A.crop};var R=A.crop,z=A.hotspot,B=P/$,H=R.width/R.height;if(H>B){var W=Math.round(R.height),V=Math.round(W*B),G=Math.max(0,Math.round(R.top)),te=Math.round((z.right-z.left)/2+z.left),N=Math.max(0,Math.round(te-V/2));N<R.left?N=R.left:N+V>R.left+R.width&&(N=R.left+R.width-V),I={left:N,top:G,width:V,height:W}}else{var Y=R.width,q=Math.round(Y/B),Z=Math.max(0,Math.round(R.left)),se=Math.round((z.bottom-z.top)/2+z.top),re=Math.max(0,Math.round(se-q/2));re<R.top?re=R.top:re+q>R.top+R.height&&(re=R.top+R.height-q),I={left:Z,top:re,width:Y,height:q}}return{width:P,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),P;!(P=I()).done;){var $=P.value,R=$[0],z=$[1];if(A===R||A===z)return R}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,P=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:$})}var z=A;if(E(z)){var B=z.clientConfig,H=B.apiHost,W=B.projectId,V=B.dataset,G=H||"https://api.sanity.io";return new T(null,{baseUrl:G.replace(/^https:\/\/api\./,"https://cdn."),projectId:W,dataset:V})}return new T(null,A)}var T=function(){function A(I,P){this.options=void 0,this.options=I?n({},I.options||{},P||{}):n({},P||{})}var D=A.prototype;return D.withOptions=function(P){var $=P.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var z in P)if(P.hasOwnProperty(z)){var B=j(z);R[B]=P[z]}return new A(this,n({baseUrl:$},R))},D.image=function(P){return this.withOptions({source:P})},D.dataset=function(P){return this.withOptions({dataset:P})},D.projectId=function(P){return this.withOptions({projectId:P})},D.bg=function(P){return this.withOptions({bg:P})},D.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},D.width=function(P){return this.withOptions({width:P})},D.height=function(P){return this.withOptions({height:P})},D.focalPoint=function(P,$){return this.withOptions({focalPoint:{x:P,y:$}})},D.maxWidth=function(P){return this.withOptions({maxWidth:P})},D.minWidth=function(P){return this.withOptions({minWidth:P})},D.maxHeight=function(P){return this.withOptions({maxHeight:P})},D.minHeight=function(P){return this.withOptions({minHeight:P})},D.size=function(P,$){return this.withOptions({width:P,height:$})},D.blur=function(P){return this.withOptions({blur:P})},D.sharpen=function(P){return this.withOptions({sharpen:P})},D.rect=function(P,$,R,z){return this.withOptions({rect:{left:P,top:$,width:R,height:z}})},D.format=function(P){return this.withOptions({format:P})},D.invert=function(P){return this.withOptions({invert:P})},D.orientation=function(P){return this.withOptions({orientation:P})},D.quality=function(P){return this.withOptions({quality:P})},D.forceDownload=function(P){return this.withOptions({download:P})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(P){if(w.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},D.crop=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},D.saturation=function(P){return this.withOptions({saturation:P})},D.auto=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},D.pad=function(P){return this.withOptions({pad:P})},D.url=function(){return y(this.options)},D.toString=function(){return this.url()},A}();return k})})(pke);var pTt=pke.exports;const IT=Pe(pTt);function mTt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gx(e,t)}function J$(e){return J$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J$(e)}function gx(e,t){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},gx(e,t)}function gTt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gS(e,t,n){return gTt()?gS=Reflect.construct.bind():gS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&gx(u,s.prototype),u},gS.apply(null,arguments)}function vTt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function eM(e){var t=typeof Map=="function"?new Map:void 0;return eM=function(r){if(r===null||!vTt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return gS(r,arguments,J$(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),gx(o,r)},eM(e)}var C_=Object.freeze({left:0,top:0,bottom:0,right:0}),__=Object.freeze({x:.5,y:.5,height:1,width:1}),yTt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=C_.top,a=C_.bottom,c=C_.left,u=C_.right;return n===s&&r===a&&o===c&&i===u},bTt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=__.x,a=__.y,c=__.width,u=__.height;return n===s&&r===a&&o===c&&i===u},_9=function(e){mTt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(eM(Error));function xTt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function wTt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(xTt(t))return;throw t}}}var qd="https://cdn.sanity.io",CTt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,_Tt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,mke=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,gke=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function STt(e){return qw(e)&&typeof e._ref=="string"}function ETt(e){return qw(e)&&typeof e._id=="string"}function kTt(e){return qw(e)&&typeof e.path=="string"}function jTt(e){return qw(e)&&typeof e.url=="string"}function TTt(e){var t=e;return qw(t)&&t.asset&&typeof t.asset=="object"}function qw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function ATt(e){if(mke.test(e))return e;if(!e.startsWith(qd+"/"))throw new _9('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(qd.length+1,n)}var DTt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function ITt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+DTt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function PTt(e){var t=vke(e),n=ITt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function vke(e){var t=TTt(e)?e.asset:e,n="";typeof t=="string"?n=OTt(t):STt(t)?n=t._ref:ETt(t)?n=t._id:kTt(t)?n=Kg(qd+"/"+t.path):jTt(t)&&(n=Kg(t.url));var r=n&&gke.test(n);if(!r)throw new _9(e);return n}var yke=wTt(vke);function OTt(e){if(gke.test(e))return e;if(e.indexOf(qd+"/images")===0||e.indexOf(qd+"/files")===0)return Kg(e);if(mke.test(e))return Kg(qd+"/"+e);if($Tt(e))return Kg(qd+"/files/a/b/"+e);if(RTt(e))return Kg(qd+"/images/a/b/"+e);throw new _9(e)}function Kg(e){var t=ATt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function RTt(e){return _Tt.test(e)}function $Tt(e){return CTt.test(e)}function DZ(e){var t=yke(e);return t?t.startsWith("file-"):!1}function bb(e){var t=yke(e);return t?t.startsWith("image-"):!1}function MTt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var FTt=MTt;const PT=Pe(FTt);var LTt=gT,BTt=a9,NTt=BTt(function(e,t,n){LTt(e,n,t)}),zTt=NTt;const S9=Pe(zTt);var VTt=Vc;function HTt(e){return VTt(e).toLowerCase()}var UTt=HTt;const yv=Pe(UTt);var WTt=V0,YTt=U0,qTt=_T,GTt=mT,KTt=YTt(function(e){return qTt(WTt(e,1,GTt,!0))}),ZTt=KTt;const bke=Pe(ZTt);function XTt(){}var E9=XTt,QTt=J8,JTt=E9;function Ik(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ik.prototype=QTt(JTt.prototype);Ik.prototype.constructor=Ik;var k9=Ik,IZ=y_e,eAt=IZ&&new IZ,tAt=eAt,PZ=tAt,nAt=t9,rAt=PZ?function(e){return PZ.get(e)}:nAt,xke=rAt,oAt={},iAt=oAt,OZ=iAt,sAt=Object.prototype,aAt=sAt.hasOwnProperty;function lAt(e){for(var t=e.name+"",n=OZ[t],r=aAt.call(OZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var wke=lAt,cAt=J8,uAt=E9,dAt=4294967295;function Pk(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dAt,this.__views__=[]}Pk.prototype=cAt(uAt.prototype);Pk.prototype.constructor=Pk;var j9=Pk,fAt=j9,hAt=k9,pAt=Z8;function mAt(e){if(e instanceof fAt)return e.clone();var t=new hAt(e.__wrapped__,e.__chain__);return t.__actions__=pAt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var gAt=mAt,vAt=j9,RZ=k9,yAt=E9,bAt=to,xAt=Qa,wAt=gAt,CAt=Object.prototype,_At=CAt.hasOwnProperty;function Ok(e){if(xAt(e)&&!bAt(e)&&!(e instanceof vAt)){if(e instanceof RZ)return e;if(_At.call(e,"__wrapped__"))return wAt(e)}return new RZ(e)}Ok.prototype=yAt.prototype;Ok.prototype.constructor=Ok;var SAt=Ok,EAt=j9,kAt=xke,jAt=wke,TAt=SAt;function AAt(e){var t=jAt(e),n=TAt[t];if(typeof n!="function"||!(t in EAt.prototype))return!1;if(e===n)return!0;var r=kAt(n);return!!r&&e===r[0]}var DAt=AAt,$Z=k9,IAt=j8,PAt=xke,IP=wke,OAt=to,MZ=DAt,RAt="Expected a function",$At=8,MAt=32,FAt=128,LAt=256;function BAt(e){return IAt(function(t){var n=t.length,r=n,o=$Z.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(RAt);if(o&&!s&&IP(i)=="wrapper")var s=new $Z([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=IP(i),c=a=="wrapper"?PAt(i):void 0;c&&MZ(c[0])&&c[1]==(FAt|$At|MAt|LAt)&&!c[4].length&&c[9]==1?s=s[IP(c[0])].apply(s,c[3]):s=i.length==1&&MZ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&OAt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var NAt=BAt,zAt=NAt,VAt=zAt(),HAt=VAt;const UAt=Pe(HAt);var WAt=C8;function YAt(e,t){for(var n=e.length;n--&&WAt(t,e[n],0)>-1;);return n}var qAt=YAt,GAt=C8;function KAt(e,t){for(var n=-1,r=e.length;++n<r&&GAt(t,e[n],0)>-1;);return n}var ZAt=KAt,XAt=O_e,QAt=Zve,JAt=YSe,eDt=qAt,tDt=ZAt,FZ=eEe,nDt=Vc;function rDt(e,t,n){if(e=nDt(e),e&&(n||t===void 0))return QAt(e);if(!e||!(t=XAt(t)))return e;var r=FZ(e),o=FZ(t),i=tDt(r,o),s=eDt(r,o)+1;return JAt(r,i,s).join("")}var oDt=rDt;const iDt=Pe(oDt);var S_,sDt=new Uint8Array(16);function aDt(){if(!S_&&(S_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!S_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S_(sDt)}const lDt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cDt(e){return typeof e=="string"&&lDt.test(e)}var Zo=[];for(var PP=0;PP<256;++PP)Zo.push((PP+256).toString(16).substr(1));function uDt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Zo[e[t+0]]+Zo[e[t+1]]+Zo[e[t+2]]+Zo[e[t+3]]+"-"+Zo[e[t+4]]+Zo[e[t+5]]+"-"+Zo[e[t+6]]+Zo[e[t+7]]+"-"+Zo[e[t+8]]+Zo[e[t+9]]+"-"+Zo[e[t+10]]+Zo[e[t+11]]+Zo[e[t+12]]+Zo[e[t+13]]+Zo[e[t+14]]+Zo[e[t+15]]).toLowerCase();if(!cDt(n))throw TypeError("Stringified UUID is invalid");return n}function md(e,t,n){e=e||{};var r=e.random||(e.rng||aDt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return uDt(r)}function T9(e){return window.crypto.getRandomValues(e)}var Cke=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function dDt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Cke(e,t)&&!A9(e[t]))return!1;return!0}function fDt(e){for(let t=0;t<e.length;t++)if(!A9(e[t]))return!1;return!0}function A9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?fDt(e):t==="object"?dDt(e):!1}function hDt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Cke(e,t)&&e[t]!==void 0)return!1;return!0}const pDt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function mDt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return T9(t),t}function Gw(e){const t=pDt();return mDt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const gDt=Object.prototype.toString;function vDt(e){switch(gDt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Ds(e){const t=vDt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var yDt=wDt,_ke="֑-߿יִ-﷽ﹰ-ﻼ",Ske="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",bDt=new RegExp("^[^"+Ske+"]*["+_ke+"]"),xDt=new RegExp("^[^"+_ke+"]*["+Ske+"]");function wDt(e){return e=String(e||""),bDt.test(e)?"rtl":xDt.test(e)?"ltr":"neutral"}const Eke=Pe(yDt),LZ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,BZ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",OP=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return BZ(n.overflowY,t)||BZ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},E_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,CDt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},NZ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!LZ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;LZ(v)&&f(v);){if(v=CDt(v),v===p){m.push(v);break}v!=null&&v===document.body&&OP(v)&&!OP(document.documentElement)||v!=null&&OP(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:b}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=(R=>{const z=window.getComputedStyle(R);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,P=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const z=m[R],{height:B,width:H,top:W,right:V,bottom:G,left:te}=z.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=y&&S<=g&&_>=W&&E<=G&&j>=te&&S<=V)return $;const N=getComputedStyle(z),Y=parseInt(N.borderLeftWidth,10),q=parseInt(N.borderTopWidth,10),Z=parseInt(N.borderRightWidth,10),se=parseInt(N.borderBottomWidth,10);let re=0,K=0;const Q="offsetWidth"in z?z.offsetWidth-z.clientWidth-Y-Z:0,le="offsetHeight"in z?z.offsetHeight-z.clientHeight-q-se:0,me="offsetWidth"in z?z.offsetWidth===0?0:H/z.offsetWidth:0,ae="offsetHeight"in z?z.offsetHeight===0?0:B/z.offsetHeight:0;if(p===z)re=a==="start"?I:a==="end"?I-y:a==="nearest"?E_(b,b+y,y,q,se,b+I,b+I+w,w):I-y/2,K=c==="start"?P:c==="center"?P-g/2:c==="end"?P-g:E_(x,x+g,g,Y,Z,x+P,x+P+C,C),re=Math.max(0,re+b),K=Math.max(0,K+x);else{re=a==="start"?I-W-q:a==="end"?I-G+se+le:a==="nearest"?E_(W,G,B,q,se+le,I,I+w,w):I-(W+B/2)+le/2,K=c==="start"?P-te-Y:c==="center"?P-(te+H/2)+Q/2:c==="end"?P-V+Z+Q:E_(te,V,H,Y,Z+Q,P,P+C,C);const{scrollLeft:Ce,scrollTop:_e}=z;re=ae===0?0:Math.max(0,Math.min(_e+re/ae,z.scrollHeight-B/ae+le)),K=me===0?0:Math.max(0,Math.min(Ce+K/me,z.scrollWidth-H/me+Q)),I+=_e-re,P+=Ce-K}$.push({el:z,top:re,left:K})}return $},_Dt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function r0(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(NZ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of NZ(e,_Dt(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}var kke=Symbol.for("immer-nothing"),zZ=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function yl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var o0=Object.getPrototypeOf;function Jp(e){return!!e&&!!e[la]}function em(e){var t;return e?jke(e)||Array.isArray(e)||!!e[zZ]||!!((t=e.constructor)!=null&&t[zZ])||RT(e)||$T(e):!1}var SDt=Object.prototype.constructor.toString();function jke(e){if(!e||typeof e!="object")return!1;const t=o0(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SDt}function vx(e,t){OT(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function OT(e){const t=e[la];return t?t.type_:Array.isArray(e)?1:RT(e)?2:$T(e)?3:0}function tM(e,t){return OT(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tke(e,t,n){const r=OT(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function EDt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function RT(e){return e instanceof Map}function $T(e){return e instanceof Set}function Zh(e){return e.copy_||e.base_}function nM(e,t){if(RT(e))return new Map(e);if($T(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&jke(e))return o0(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[la];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(o0(e),n)}function D9(e,t=!1){return MT(e)||Jp(e)||!em(e)||(OT(e)>1&&(e.set=e.add=e.clear=e.delete=kDt),Object.freeze(e),t&&vx(e,(n,r)=>D9(r,!0))),e}function kDt(){yl(2)}function MT(e){return Object.isFrozen(e)}var jDt={};function tm(e){const t=jDt[e];return t||yl(0,e),t}var yx;function Ake(){return yx}function TDt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VZ(e,t){t&&(tm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rM(e){oM(e),e.drafts_.forEach(ADt),e.drafts_=null}function oM(e){e===yx&&(yx=e.parent_)}function HZ(e){return yx=TDt(yx,e)}function ADt(e){const t=e[la];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UZ(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[la].modified_&&(rM(t),yl(4)),em(e)&&(e=Rk(t,e),t.parent_||$k(t,e)),t.patches_&&tm("Patches").generateReplacementPatches_(n[la].base_,e,t.patches_,t.inversePatches_)):e=Rk(t,n,[]),rM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kke?e:void 0}function Rk(e,t,n){if(MT(t))return t;const r=t[la];if(!r)return vx(t,(o,i)=>WZ(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return $k(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),vx(i,(a,c)=>WZ(e,r,o,a,c,n,s)),$k(e,o,!1),n&&e.patches_&&tm("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function WZ(e,t,n,r,o,i,s){if(Jp(o)){const a=i&&t&&t.type_!==3&&!tM(t.assigned_,r)?i.concat(r):void 0,c=Rk(e,o,a);if(Tke(n,r,c),Jp(c))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(em(o)&&!MT(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Rk(e,o),(!t||!t.scope_.parent_)&&$k(e,o)}}function $k(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&D9(t,n)}function DDt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ake(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=I9;n&&(o=[r],i=bx);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var I9={get(e,t){if(t===la)return e;const n=Zh(e);if(!tM(n,t))return IDt(e,n,t);const r=n[t];return e.finalized_||!em(r)?r:r===RP(e.base_,t)?($P(e),e.copy_[t]=sM(r,e)):r},has(e,t){return t in Zh(e)},ownKeys(e){return Reflect.ownKeys(Zh(e))},set(e,t,n){const r=Dke(Zh(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=RP(Zh(e),t),i=o==null?void 0:o[la];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(EDt(n,o)&&(n!==void 0||tM(e.base_,t)))return!0;$P(e),iM(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return RP(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$P(e),iM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){yl(11)},getPrototypeOf(e){return o0(e.base_)},setPrototypeOf(){yl(12)}},bx={};vx(I9,(e,t)=>{bx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bx.deleteProperty=function(e,t){return bx.set.call(this,e,t,void 0)};bx.set=function(e,t,n){return I9.set.call(this,e[0],t,n,e[0])};function RP(e,t){const n=e[la];return(n?Zh(n):e)[t]}function IDt(e,t,n){var o;const r=Dke(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Dke(e,t){if(!(t in e))return;let n=o0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=o0(n)}}function iM(e){e.modified_||(e.modified_=!0,e.parent_&&iM(e.parent_))}function $P(e){e.copy_||(e.copy_=nM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PDt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(c=i,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&yl(6),r!==void 0&&typeof r!="function"&&yl(7);let o;if(em(t)){const i=HZ(this),s=sM(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?rM(i):oM(i)}return VZ(i,r),UZ(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===kke&&(o=void 0),this.autoFreeze_&&D9(o,!0),r){const i=[],s=[];tm("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else yl(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){em(e)||yl(8),Jp(e)&&(e=ODt(e));const t=HZ(this),n=sM(e,void 0);return n[la].isManual_=!0,oM(t),n}finishDraft(e,t){const n=e&&e[la];(!n||!n.isManual_)&&yl(9);const{scope_:r}=n;return VZ(r,t),UZ(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=tm("Patches").applyPatches_;return Jp(e)?r(e,t):this.produce(e,o=>r(o,t))}};function sM(e,t){const n=RT(e)?tm("MapSet").proxyMap_(e,t):$T(e)?tm("MapSet").proxySet_(e,t):DDt(e,t);return(t?t.scope_:Ake()).drafts_.push(n),n}function ODt(e){return Jp(e)||yl(10,e),Ike(e)}function Ike(e){if(!em(e)||MT(e))return e;const t=e[la];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=nM(e,t.scope_.immer_.useStrictShallowCopy_)}else n=nM(e,!0);return vx(n,(r,o)=>{Tke(n,r,Ike(o))}),t&&(t.finalized_=!1),n}var ca=new PDt,P9=ca.produce;ca.produceWithPatches.bind(ca);ca.setAutoFreeze.bind(ca);ca.setUseStrictShallowCopy.bind(ca);ca.applyPatches.bind(ca);var YZ=ca.createDraft.bind(ca),qZ=ca.finishDraft.bind(ca),RDt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=J.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},$Dt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},MDt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},Mk=new WeakMap,Fk=new WeakMap,xb=new WeakMap,Pke=new WeakMap,GZ=new WeakMap,KZ=new WeakMap,ZZ=new WeakMap,J={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=J.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return J.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return J.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&J.compare(e,t)===0},isBefore(e,t){return J.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&J.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&J.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&J.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&J.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&J.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!J.isAncestor(t,e)&&!J.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(J.equals(i,r)||J.endsBefore(i,r)||J.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(J.equals(s,r)||J.isAncestor(s,r))return null;J.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;J.equals(a,r)||J.endsBefore(a,r)?r[a.length-1]-=1:J.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(J.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else J.endsBefore(u,r)?r[u.length-1]+=1:J.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(J.equals(f,p))return r;if(J.isAncestor(f,r)||J.equals(f,r)){var m=p.slice();return J.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else J.isSibling(f,p)&&(J.isAncestor(p,r)||J.equals(p,r))?J.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:J.endsBefore(p,r)||J.equals(p,r)||J.isAncestor(p,r)?(J.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):J.endsBefore(f,r)&&(J.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function FDt(e,t){if(xx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LDt(e){var t=FDt(e,"string");return xx(t)==="symbol"?t:String(t)}function as(e,t,n){return t=LDt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function G1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XZ(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BDt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Se.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of ue.points(t))t[c]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Se.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,y]of ue.points(t))t[y]=It.transform(g,n);break}case"merge_node":{var{path:x}=n,b=Se.get(e,x),w=J.previous(x),C=Se.get(e,w),_=Se.parent(e,x),S=x[x.length-1];if(xe.isText(b)&&xe.isText(C))C.text+=b.text;else if(!xe.isText(b)&&!xe.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(zo.stringify(b)," ").concat(zo.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=It.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(J.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Se.get(e,k),D=Se.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var P=J.transform(k,n),$=Se.get(e,J.parent(P)),R=P[P.length-1];if($.children.splice(R,0,A),t)for(var[z,B]of ue.points(t))t[B]=It.transform(z,n);break}case"remove_node":{var{path:H}=n,W=H[H.length-1],V=Se.parent(e,H);if(V.children.splice(W,1),t)for(var[G,te]of ue.points(t)){var N=It.transform(G,n);if(t!=null&&N!=null)t[te]=N;else{var Y=void 0,q=void 0;for(var[Z,se]of Se.texts(e))if(J.compare(se,H)===-1)Y=[Z,se];else{q=[Z,se];break}var re=!1;Y&&q&&(J.equals(q[1],H)?re=!J.hasPrevious(q[1]):re=J.common(Y[1],H).length<J.common(q[1],H).length),Y&&!re?(G.path=Y[1],G.offset=Y[0].text.length):q?(G.path=q[1],G.offset=0):t=null}}break}case"remove_text":{var{path:K,offset:Q,text:le}=n;if(le.length===0)break;var me=Se.leaf(e,K),ae=me.text.slice(0,Q),Ce=me.text.slice(Q+le.length);if(me.text=ae+Ce,t)for(var[_e,he]of ue.points(t))t[he]=It.transform(_e,n);break}case"set_node":{var{path:be,properties:Le,newProperties:Re}=n;if(be.length===0)throw new Error("Cannot set properties on the root node!");var lt=Se.get(e,be);for(var ot in Re){if(ot==="children"||ot==="text")throw new Error('Cannot set the "'.concat(ot,'" property of nodes!'));var Bt=Re[ot];Bt==null?delete lt[ot]:lt[ot]=Bt}for(var Rt in Le)Re.hasOwnProperty(Rt)||delete lt[Rt];break}case"set_selection":{var{newProperties:Ae}=n;if(Ae==null)t=Ae;else{if(t==null){if(!ue.isRange(Ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(zo.stringify(Ae)," when there is no current selection."));t=G1({},Ae)}for(var Ge in Ae){var Ye=Ae[Ge];if(Ye==null){if(Ge==="anchor"||Ge==="focus")throw new Error('Cannot remove the "'.concat(Ge,'" selection property'));delete t[Ge]}else t[Ge]=Ye}}break}case"split_node":{var{path:tt,position:xt,properties:Ee}=n;if(tt.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(tt,"] because the root node cannot be split."));var Be=Se.get(e,tt),ct=Se.parent(e,tt),pi=tt[tt.length-1],on;if(xe.isText(Be)){var Ko=Be.text.slice(0,xt),qt=Be.text.slice(xt);Be.text=Ko,on=G1(G1({},Ee),{},{text:qt})}else{var no=Be.children.slice(0,xt),al=Be.children.slice(xt);Be.children=no,on=G1(G1({},Ee),{},{children:al})}if(ct.children.splice(pi+1,0,on),t)for(var[ll,$s]of ue.points(t))t[$s]=It.transform(ll,n);break}}return t},NDt={transform(e,t){e.children=YZ(e.children);var n=e.selection&&YZ(e.selection);try{n=BDt(e,n,t)}finally{e.children=qZ(e.children),n?e.selection=Jp(n)?qZ(n):n:e.selection=null}}},zDt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},VDt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Oke=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(ei(r)&&ei(o)){if(!Oke(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function HDt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Zu(e,t){if(e==null)return{};var n=HDt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var UDt=["anchor","focus"];function QZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function WDt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QZ(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=ue.edges(e),c=!1,u=!1;return It.isPoint(t)?(c=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(c=J.compare(t,s.path)>=0,u=J.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=Zu(e,UDt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=It.isBefore(r,i)?i:r,c=It.isBefore(o,s)?o:s;return It.isBefore(c,a)?null:WDt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return ei(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},JZ=e=>ei(e)&&Se.isNodeList(e.children)&&!F.isEditor(e),Ie={isAncestor(e){return ei(e)&&Se.isNodeList(e.children)},isElement:JZ,isElementList(e){return Array.isArray(e)&&e.every(t=>Ie.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return JZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},YDt=["children"],qDt=["text"],eX=new WeakMap,Se={ancestor(e,t){var n=Se.get(e,t);if(xe.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(zo.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of J.ancestors(t,n)){var o=Se.ancestor(e,r),i=[o,r];yield i}}()},child(e,t){if(xe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(zo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(zo.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=Se.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Se.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}}()},common(e,t,n){var r=J.common(t,n),o=Se.get(e,r);return[o,r]},descendant(e,t){var n=Se.get(e,t);if(F.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(zo.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Se.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Se.nodes(e,t))Ie.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Ie.isAncestor(e)){var t=Zu(e,YDt);return t}else{var t=Zu(e,qDt);return t}},first(e,t){for(var n=t.slice(),r=Se.get(e,n);r&&!(xe.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(xe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(zo.stringify(e)));var n=P9({children:e.children},r=>{var[o,i]=ue.edges(t),s=Se.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var c=Se.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(J.equals(a,i.path)){var d=Se.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(J.equals(a,o.path)){var f=Se.leaf(r,a);f.text=f.text.slice(o.offset)}}F.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(xe.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(zo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(xe.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return xe.isText(e)||Ie.isElement(e)||F.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=eX.get(e);if(t!==void 0)return t;var n=e.every(r=>Se.isNode(r));return eX.set(e,n),n},last(e,t){for(var n=t.slice(),r=Se.get(e,n);r&&!(xe.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Se.get(e,t);if(!xe.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(zo.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of J.levels(t,n)){var o=Se.get(e,r);yield[o,r]}}()},matches(e,t){return Ie.isElement(e)&&Ie.isElementProps(t)&&Ie.matches(e,t)||xe.isText(e)&&xe.isTextProps(t)&&xe.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?J.isBefore(a,i):J.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!xe.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;J.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=Se.get(e,a);continue}if(a.length===0)break;if(!r){var d=J.next(a);if(Se.has(e,d)){a=d,c=Se.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=J.previous(a);a=f,c=Se.get(e,a);continue}a=J.parent(a),c=Se.get(e,a),s.add(c)}}()},parent(e,t){var n=J.parent(t),r=Se.get(e,n);if(xe.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return xe.isText(e)?e.text:e.children.map(Se.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Se.nodes(e,t))xe.isText(n)&&(yield[n,r])}()}};function tX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Zg={isNodeOperation(e){return Zg.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!ei(e))return!1;switch(e.type){case"insert_node":return J.isPath(e.path)&&Se.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"merge_node":return typeof e.position=="number"&&J.isPath(e.path)&&ei(e.properties);case"move_node":return J.isPath(e.path)&&J.isPath(e.newPath);case"remove_node":return J.isPath(e.path)&&Se.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"set_node":return J.isPath(e.path)&&ei(e.properties)&&ei(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||ei(e.properties)&&ei(e.newProperties);case"split_node":return J.isPath(e.path)&&typeof e.position=="number"&&ei(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Zg.isOperation(t))},isSelectionOperation(e){return Zg.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Zg.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return gr(gr({},e),{},{type:"remove_node"});case"insert_text":return gr(gr({},e),{},{type:"remove_text"});case"merge_node":return gr(gr({},e),{},{type:"split_node",path:J.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(J.equals(t,n))return e;if(J.isSibling(n,t))return gr(gr({},e),{},{path:t,newPath:n});var r=J.transform(n,e),o=J.transform(J.next(n),e);return gr(gr({},e),{},{path:r,newPath:o})}case"remove_node":return gr(gr({},e),{},{type:"insert_node"});case"remove_text":return gr(gr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return gr(gr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?gr(gr({},e),{},{properties:c,newProperties:null}):c==null?gr(gr({},e),{},{properties:null,newProperties:a}):gr(gr({},e),{},{properties:c,newProperties:a})}case"split_node":return gr(gr({},e),{},{type:"merge_node",path:J.next(e.path)})}}},nX=new WeakMap,GDt=e=>{var t=nX.get(e);if(t!==void 0)return t;if(!ei(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||ei(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&Se.isNodeList(e.children)&&Zg.isOperationList(e.operations);return nX.set(e,n),n},F={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return GDt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},KDt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(J.isPath)}};function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=J.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&J.equals(e.path,t.path)},isPoint(e){return ei(e)&&typeof e.offset=="number"&&J.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=J.transform(i,t,n);break}case"insert_text":{J.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{J.equals(t.path,i)&&(r.offset+=t.position),r.path=J.transform(i,t,n);break}case"remove_text":{J.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(J.equals(t.path,i)||J.isAncestor(t.path,i))return null;r.path=J.transform(i,t,n);break}case"split_node":{if(J.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=J.transform(i,t,oX(oX({},n),{},{affinity:"forward"})))}else r.path=J.transform(i,t,n);break}}})}},iX=void 0,zo={setScrubber(e){iX=e},stringify(e){return JSON.stringify(e,iX)}},ZDt=["text"],XDt=["anchor","focus"];function sX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xe={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=Zu(i,ZDt);return s}return Oke(r?o(e):e,r?o(t):t)},isText(e){return ei(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>xe.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[tu({},e)];for(var r of t){var o=Zu(r,XDt),[i,s]=ue.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,y=void 0;if(d<c){var x=d-m;y=tu(tu({},v),{},{text:v.text.slice(x)}),v=tu(tu({},v),{},{text:v.text.slice(0,x)})}if(u>m){var b=u-m;g=tu(tu({},v),{},{text:v.text.slice(0,b)}),v=tu(tu({},v),{},{text:v.text.slice(b)})}Object.assign(v,o),g&&a.push(g),a.push(v),y&&a.push(y)}n=a}return n}},O9=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],q0=(e,t)=>{var[n]=F.node(e,t);return r=>r===n},R9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?rIt(t):t,i=vt.None,s=vt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=mIt(d,f);if([i,s]=r?[s,p]:[p,i],Xg(i,vt.ZWJ)&&Xg(s,vt.ExtPict)&&(r?c=aX(t.substring(0,a)):c=aX(t.substring(0,t.length-a)),!c)||Xg(i,vt.RI)&&Xg(s,vt.RI)&&(u!==null?u=!u:r?u=!0:u=xIt(t.substring(0,t.length-a)),!u)||i!==vt.None&&s!==vt.None&&vIt(i,s))break;a+=d.length}return a||1},QDt=/\s/,JDt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,eIt=/['\u2018\u2019]/,tIt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=R9(t,n),[s,a]=$9(t,i,n);if(nIt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},$9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},nIt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(QDt.test(t))return!1;if(eIt.test(t)){var o=R9(n,r),[i,s]=$9(n,o,r);if(e(i,s,r))return!0}return!JDt.test(t)},rIt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(iIt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(oIt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},oIt=e=>e>=55296&&e<=56319,iIt=e=>e>=56320&&e<=57343,vt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(vt||(vt={}));var sIt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,aIt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,lIt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,cIt=/^[\u1100-\u115F\uA960-\uA97C]$/,uIt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,dIt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,fIt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,hIt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,pIt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,mIt=(e,t)=>{var n=vt.Any;return e.search(sIt)!==-1&&(n|=vt.Extend),t===8205&&(n|=vt.ZWJ),t>=127462&&t<=127487&&(n|=vt.RI),e.search(aIt)!==-1&&(n|=vt.Prepend),e.search(lIt)!==-1&&(n|=vt.SpacingMark),e.search(cIt)!==-1&&(n|=vt.L),e.search(uIt)!==-1&&(n|=vt.V),e.search(dIt)!==-1&&(n|=vt.T),e.search(fIt)!==-1&&(n|=vt.LV),e.search(hIt)!==-1&&(n|=vt.LVT),e.search(pIt)!==-1&&(n|=vt.ExtPict),n};function Xg(e,t){return(e&t)!==0}var gIt=[[vt.L,vt.L|vt.V|vt.LV|vt.LVT],[vt.LV|vt.V,vt.V|vt.T],[vt.LVT|vt.T,vt.T],[vt.Any,vt.Extend|vt.ZWJ],[vt.Any,vt.SpacingMark],[vt.Prepend,vt.Any],[vt.ZWJ,vt.ExtPict],[vt.RI,vt.RI]];function vIt(e,t){return gIt.findIndex(n=>Xg(e,n[0])&&Xg(t,n[1]))===-1}var yIt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,aX=e=>e.search(yIt)!==-1,bIt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,xIt=e=>{var t=e.match(bIt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},wIt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=O9(e)}=n;if(J.isPath(o)&&(o=F.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&F.void(e,{at:i}))return;var s=ue.start(o),a=F.pointRef(e,s),c=F.pointRef(e,i);ie.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,ie.setSelection(e,{anchor:o,focus:o})}if(!(!r&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function lX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function k_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ie=k_(k_(k_(k_({},NDt),zDt),VDt),wIt),CIt=(e,t)=>{for(var n of F.pathRefs(e))RDt.transform(n,t);for(var r of F.pointRefs(e))$Dt.transform(r,t);for(var o of F.rangeRefs(e))MDt.transform(o,t);var i=Mk.get(e)||[],s=Fk.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(J.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=J.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);Mk.set(e,a),Fk.set(e,c),ie.transform(e,t),e.operations.push(t),F.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),xb.get(e)||(xb.set(e,!0),Promise.resolve().then(()=>{xb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},_It=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return J.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=J.levels(o),s=xe.isText(r)?[]:Array.from(Se.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=J.ancestors(a),u=J.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(J.equals(d,f))return[];var p=[],m=[];for(var v of J.ancestors(d)){var g=J.transform(v,t);p.push(g)}for(var y of J.ancestors(f)){var x=J.transform(y,t);m.push(x)}var b=m[m.length-1],w=f[f.length-1],C=b.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=J.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=J.levels(E),k=J.next(E);return[...j,k]}default:return[]}},SIt=e=>{var{selection:t}=e;return t?Se.fragment(e,t):[]},EIt=(e,t)=>{var[n,r]=t;if(!xe.isText(n)){if(Ie.isElement(n)&&n.children.length===0){var o={text:""};ie.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=F.isEditor(n)?!1:Ie.isElement(n)&&(e.isInline(n)||n.children.length===0||xe.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=Se.get(e,r);if(!xe.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=xe.isText(u)||Ie.isElement(u)&&e.isInline(u);if(p!==i)ie.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Ie.isElement(u)){if(e.isInline(u)){if(d==null||!xe.isText(d)){var m={text:""};ie.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};ie.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&xe.isText(d)&&(xe.equals(u,d,{loose:!0})?(ie.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(ie.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(ie.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},kIt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},jIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=F.path(t,i),c=o==="lowest";for(var[u,d]of F.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!xe.isText(u)){if(ue.isRange(i)){if(J.isAncestor(d,i.anchor.path)&&J.isAncestor(d,i.focus.path))return[u,d]}else if(!J.equals(a,d))return[u,d]}}};function cX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var TIt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!xe.isText(f))return!1;var[m,v]=F.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,c]=F.node(e,r);if(a&&o(a,c)){var[u]=F.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)ie.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=uX(uX({},F.marks(e)||{}),{},{[t]:n});e.marks=d,xb.get(e)||e.onChange()}}};function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var AIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(t,n,{edge:"end"}),i=F.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,fX(fX({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(t,[]),i=F.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,pX(pX({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},IIt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&ie.delete(e,{unit:t,reverse:!0})},PIt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&ie.delete(e,{unit:t})},OIt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&ie.delete(t,{reverse:n==="backward"})},RIt=(e,t)=>[F.start(e,t),F.end(e,t)];function mX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $It=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,gX(gX({},n),{},{match:r=>Ie.isElement(r)&&F.isElementReadOnly(t,r)}))},MIt=(e,t)=>F.point(e,t,{edge:"end"}),FIt=(e,t)=>{var n=F.path(e,t,{edge:"start"});return F.node(e,n)},LIt=(e,t)=>{var n=F.range(e,t);return Se.fragment(e,n)};function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,yX(yX({},n),{},{match:r=>Ie.isElement(r)&&F.isVoid(t,r)}))},NIt=(e,t)=>t.children.some(n=>Ie.isElement(n)&&F.isBlock(e,n)),zIt=(e,t)=>t.children.some(n=>xe.isText(n)||F.isInline(e,n)),VIt=(e,t)=>Se.has(e,t),HIt=(e,t)=>t.children.every(n=>xe.isText(n)),UIt=e=>{ie.splitNodes(e,{always:!0})},WIt=(e,t,n)=>{ie.insertNodes(e,t,n)},YIt=e=>{ie.splitNodes(e,{always:!0})};function bX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qIt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var GIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=qIt({text:n},i);ie.insertNodes(t,s,{at:r.at,voids:r.voids})}else ie.insertText(t,n,r);t.marks=null}},KIt=(e,t)=>!e.isInline(t),ZIt=(e,t,n)=>F.isStart(e,t,n)||F.isEnd(e,t,n),XIt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&xe.isText(r)&&r.text===""&&!e.isVoid(t)},QIt=(e,t,n)=>{var r=F.end(e,n);return It.equals(t,r)},JIt=e=>{var t=Pke.get(e);return t===void 0?!0:t},ePt=(e,t,n)=>{if(t.offset!==0)return!1;var r=F.start(e,n);return It.equals(t,r)},tPt=(e,t)=>{var n=F.path(e,t,{edge:"end"});return F.node(e,n)},nPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Se.leaf(t,o);return[i,o]};function rPt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=F.path(e,n);for(var[c,u]of Se.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Ie.isElement(c)&&F.isVoid(e,c)))break;r&&s.reverse(),yield*s}}()}var oPt=["text"],iPt=["text"],sPt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=F.nodes(t,{match:xe.isText});if(o){var[i]=o,s=Zu(i,oPt);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=F.leaf(t,c);if(a.offset===0){var d=F.previous(t,{at:c,match:xe.isText}),f=F.above(t,{match:x=>Ie.isElement(x)&&F.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=F.above(t,{match:x=>Ie.isElement(x)&&F.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;J.isAncestor(g,v)&&(u=m)}}}var y=Zu(u,iPt);return y},aPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.after(t,s,{voids:o});if(a){var[,c]=F.last(t,[]),u=[a.path,c];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(J.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},lPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Se.get(t,o);return[i,o]};function cPt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(KDt.isSpan(n))u=n[0],d=n[1];else{var f=F.path(e,n,{edge:"start"}),p=F.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Se.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Ie.isElement(_)?!!(!s&&(F.isVoid(e,_)||F.isElementReadOnly(e,_))||a&&!F.isSelectable(e,_)):!1}}),v=[],g;for(var[y,x]of m)if(!(a&&Ie.isElement(y)&&!F.isSelectable(e,y))){var b=g&&J.compare(x,g[1])===0;if(!(r==="highest"&&b)){if(!c(y,x)){if(o&&!b&&xe.isText(y))return;continue}if(r==="lowest"&&b){g=[y,x];continue}var w=r==="lowest"?g:[y,x];w&&(o?v.push(w):yield w),g=[y,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}()}var uPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>Mk.get(d)||[],s=d=>Fk.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(F.isNormalizing(t)){if(r){var c=Array.from(Se.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));Mk.set(t,c),Fk.set(t,u)}i(t).length!==0&&F.withoutNormalizing(t,()=>{for(var d of i(t))if(Se.has(t,d)){var f=F.node(t,d),[p,m]=f;Ie.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,y=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:y,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(Se.has(t,x)){var b=F.node(t,x);t.normalizeNode(b,{operation:o})}y++,v=i(t)}})}},dPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=J.parent(o),s=F.node(t,i);return s},fPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pathRefs(t);return c.delete(i),i.current=null,a}},s=F.pathRefs(t);return s.add(i),i},hPt=e=>{var t=GZ.get(e);return t||(t=new Set,GZ.set(e,t)),t},pPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(J.isPath(n)){if(i==="start"){var[,s]=Se.first(t,n);n=s}else if(i==="end"){var[,a]=Se.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=J.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},mPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pointRefs(t);return c.delete(i),i.current=null,a}},s=F.pointRefs(t);return s.add(i),i},gPt=e=>{var t=KZ.get(e);return t||(t=new Set,KZ.set(e,t)),t},vPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(J.isPath(n)){var i;if(o==="end"){var[,s]=Se.last(t,n);i=s}else{var[,a]=Se.first(t,n);i=a}var c=Se.get(t,i);if(!xe.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function yPt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=F.range(e,n),[c,u]=ue.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[y,x]of F.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Ie.isElement(y)){if(!i&&(e.isVoid(y)||e.isElementReadOnly(y))){yield F.start(e,x);continue}if(e.isInline(y))continue;if(F.hasInlines(e,y)){var b=J.isAncestor(x,u.path)?u:F.end(e,x),w=J.isAncestor(x,c.path)?c:F.start(e,x);p=F.string(e,{anchor:w,focus:b},{voids:i}),f=!0}}if(xe.isText(y)){var C=J.equals(x,d.path);for(C?(v=o?d.offset:y.text.length-d.offset,g=d.offset):(v=y.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=$9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?R9(S,j):E==="word"?tIt(S,j):E==="line"||E==="block"?S.length:1}}()}var bPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.before(t,s,{voids:o});if(a){var[,c]=F.first(t,[]),u=[a.path,c];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(J.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},xPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.rangeRefs(t);return c.delete(i),i.current=null,a}},s=F.rangeRefs(t);return s.add(i),i},wPt=e=>{var t=ZZ.get(e);return t||(t=new Set,ZZ.set(e,t)),t},CPt=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=F.start(e,t),o=F.end(e,n||t);return{anchor:r,focus:o}};function xX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SPt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!xe.isText(d))return!1;var[p,m]=F.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=F.node(e,n);if(s&&r(s,a)){var[c]=F.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)ie.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=_Pt({},F.marks(e)||{});delete u[t],e.marks=u,xb.get(e)||e.onChange()}}},EPt=(e,t)=>{Pke.set(e,t)},kPt=(e,t)=>F.point(e,t,{edge:"start"}),jPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=F.range(t,n),[s,a]=ue.edges(i),c="";for(var[u,d]of F.nodes(t,{at:i,match:xe.isText,voids:o})){var f=u.text;J.equals(d,a.path)&&(f=f.slice(0,a.offset)),J.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},TPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||J.hasPrevious(s.path))return n;var a=F.above(t,{at:s,match:v=>Ie.isElement(v)&&F.isBlock(t,v),voids:o}),c=a?a[1]:[],u=F.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of F.nodes(t,{at:d,match:xe.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||J.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},APt=(e,t)=>{var n=F.isNormalizing(e);F.setNormalizing(e,!1);try{t()}finally{F.setNormalizing(e,n)}F.normalize(e)},DPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=F.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?F.before(t,u,v)||F.start(t,[]):F.after(t,u,v)||F.end(t,[]);u={anchor:u,focus:g},d=!0}}if(J.isPath(u)){ie.removeNodes(t,{at:u,voids:c});return}if(!ue.isCollapsed(u)){if(!d){var[,y]=ue.edges(u),x=F.end(t,[]);It.equals(y,x)||(u=F.unhangRange(t,u,{voids:c}))}var[b,w]=ue.edges(u),C=F.above(t,{match:ae=>Ie.isElement(ae)&&F.isBlock(t,ae),at:b,voids:c}),_=F.above(t,{match:ae=>Ie.isElement(ae)&&F.isBlock(t,ae),at:w,voids:c}),S=C&&_&&!J.equals(C[1],_[1]),E=J.equals(b.path,w.path),j=c?null:(r=F.void(t,{at:b,mode:"highest"}))!==null&&r!==void 0?r:F.elementReadOnly(t,{at:b,mode:"highest"}),k=c?null:(o=F.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=F.before(t,b);T&&C&&J.isAncestor(C[1],T.path)&&(b=T)}if(k){var A=F.after(t,w);A&&_&&J.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var P of F.nodes(t,{at:u,voids:c})){var[$,R]=P;I&&J.compare(R,I)===0||(!c&&Ie.isElement($)&&(F.isVoid(t,$)||F.isElementReadOnly(t,$))||!J.isCommon(R,b.path)&&!J.isCommon(R,w.path))&&(D.push(P),I=R)}var z=Array.from(D,ae=>{var[,Ce]=ae;return F.pathRef(t,Ce)}),B=F.pointRef(t,b),H=F.pointRef(t,w),W="";if(!E&&!j){var V=B.current,[G]=F.leaf(t,V),{path:te}=V,{offset:N}=b,Y=G.text.slice(N);Y.length>0&&(t.apply({type:"remove_text",path:te,offset:N,text:Y}),W=Y)}if(z.reverse().map(ae=>ae.unref()).filter(ae=>ae!==null).forEach(ae=>ie.removeNodes(t,{at:ae,voids:c})),!k){var q=H.current,[Z]=F.leaf(t,q),{path:se}=q,re=E?b.offset:0,K=Z.text.slice(re,w.offset);K.length>0&&(t.apply({type:"remove_text",path:se,offset:re,text:K}),W=K)}!E&&S&&H.current&&B.current&&ie.mergeNodes(t,{at:H.current,hanging:!0,voids:c}),f&&i&&s==="character"&&W.length>1&&W.match(/[\u0E00-\u0E7F]+/)&&ie.insertText(t,W.slice(0,W.length-a));var Q=B.unref(),le=H.unref(),me=i?Q||le:le||Q;n.at==null&&me&&ie.select(t,me)}}})},IPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=O9(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=F.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&F.void(t,{at:a}))return;var c=F.pointRef(t,a);ie.delete(t,{at:s}),s=c.unref()}else J.isPath(s)&&(s=F.start(t,s));if(!(!i&&F.void(t,{at:s}))){var u=F.above(t,{at:s,match:N=>Ie.isElement(N)&&F.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(F.isEnd(t,s,d)){var f=F.after(t,d);s=f}else if(F.isStart(t,s,d)){var p=F.before(t,d);s=p}}var m=F.above(t,{match:N=>Ie.isElement(N)&&F.isBlock(t,N),at:s,voids:i}),[,v]=m,g=F.isStart(t,s,v),y=F.isEnd(t,s,v),x=g&&y,b=!g||g&&y,w=!y,[,C]=Se.first({children:n},[]),[,_]=Se.last({children:n},[]),S=[],E=N=>{var[Y,q]=N,Z=q.length===0;return Z?!1:x?!0:!(b&&J.isAncestor(q,C)&&Ie.isElement(Y)&&!t.isVoid(Y)&&!t.isInline(Y)||w&&J.isAncestor(q,_)&&Ie.isElement(Y)&&!t.isVoid(Y)&&!t.isInline(Y))};for(var j of Se.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[P]of S)Ie.isElement(P)&&!t.isInline(P)?(D=!1,I=!0,T.push(P)):D?k.push(P):A.push(P);var[$]=F.nodes(t,{at:s,match:N=>xe.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),[,R]=$,z=F.isStart(t,s,R),B=F.isEnd(t,s,R),H=F.pathRef(t,y&&!A.length?J.next(v):v),W=F.pathRef(t,B?J.next(R):R);ie.splitNodes(t,{at:s,match:N=>I?Ie.isElement(N)&&F.isBlock(t,N):xe.isText(N)||F.isInline(t,N),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!y||A.length>0),voids:i});var V=F.pathRef(t,!z||z&&B?J.next(R):R);if(ie.insertNodes(t,k,{at:V.current,match:N=>xe.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&ie.delete(t,{at:v,voids:i}),ie.insertNodes(t,T,{at:H.current,match:N=>Ie.isElement(N)&&F.isBlock(t,N),mode:"lowest",voids:i}),ie.insertNodes(t,A,{at:W.current,match:N=>xe.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),!r.at){var G;if(A.length>0&&W.current?G=J.previous(W.current):T.length>0&&H.current?G=J.previous(H.current):V.current&&(G=J.previous(V.current)),G){var te=F.end(t,G);ie.select(t,te)}}V.unref(),H.unref(),W.unref()}}})},PPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")ie.select(t,o.anchor);else if(r==="focus")ie.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);ie.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);ie.select(t,s)}}else return},OPt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},RPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?F.before(t,c,d):F.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?F.before(t,u,d):F.after(t,u,d);m&&(f.focus=m)}ie.setSelection(t,f)}},$Pt=(e,t)=>{var{selection:n}=e;if(t=F.range(e,t),n){ie.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(zo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function wX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function CX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;ie.setSelection(t,{[i==="anchor"?"anchor":"focus"]:CX(CX({},c),n)})}},FPt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},LPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(Se.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=O9(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=F.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=F.pointRef(t,f);ie.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){c==null&&(xe.isText(d)?c=E=>xe.isText(E):t.isInline(d)?c=E=>xe.isText(E)||F.isInline(t,E):c=E=>Ie.isElement(E)&&F.isBlock(t,E));var[m]=F.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=F.pathRef(t,v),y=F.isEnd(t,a,v);ie.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=y?J.next(x):x}else return}var b=J.parent(a),w=a[a.length-1];if(!(!i&&F.void(t,{at:b}))){for(var C of n){var _=b.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=J.next(a)}if(a=J.previous(a),u){var S=F.end(t,a);S&&ie.select(t,S)}}}})},BPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=J.isPath(r)?q0(t,r):C=>Ie.isElement(C)&&F.isBlock(t,C)),!!r){var a=F.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return F.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=F.node(t,J.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var y=J.next(m);ie.moveNodes(t,{at:d,to:y,voids:i}),ie.removeNodes(t,{at:m,voids:i})}else if(v===0)ie.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=J.next(m);ie.moveNodes(t,{at:d,to:x,voids:i})}else{var b=J.next(d),w=J.next(m);ie.splitNodes(t,{at:b,voids:i}),ie.moveNodes(t,{at:d,to:w,voids:i})}}}})},NPt=["text"],zPt=["children"],Rke=(e,t)=>{if(Ie.isElement(t)){var n=t;return F.isVoid(e,t)?!0:n.children.length===1?Rke(e,n.children[0]):!1}else return!F.isEditor(t)},VPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(J.isPath(o)){var[c]=F.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Ie.isElement(T)&&F.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=F.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=F.pointRef(t,u);ie.delete(t,{at:o}),o=d.unref(),n.at==null&&ie.select(t,o)}var[f]=F.nodes(t,{at:o,match:r,voids:s,mode:a}),p=F.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,y]=p;if(!(v.length===0||y.length===0)){var x=J.next(y),b=J.common(v,y),w=J.isSibling(v,y),C=Array.from(F.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(b.length).slice(0,-1),_=F.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&Rke(t,T)}),S=_&&F.pathRef(t,_[1]),E,j;if(xe.isText(m)&&xe.isText(g)){var k=Zu(m,NPt);j=g.text.length,E=k}else if(Ie.isElement(m)&&Ie.isElement(g)){var k=Zu(m,zPt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(zo.stringify(m)," ").concat(zo.stringify(g)));w||ie.moveNodes(t,{at:v,to:x,voids:s}),S&&ie.removeNodes(t,{at:S.current,voids:s}),Ie.isElement(g)&&F.isEmpty(t,g)||xe.isText(g)&&g.text===""&&y[y.length-1]!==0?ie.removeNodes(t,{at:y,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},HPt=(e,t)=>{F.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=J.isPath(r)?q0(e,r):m=>Ie.isElement(m)&&F.isBlock(e,m));var a=F.pathRef(e,n),c=F.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&J.isSibling(p,f)&&J.isAfter(p,f)&&(a.current=J.next(a.current))}a.unref()}})},UPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?q0(t,s):m=>Ie.isElement(m)&&F.isBlock(t,m)),!r&&ue.isRange(s)&&(s=F.unhangRange(t,s,{voids:o}));var c=F.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=F.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},WPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=J.isPath(i)?q0(t,i):j=>Ie.isElement(j)&&F.isBlock(t,j)),!c&&ue.isRange(i)&&(i=F.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&F.leaf(t,i.anchor)[0].text.length>0)return;var p=F.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",y=F.isEnd(t,v,v.path);ie.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!y});var x=F.isStart(t,m,m.path);ie.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&ie.select(t,i)}s||(s=(j,k)=>j!==k);for(var[b,w]of F.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],b[E])&&(S=!0,b.hasOwnProperty(E)&&(C[E]=b[E]),a?n[E]!=null&&(_[E]=a(b[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},YPt=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=F.pointRef(e,n);return ie.delete(e,{at:t}),r.unref()},qPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=H=>Ie.isElement(H)&&F.isBlock(t,H)),ue.isRange(s)&&(s=YPt(t,s)),J.isPath(s)){var u=s,d=F.point(t,u),[f]=F.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=F.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=F.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=F.void(t,{at:s,mode:"highest"}),y=0;if(!o&&g){var[x,b]=g;if(Ie.isElement(x)&&t.isInline(x)){var w=F.after(t,b);if(!w){var C={text:""},_=J.next(b);ie.insertNodes(t,C,{at:_,voids:o}),w=F.point(t,_)}s=w,c=!0}var S=s.path.length-b.length;a=S+1,c=!0}m=F.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+y;for(var[A,D]of F.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Ie.isElement(A)&&F.isVoid(t,A))break;var P=p.current,$=F.isEnd(t,P,D);if(c||!p||!F.isEdge(t,P,D)){I=!0;var R=Se.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var z=m.current||F.end(t,[]);ie.select(t,z)}}finally{var B;p.unref(),(B=m)===null||B===void 0||B.unref()}}})},GPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;ie.setNodes(t,o,r)},KPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?q0(t,s):m=>Ie.isElement(m)&&F.isBlock(t,m)),J.isPath(s)&&(s=F.range(t,s));var c=ue.isRange(s)?F.rangeRef(t,s):null,u=F.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return F.pathRef(t,v)}).reverse(),f=function(){var v=p.unref(),[g]=F.node(t,v),y=F.range(t,v);o&&c&&(y=ue.intersection(c.current,y)),ie.liftNodes(t,{at:y,match:x=>Ie.isAncestor(g)&&g.children.includes(x),voids:i})};for(var p of d)f();c&&c.unref()}})};function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function SX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_X(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(J.isPath(c)?a=q0(t,c):t.isInline(n)?a=y=>Ie.isElement(y)&&F.isInline(t,y)||xe.isText(y):a=y=>Ie.isElement(y)&&F.isBlock(t,y)),i&&ue.isRange(c)){var[u,d]=ue.edges(c),f=F.rangeRef(t,c,{affinity:"inward"});ie.splitNodes(t,{at:d,match:a,voids:s}),ie.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&ie.select(t,c)}var p=Array.from(F.nodes(t,{at:c,match:t.isInline(n)?y=>Ie.isElement(y)&&F.isBlock(t,y):y=>F.isEditor(y),mode:"lowest",voids:s})),m=function(){var x=ue.isRange(c)?ue.intersection(c,F.range(t,g)):c;if(!x)return 0;var b=Array.from(F.nodes(t,{at:x,match:a,mode:o,voids:s}));if(b.length>0){var[w]=b,C=b[b.length-1],[,_]=w,[,S]=C;if(_.length===0&&S.length===0)return 0;var E=J.equals(_,S)?J.parent(_):J.common(_,S),j=F.range(t,_,S),k=F.node(t,E),[T]=k,A=E.length+1,D=J.next(S.slice(0,A)),I=SX(SX({},n),{},{children:[]});ie.insertNodes(t,I,{at:D,voids:s}),ie.moveNodes(t,{at:j,match:P=>Ie.isAncestor(T)&&T.children.includes(P),to:D.concat(0),voids:s})}},v;for(var[,g]of p)v=m()}})},XPt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CIt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TIt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IIt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PIt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OIt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SIt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UIt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YIt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IPt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WIt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GIt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EIt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SPt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _It(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kIt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jIt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AIt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DIt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PPt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DPt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OPt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RIt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $It(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MIt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FIt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LIt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sPt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NIt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zIt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VIt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HIt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LPt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KIt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZIt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XIt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QIt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JIt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ePt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tPt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nPt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rPt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BPt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VPt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RPt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HPt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aPt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lPt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cPt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uPt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dPt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pPt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fPt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hPt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vPt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mPt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gPt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yPt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bPt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CPt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xPt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wPt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UPt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Pt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WPt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EPt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MPt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FPt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qPt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kPt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jPt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TPt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GPt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KPt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BIt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return APt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZPt(e,...r)}};return e},gd={};Object.defineProperty(gd,"__esModule",{value:!0});var QPt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),MP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},$ke={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:QPt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},M9={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var j_=1;j_<20;j_++)M9["f"+j_]=111+j_;function FT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return Mke(s,t)}),o=function(a){return r.some(function(c){return Fke(c,a)})},i=n==null?o:o(n);return i}function JPt(e,t){return FT(e,t)}function eOt(e,t){return FT(e,{byKey:!0},t)}function Mke(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in MP)r[MP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=F9(p),g=MP[v];if(p.length>1&&!g&&!$ke[p]&&!M9[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=Lke(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function Fke(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function Lke(e){e=F9(e);var t=M9[e]||e.toUpperCase().charCodeAt(0);return t}function F9(e){return e=e.toLowerCase(),e=$ke[e]||e,e}gd.default=FT;var FP=gd.isHotkey=FT;gd.isCodeHotkey=JPt;gd.isKeyHotkey=eOt;gd.parseHotkey=Mke;gd.compareHotkey=Fke;gd.toKeyCode=Lke;gd.toKeyName=F9;function tOt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function i0(e,t){if(e==null)return{};var n=tOt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function nOt(e,t){if(wx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rOt(e){var t=nOt(e,"string");return wx(t)==="symbol"?t:String(t)}function Ba(e,t,n){return t=rOt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L9=h.createContext(null),Uc=()=>{var e=h.useContext(L9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Bke=parseInt(ne.version.split(".")[0],10),oOt=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,EX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ws=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Qg=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ry=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),iOt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Nke=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),sOt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),aOt=ws&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),lOt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),cOt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),uOt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),vS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jd=(!sOt||!aOt)&&!iOt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",B9=new WeakMap,N9=new WeakMap,zke=new WeakMap,yS=new WeakMap,aM=new WeakMap,Cx=new WeakMap,Dp=new WeakMap,Lk=new WeakMap,LT=new WeakMap,lM=new WeakMap,ef=new WeakMap,cp=new WeakMap,wb=new WeakMap,cM=new WeakMap,z9=new WeakMap,_l=new WeakMap,wu=new WeakMap,gs=new WeakMap,Bd=new WeakMap,Nd=new WeakMap,Vke=new WeakMap,s0=Symbol("placeholder"),Hke=Symbol("mark-placeholder"),dOt=globalThis.Text,V9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,fOt=e=>qf(e)&&e.nodeType===8,Pa=e=>qf(e)&&e.nodeType===1,qf=e=>{var t=V9(e);return!!t&&e instanceof t.Node},uM=e=>{var t=e&&e.anchorNode&&V9(e.anchorNode);return!!t&&e instanceof t.Selection},Uke=e=>qf(e)&&e.nodeType===3,hOt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,pOt=e=>{var[t,n]=e;if(Pa(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=Wke(t,o,r?"backward":"forward"),r=o<n;Pa(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=gOt(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},mOt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},Wke=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(fOt(o)||Pa(o)&&o.childNodes.length===0||Pa(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},gOt=(e,t,n)=>{var[r]=Wke(e,t,n);return r},Yke=e=>{var t="";if(Uke(e)&&e.nodeValue)return e.nodeValue;if(Pa(e)){for(var n of Array.from(e.childNodes))t+=Yke(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},vOt=/data-slate-fragment="(.+?)"/m,yOt=e=>{var t=e.getData("text/html"),[,n]=t.match(vOt)||[];return n},H9=(e,t,n)=>{var{target:r}=t;if(Pa(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=pe.getWindow(e);if(o.contains(r))return pe.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:H9(e,i,n)},bOt=0;class xOt{constructor(){Ba(this,"id",void 0),this.id="".concat(bOt++)}}var pe={androidPendingDiffs:e=>gs.get(e),androidScheduleFlush:e=>{var t;(t=z9.get(e))===null||t===void 0||t()},blur:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);ef.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=pe.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ie.deselect(e)},findDocumentOrShadowRoot:e=>{var t=pe.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=pe.toSlateNode(e,t.target),s=pe.findPath(e,i);if(Ie.isElement(i)&&F.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=F.point(e,s,{edge:c?"start":"end"}),d=c?F.before(e,u):F.after(e,u);if(d){var f=F.range(e,d);return f}}var p,{document:m}=pe.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=pe.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=Lk.get(t);return n||(n=new xOt,Lk.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=N9.get(r);if(o==null){if(F.isEditor(r))return n;break}var i=B9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(zo.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!ef.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{pe.focus(t,{retries:n.retries-1})},10);return}var r=pe.toDOMNode(t,t),o=pe.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var i=o.getSelection(),s=pe.toDOMRange(t,t.selection);i==null||i.removeAllRanges(),i==null||i.addRange(s)}t.selection||(ie.select(t,F.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),ef.set(t,!0)}}},getWindow:e=>{var t=zke.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=pe.toDOMNode(t,t),s;try{s=Pa(n)?n:n.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>qf(t)&&pe.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return F.hasPath(e,n.path)&&F.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>pe.hasEditableTarget(e,t)||pe.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>qf(t)&&pe.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!cp.get(e),isFocused:e=>!!ef.get(e),isReadOnly:e=>!!lM.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(lM.get(e))return!1;var n=pe.hasTarget(e,t)&&pe.toSlateNode(e,t);return Ie.isElement(n)&&F.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=LT.get(e),r=F.isEditor(t)?yS.get(e):n==null?void 0:n.get(pe.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(zo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=F.node(e,t.path),r=pe.toDOMNode(e,n),o;F.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var y,x=g.childNodes[0];o=[x instanceof dOt?x:g,(y=g.textContent)!==null&&y!==void 0&&y.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var b=Math.min(f,Math.max(0,t.offset-a));o=[d,b];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(zo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=pe.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:pe.toDOMPoint(e,r),a=pe.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Pa(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Pa(f)?f:f.parentElement,y=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,y?1:p),c},toSlateNode:(e,t)=>{var n=Pa(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Cx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:pOt(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=pe.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),y=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=pe.getWindow(e),b=x.document.createRange();b.setStart(c,0),b.setEnd(i,s);var w=b.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(P=>{if(ws&&!r&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),u=w.textContent.length,y=c}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(pe.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),y=g,u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(P=>{u-=P.textContent.length})):u=1}y&&u===y.textContent.length&&ws&&y.getAttribute("data-slate-zero-width")==="z"&&(d=y.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||Qg&&(f=y.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(ws&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&pe.hasDOMNode(e,j,{editable:!0})){var k=pe.toSlateNode(e,j),{path:T,offset:A}=F.start(e,pe.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=pe.toSlateNode(e,c),I=pe.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:i}=n,s=uM(t)?t.anchorNode:t.startContainer,a,c,u,d,f;if(s)if(uM(t)){if(Qg&&t.rangeCount>1){u=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var v=p.startContainer,g=m.startContainer,y=S(v.children[p.startOffset]),x=S(g.children[m.startOffset]);d=0,x.childNodes.length>0?a=x.childNodes[0]:a=x,y.childNodes.length>0?u=y.childNodes[0]:u=y,x instanceof HTMLElement?c=x.innerHTML.length:c=0}else p.startContainer===u?(a=m.endContainer,c=m.endOffset,d=p.startOffset):(a=p.startContainer,c=p.endOffset,d=m.startOffset)}else a=t.anchorNode,c=t.anchorOffset,u=t.focusNode,d=t.focusOffset;Nke&&mOt(a)||Qg?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else a=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(a==null||u==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(Qg&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var b;u=a,d=((b=a.textContent)===null||b===void 0?void 0:b.length)||0}var w=pe.toSlatePoint(e,[a,c],{exactMatch:o,suppressThrow:i});if(!w)return null;var C=f?w:pe.toSlatePoint(e,[u,d],{exactMatch:o,suppressThrow:i});if(!C)return null;var _={anchor:w,focus:C};return ue.isExpanded(_)&&ue.isForward(_)&&Pa(u)&&F.void(e,{at:_.focus,mode:"highest"})&&(_=F.unhangRange(e,_,{voids:!0})),_}};function wOt(e,t){var{path:n,diff:r}=t;if(!F.hasPath(e,n))return!1;var o=Se.get(e,n);if(!xe.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=J.next(n);if(!F.hasPath(e,i))return!1;var s=Se.get(e,i);return xe.isText(s)&&s.text.startsWith(r.text)}function qke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function COt(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function _Ot(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function Gke(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=COt(i,o),a=Math.min(i.length-s,o.length-s),c=_Ot(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function SOt(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=qke(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return Gke(e,{start:r,end:c,text:a})}function EOt(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function dM(e,t){var{path:n,offset:r}=t;if(!F.hasPath(e,n))return null;var o=Se.get(e,n);if(!xe.isText(o))return null;var i=F.above(e,{match:a=>Ie.isElement(a)&&F.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=F.next(e,{at:n,match:xe.isText});if(!s||!J.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function kX(e,t){var n=dM(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=dM(e,t.focus);return r?{anchor:n,focus:r}:null}function fM(e,t,n){var r=gs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return J.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&J.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function jX(e,t,n){var r=fM(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=fM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function kOt(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!J.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:J.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:J.transform(n,t,{affinity:"forward"})};case"merge_node":return J.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:J.transform(n,t)}:{diff:r,id:o,path:J.transform(n,t)}}var i=J.transform(n,t);return i?{diff:r,path:i,id:o}:null}function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jOt=25,TOt=200,AOt=function(){},DOt=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function IOt(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Nd.get(t);if(Nd.delete(t),D){var{selection:I}=t,P=kX(t,D);P&&(!I||!ue.equals(P,I))&&ie.select(t,P)}},f=()=>{var D=Bd.get(t);if(Bd.delete(t),!!D){if(D.at){var I=It.isPoint(D.at)?dM(t,D.at):kX(t,D.at);if(!I)return;var P=F.range(t,I);(!t.selection||!ue.equals(t.selection,P))&&ie.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&F.rangeRef(t,t.selection,{affinity:"forward"});wu.set(t,t.marks),AOt("flush",Bd.get(t),gs.get(t));for(var I=C(),P;P=($=gs.get(t))===null||$===void 0?void 0:$[0];){var $,R,z=_l.get(t);z!==void 0&&(_l.delete(t),t.marks=z),z&&u===!1&&(u=null);var B=EOt(P);(!t.selection||!ue.equals(t.selection,B))&&ie.select(t,B),P.diff.text?F.insertText(t,P.diff.text):F.deleteFragment(t),gs.set(t,(R=gs.get(t))===null||R===void 0?void 0:R.filter(V=>{var{id:G}=V;return G!==P.id})),wOt(t,P)||(I=!1,Bd.delete(t),wu.delete(t),o="action",Nd.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!Nd.get(t)&&(!t.selection||!ue.equals(H,t.selection))&&ie.select(t,H),w()){f();return}I&&n(),n.flush(),r.flush(),d();var W=wu.get(t);wu.delete(t),W!==void 0&&(t.marks=W,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{cp.set(t,!1),p()},jOt)},v=D=>{cp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=aM.get(t);if(P){if(C()||I){P.style.display="none";return}P.style.removeProperty("display")}},y=(D,I)=>{var P,$=(P=gs.get(t))!==null&&P!==void 0?P:[];gs.set(t,$);var R=Se.leaf(t,D),z=$.findIndex(W=>J.equals(W.path,D));if(z<0){var B=Gke(R.text,I);B&&$.push({path:D,diff:I,id:c++}),g();return}var H=SOt(R.text,$[z].diff,I);if(!H){$.splice(z,1),g();return}$[z]=T_(T_({},$[z]),{},{diff:H})},x=function(I){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Nd.delete(t),n.cancel(),r.cancel(),w()&&p(),Bd.set(t,{at:P,run:I}),a=setTimeout(p)},b=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:P}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(u=!1);var[z]=D.getTargetRanges();z&&($=pe.toSlateRange(t,z,{exactMatch:!1,suppressThrow:!0}));var B=pe.getWindow(t),H=B.getSelection();if(!$&&H&&(z=H,$=pe.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var W=!0;if(P.startsWith("delete")){if(ue.isExpanded($)){var[V,G]=ue.edges($),te=Se.leaf(t,V.path);if(te.text.length===V.offset&&G.offset===0){var N=F.next(t,{at:V.path,match:xe.isText});N&&J.equals(N[1],G.path)&&($={anchor:G,focus:G})}}var Y=P.endsWith("Backward")?"backward":"forward",[q,Z]=ue.edges($),[se,re]=F.leaf(t,q.path),K={text:"",start:q.offset,end:Z.offset},Q=gs.get(t),le=Q==null?void 0:Q.find(tt=>J.equals(tt.path,re)),me=le?[le.diff,K]:[K],ae=qke(se.text,...me);if(ae.length===0&&(W=!1),ue.isExpanded($)){if(W&&J.equals($.anchor.path,$.focus.path)){var Ce={path:$.anchor.path,offset:q.offset},_e=F.range(t,Ce,Ce);return E(_e),y($.anchor.path,{text:"",end:Z.offset,start:q.offset})}return x(()=>F.deleteFragment(t,{direction:Y}),{at:$})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>F.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:he}=$;if(W&&ue.isCollapsed($)){var be=Se.leaf(t,he.path);if(he.offset<be.text.length)return y(he.path,{text:"",start:he.offset,end:he.offset+1})}return x(()=>F.deleteForward(t),{at:$})}case"deleteContentBackward":{var Le,{anchor:Re}=$,lt=uM(z)?z.isCollapsed:!!((Le=z)!==null&&Le!==void 0&&Le.collapsed);return W&&lt&&ue.isCollapsed($)&&Re.offset>0?y(Re.path,{text:"",start:Re.offset-1,end:Re.offset}):x(()=>F.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{F.deleteBackward(t,{unit:"line"}),F.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>F.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>F.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>F.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>F.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>F.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>F.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>F.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>F.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(DOt(R))return x(()=>pe.insertData(t,R),{at:$});var ot=R??"";if(_l.get(t)&&(ot=ot.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(ot)&&(ot=ot.slice(0,-1)),ot.includes(`
`))return x(()=>{var tt=ot.split(`
`);tt.forEach((xt,Ee)=>{xt&&F.insertText(t,xt),Ee!==tt.length-1&&F.insertSoftBreak(t)})},{at:$});if(J.equals($.anchor.path,$.focus.path)){var[Bt,Rt]=ue.edges($),Ae={start:Bt.offset,end:Rt.offset,text:ot};if(ot&&u&&P==="insertCompositionText"){var Ge=u.start+u.text.search(/\S|$/),Ye=Ae.start+Ae.text.search(/\S|$/);Ye===Ge+1&&Ae.end===u.start+u.text.length?(Ae.start-=1,u=null,T()):u=!1}else P==="insertText"?u===null?u=Ae:u&&ue.isCollapsed($)&&u.end+u.text.length===Bt.offset?u=T_(T_({},u),{},{text:u.text+ot}):u=!1:u=!1;if(W){y(Bt.path,Ae);return}}return x(()=>F.insertText(t,ot),{at:$})}}}},w=()=>!!Bd.get(t),C=()=>{var D;return!!((D=gs.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{Nd.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var P=!I||!J.equals(I.anchor.path,D.anchor.path),$=!I||!J.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(P&&u||$)&&(u=!1),(P||C())&&(s=setTimeout(p,TOt))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(P=>H9(t,P,D))){var I;(I=Vke.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:b,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function POt(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var _x=vS?h.useLayoutEffect:h.useEffect;function OOt(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));_x(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var ROt=["node"];function AX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MOt={subtree:!0,childList:!0,characterData:!0},FOt=ws?e=>{var{node:t}=e,n=i0(e,ROt);if(!ws)return null;var r=Uc(),o=POt(),[i]=h.useState(()=>IOt($Ot({editor:r},n)));return OOt(t,i.handleDomMutations,MOt),z9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,LOt=["anchor","focus"],BOt=["anchor","focus"],NOt=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),Kke=(e,t)=>{var n=i0(e,LOt),r=i0(t,BOt);return e[s0]===t[s0]&&NOt(n,r)},zOt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!Kke(r,o))return!1}return!0},VOt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!Kke(r,o))return!1}return!0};function DX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function HOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DX(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var UOt=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Uc(),s=pe.findPath(i,o),a=J.parent(s),c=!!n[Hke];return i.isVoid(r)?ne.createElement(LP,{length:Se.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&F.string(i,a)===""?ne.createElement(LP,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?ne.createElement(LP,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?ne.createElement(IX,{isTrailing:!0,text:n.text}):ne.createElement(IX,{text:n.text})},IX=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return _x(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ne.createElement(WOt,{ref:r},i)},WOt=h.memo(h.forwardRef((e,t)=>ne.createElement("span",{"data-slate-string":!0,ref:t},e.children))),LP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ne.createElement("span",HOt({},o),!ws||!n?"\uFEFF":null,n?ne.createElement("br",null):null)};function PX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PX(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YOt(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function OX(e){e.current&&(clearTimeout(e.current),e.current=null)}var qOt=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=b=>ne.createElement(KOt,Zke({},b))}=e,a=Uc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(b=>{if(YOt(c,b==null),b==null){var w;aM.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(aM.set(a,b),!c.current){var C=window.ResizeObserver||j_e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,b)})}c.current.observe(b),u.current=b}},[u,t,a]),v=ne.createElement(UOt,{isLast:n,leaf:t,parent:o,text:r}),g=!!t[s0];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(OX(p),f(!1)),()=>OX(p)),[g,f]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Ry?"inherit":void 0},contentEditable:!1,ref:m}};v=ne.createElement(ne.Fragment,null,i(y),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},GOt=ne.memo(qOt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&xe.equals(t.leaf,e.leaf)&&t.leaf[s0]===e.leaf[s0]),KOt=e=>{var{attributes:t,children:n}=e;return ne.createElement("span",Zke({},t),n)},ZOt=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Uc(),c=h.useRef(null),u=xe.decorations(s,t),d=pe.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ne.createElement(GOt,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var y=LT.get(a);g?(y==null||y.set(d,g),Dp.set(s,g),Cx.set(g,s)):(y==null||y.delete(d),Dp.delete(s),c.current&&Cx.delete(c.current)),c.current=g},[c,a,d,s]);return ne.createElement("span",{"data-slate-node":"text",ref:v},f)},Xke=ne.memo(ZOt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&VOt(t.decorations,e.decorations));function RX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RX(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XOt=e=>{var{decorations:t,element:n,renderElement:r=b=>ne.createElement(JOt,hM({},b)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Uc(),c=t3t(),u=a.isInline(n),d=pe.findKey(a,n),f=h.useCallback(b=>{var w=LT.get(a);b?(w==null||w.set(d,b),Dp.set(n,b),Cx.set(b,n)):(w==null||w.delete(d),Dp.delete(n))},[a,d,n]),p=t5e({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&F.hasInlines(a,n)){var v=Se.string(n),g=Eke(v);g==="rtl"&&(m.dir=g)}if(F.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var y=u?"span":"div",[[x]]=Se.texts(n);p=ne.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ne.createElement(Xke,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),B9.set(x,0),N9.set(x,n)}return r({attributes:m,children:p,element:n})},QOt=ne.memo(XOt,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&zOt(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),JOt=e=>{var{attributes:t,children:n,element:r}=e,o=Uc(),i=o.isInline(r)?"span":"div";return ne.createElement(i,hM(hM({},t),{},{style:{position:"relative"}}),n)},Qke=h.createContext(()=>[]),e3t=()=>h.useContext(Qke),Jke=h.createContext(!1),e5e=()=>h.useContext(Jke),t5e=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=e3t(),c=Uc(),u=pe.findPath(c,n),d=[],f=Ie.isElement(n)&&!c.isInline(n)&&F.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=pe.findKey(c,v),y=F.range(c,m),x=s&&ue.intersection(y,s),b=a([v,m]);for(var w of t){var C=ue.intersection(w,y);C&&b.push(C)}Ie.isElement(v)?d.push(ne.createElement(Jke.Provider,{key:"provider-".concat(g.id),value:!!x},ne.createElement(QOt,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ne.createElement(Xke,{decorations:b,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),B9.set(v,p),N9.set(v,n)}return d},n5e=h.createContext(!1),t3t=()=>h.useContext(n5e),r5e=h.createContext(null),BT=()=>{var e=h.useContext(r5e);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function n3t(){var e=Uc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=pe.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var r3t=3,o3t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},i3t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},s3t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},vr=e=>{var t=o3t[e],n=i3t[e],r=s3t[e],o=t&&FP(t),i=n&&FP(n),s=r&&FP(r);return a=>!!(o&&o(a)||EX&&i&&i(a)||!EX&&s&&s(a))},Tr={isBold:vr("bold"),isCompose:vr("compose"),isMoveBackward:vr("moveBackward"),isMoveForward:vr("moveForward"),isDeleteBackward:vr("deleteBackward"),isDeleteForward:vr("deleteForward"),isDeleteLineBackward:vr("deleteLineBackward"),isDeleteLineForward:vr("deleteLineForward"),isDeleteWordBackward:vr("deleteWordBackward"),isDeleteWordForward:vr("deleteWordForward"),isExtendBackward:vr("extendBackward"),isExtendForward:vr("extendForward"),isExtendLineBackward:vr("extendLineBackward"),isExtendLineForward:vr("extendLineForward"),isItalic:vr("italic"),isMoveLineBackward:vr("moveLineBackward"),isMoveLineForward:vr("moveLineForward"),isMoveWordBackward:vr("moveWordBackward"),isMoveWordForward:vr("moveWordForward"),isRedo:vr("redo"),isSoftBreak:vr("insertSoftBreak"),isSplitBlock:vr("splitBlock"),isTransposeCharacter:vr("transposeCharacter"),isUndo:vr("undo")},a3t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>H9(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},l3t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class o5e extends h.Component{constructor(){super(...arguments),Ba(this,"context",null),Ba(this,"manager",null),Ba(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,l3t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=a3t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Ba(o5e,"contextType",L9);var c3t=ws?o5e:e=>{var{children:t}=e;return ne.createElement(ne.Fragment,null,t)},u3t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],d3t=["text"];function $X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var f3t=e=>ne.createElement(ne.Fragment,null,t5e(e)),h3t=e=>{var t=h.useCallback(N=>ne.createElement(p3t,rc({},N)),[]),{autoFocus:n,decorate:r=m3t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=g3t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=i0(e,u3t),g=BT(),[y,x]=h.useState(!1),b=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=n3t(),[,j]=h.useReducer(N=>N+1,0);Vke.set(g,j),lM.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>hT(()=>{var N=T.current;if((ws||!pe.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var Y=pe.findDocumentOrShadowRoot(g),{activeElement:q}=Y,Z=pe.toDOMNode(g,g),se=Y.getSelection();if(q===Z?(k.latestElement=q,ef.set(g,!0)):ef.delete(g),!se)return ie.deselect(g);var{anchorNode:re,focusNode:K}=se,Q=pe.hasEditableTarget(g,re)||pe.isTargetInsideNonReadonlyVoid(g,re),le=pe.hasEditableTarget(g,K)||pe.isTargetInsideNonReadonlyVoid(g,K);if(Q&&le){var me=pe.toSlateRange(g,se,{exactMatch:!1,suppressThrow:!0});me&&(!pe.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?ie.select(g,me):N==null||N.handleUserSelect(me))}s&&(!Q||!le)&&ie.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>dw(A,0),[A]);T.current=FOt({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),_x(()=>{var N,Y,q;b.current&&(q=V9(b.current))?(zke.set(g,q),yS.set(g,b.current),Dp.set(g,b.current),Cx.set(b.current,g)):Dp.delete(g);var{selection:Z}=g,se=pe.findDocumentOrShadowRoot(g),re=se.getSelection();if(!(!re||!pe.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var K=ae=>{var Ce=re.type!=="None";if(!(!Z&&!Ce)){var _e=re.focusNode,he;if(Qg&&re.rangeCount>1){var be=re.getRangeAt(0),Le=re.getRangeAt(re.rangeCount-1);be.startContainer===_e?he=Le.endContainer:he=be.startContainer}else he=re.anchorNode;var Re=yS.get(g),lt=!1;if(Re.contains(he)&&Re.contains(_e)&&(lt=!0),Ce&&lt&&Z&&!ae){var ot=pe.toSlateRange(g,re,{exactMatch:!0,suppressThrow:!0});if(ot&&ue.equals(ot,Z)){var Bt;if(!k.hasMarkPlaceholder||(Bt=he)!==null&&Bt!==void 0&&(Bt=Bt.parentElement)!==null&&Bt!==void 0&&Bt.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!pe.hasRange(g,Z)){g.selection=pe.toSlateRange(g,re,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var Rt=Z&&pe.toDOMRange(g,Z);return Rt?(pe.isComposing(g)&&!ws?re.collapseToEnd():ue.isBackward(Z)?re.setBaseAndExtent(Rt.endContainer,Rt.endOffset,Rt.startContainer,Rt.startOffset):re.setBaseAndExtent(Rt.startContainer,Rt.startOffset,Rt.endContainer,Rt.endOffset),d(g,Rt)):re.removeAllRanges(),Rt}};re.rangeCount<=1&&K();var Q=((Y=T.current)===null||Y===void 0?void 0:Y.isFlushing())==="action";if(!ws||!Q){setTimeout(()=>{k.isUpdatingSelection=!1});return}var le=null,me=requestAnimationFrame(()=>{if(Q){var ae=Ce=>{try{var _e=pe.toDOMNode(g,g);_e.focus(),K(Ce)}catch{}};ae(),le=setTimeout(()=>{ae(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(me),le&&clearTimeout(le)}}});var I=h.useCallback(N=>{if(S(),!s&&pe.hasEditableTarget(g,N.target)&&!v3t(N,o)){var Y;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:q}=g,{inputType:Z}=N,se=N.dataTransfer||N.data||void 0,re=Z==="insertCompositionText"||Z==="deleteCompositionText";if(re&&pe.isComposing(g))return;var K=!1;if(Z==="insertText"&&q&&ue.isCollapsed(q)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&q.anchor.offset!==0){var Q,le;K=!0,g.marks&&(K=!1);var{anchor:me}=q,[ae,Ce]=pe.toDOMPoint(g,me),_e=(Q=ae.parentElement)===null||Q===void 0?void 0:Q.closest("a"),he=pe.getWindow(g);if(K&&_e&&pe.hasDOMNode(g,_e)){var be,Le=he==null?void 0:he.document.createTreeWalker(_e,NodeFilter.SHOW_TEXT).lastChild();Le===ae&&((be=Le.textContent)===null||be===void 0?void 0:be.length)===Ce&&(K=!1)}if(K&&ae.parentElement&&(he==null||(le=he.getComputedStyle(ae.parentElement))===null||le===void 0?void 0:le.whiteSpace)==="pre"){var Re=F.above(g,{at:me.path,match:Ge=>Ie.isElement(Ge)&&F.isBlock(g,Ge)});Re&&Se.string(Re[0]).includes("	")&&(K=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[lt]=N.getTargetRanges();if(lt){var ot=pe.toSlateRange(g,lt,{exactMatch:!1,suppressThrow:!1});if(!q||!ue.equals(q,ot)){K=!1;var Bt=!re&&g.selection&&F.rangeRef(g,g.selection);ie.select(g,ot),Bt&&wb.set(g,Bt)}}}if(re)return;if(K||N.preventDefault(),q&&ue.isExpanded(q)&&Z.startsWith("delete")){var Rt=Z.endsWith("Backward")?"backward":"forward";F.deleteFragment(g,{direction:Rt});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(g);break}case"deleteContentBackward":{F.deleteBackward(g);break}case"deleteEntireSoftLine":{F.deleteBackward(g,{unit:"line"}),F.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(g,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(g);break;case"insertParagraph":{F.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&pe.isComposing(g)&&(x(!1),cp.set(g,!1)),(se==null?void 0:se.constructor.name)==="DataTransfer"?pe.insertData(g,se):typeof se=="string"&&(K?w.current.push(()=>F.insertText(g,se)):F.insertText(g,se));break}}var Ae=(Y=wb.get(g))===null||Y===void 0?void 0:Y.unref();wb.delete(g),Ae&&(!g.selection||!ue.equals(g.selection,Ae))&&ie.select(g,Ae)}},[g,A,S,o,s,D]),P=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),yS.delete(g),Dp.delete(g),b.current&&jd&&b.current.removeEventListener("beforeinput",I)):jd&&N.addEventListener("beforeinput",I),b.current=N},[A,D,g,I]);_x(()=>{var N=pe.getWindow(g);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var $=r([g,[]]),R=i&&g.children.length===1&&Array.from(Se.texts(g)).length===1&&Se.string(g)===""&&!y,z=h.useCallback(N=>{if(N&&R){var Y;_((Y=N.getBoundingClientRect())===null||Y===void 0?void 0:Y.height)}else _(void 0)},[R]);if(R){var B=F.start(g,[]);$.push({[s0]:!0,placeholder:i,onPlaceholderResize:z,anchor:B,focus:B})}var{marks:H}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&H){var{anchor:W}=g.selection,V=Se.leaf(g,W.path),G=i0(V,d3t);if(!xe.equals(V,H,{loose:!0})){k.hasMarkPlaceholder=!0;var te=Object.fromEntries(Object.keys(G).map(N=>[N,null]));$.push(rc(rc(rc({[Hke]:!0},te),H),{},{anchor:W,focus:W}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:Y}=N,q=Se.leaf(g,Y.path);if(H&&!xe.equals(q,H,{loose:!0})){_l.set(g,H);return}}_l.delete(g)})}),ne.createElement(n5e.Provider,{value:s},ne.createElement(Qke.Provider,{value:r},ne.createElement(c3t,{node:b,receivedUserInput:E},ne.createElement(p,rc(rc({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v),{},{spellCheck:jd||!vS?v.spellCheck:!1,autoCorrect:jd||!vS?v.autoCorrect:"false",autoCapitalize:jd||!vS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:rc(rc({},m?{}:rc({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(N=>{if(!jd&&!s&&!Ui(N,v.onBeforeInput)&&pe.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!pe.isComposing(g))){var Y=N.data;F.insertText(g,Y)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Ui(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var Y of w.current)Y();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!pe.hasSelectableTarget(g,N.target)||Ui(N,v.onBlur))){var Y=pe.findDocumentOrShadowRoot(g);if(k.latestElement!==Y.activeElement){var{relatedTarget:q}=N,Z=pe.toDOMNode(g,g);if(q!==Z&&!(Pa(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&qf(q)&&pe.hasDOMNode(g,q)){var se=pe.toSlateNode(g,q);if(Ie.isElement(se)&&!g.isVoid(se))return}if(Ry){var re=Y.getSelection();re==null||re.removeAllRanges()}ef.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Ui(N,v.onClick)&&qf(N.target)){var Y=pe.toSlateNode(g,N.target),q=pe.findPath(g,Y);if(!F.hasPath(g,q)||Se.get(g,q)!==Y)return;if(N.detail===r3t&&q.length>=1){var Z=q;if(!(Ie.isElement(Y)&&F.isBlock(g,Y))){var se,re=F.above(g,{match:_e=>Ie.isElement(_e)&&F.isBlock(g,_e),at:q});Z=(se=re==null?void 0:re[1])!==null&&se!==void 0?se:q.slice(0,1)}var K=F.range(g,Z);ie.select(g,K);return}if(s)return;var Q=F.start(g,q),le=F.end(g,q),me=F.void(g,{at:Q}),ae=F.void(g,{at:le});if(me&&ae&&J.equals(me[1],ae[1])){var Ce=F.range(g,Q);ie.select(g,Ce)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var Y;if(pe.isComposing(g)&&(x(!1),cp.set(g,!1)),(Y=T.current)===null||Y===void 0||Y.handleCompositionEnd(N),Ui(N,v.onCompositionEnd)||ws)return;if(!Ry&&!lOt&&!oOt&&!uOt&&!cOt&&N.data){var q=_l.get(g);_l.delete(g),q!==void 0&&(wu.set(g,g.marks),g.marks=q),F.insertText(g,N.data);var Z=wu.get(g);wu.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Ui(N,v.onCompositionUpdate)&&(pe.isComposing(g)||(x(!0),cp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(pe.hasSelectableTarget(g,N.target)){var Y;if((Y=T.current)===null||Y===void 0||Y.handleCompositionStart(N),Ui(N,v.onCompositionStart)||ws)return;x(!0);var{selection:q}=g;if(q){if(ue.isExpanded(q)){F.deleteFragment(g);return}var Z=F.above(g,{match:K=>Ie.isElement(K)&&F.isInline(g,K),mode:"highest"});if(Z){var[,se]=Z;if(F.isEnd(g,q.anchor,se)){var re=F.after(g,se);ie.setSelection(g,{anchor:re,focus:re})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{pe.hasSelectableTarget(g,N.target)&&!Ui(N,v.onCopy)&&!MX(N)&&(N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&pe.hasSelectableTarget(g,N.target)&&!Ui(N,v.onCut)&&!MX(N)){N.preventDefault(),pe.setFragmentData(g,N.clipboardData,"cut");var{selection:Y}=g;if(Y)if(ue.isExpanded(Y))F.deleteFragment(g);else{var q=Se.parent(g,Y.anchor.path);F.isVoid(g,q)&&ie.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(pe.hasTarget(g,N.target)&&!Ui(N,v.onDragOver)){var Y=pe.toSlateNode(g,N.target);Ie.isElement(Y)&&F.isVoid(g,Y)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Ui(N,v.onDragStart)){var Y=pe.toSlateNode(g,N.target),q=pe.findPath(g,Y),Z=Ie.isElement(Y)&&F.isVoid(g,Y)||F.void(g,{at:q,voids:!0});if(Z){var se=F.range(g,q);ie.select(g,se)}k.isDraggingInternally=!0,pe.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&pe.hasTarget(g,N.target)&&!Ui(N,v.onDrop)){N.preventDefault();var Y=g.selection,q=pe.findEventRange(g,N),Z=N.dataTransfer;ie.select(g,q),k.isDraggingInternally&&Y&&!ue.equals(Y,q)&&!F.void(g,{at:q,voids:!0})&&ie.delete(g,{at:Y}),pe.insertData(g,Z),pe.isFocused(g)||pe.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&pe.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&pe.hasEditableTarget(g,N.target)&&!Ui(N,v.onFocus)){var Y=pe.toDOMNode(g,g),q=pe.findDocumentOrShadowRoot(g);if(k.latestElement=q.activeElement,Qg&&N.target!==Y){Y.focus();return}ef.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&pe.hasEditableTarget(g,N.target)){var Y;(Y=T.current)===null||Y===void 0||Y.handleKeyDown(N);var{nativeEvent:q}=N;if(pe.isComposing(g)&&q.isComposing===!1&&(cp.set(g,!1),x(!1)),Ui(N,v.onKeyDown)||pe.isComposing(g))return;var{selection:Z}=g,se=g.children[Z!==null?Z.focus.path[0]:0],re=Eke(Se.string(se))==="rtl";if(Tr.isRedo(q)){N.preventDefault();var K=g;typeof K.redo=="function"&&K.redo();return}if(Tr.isUndo(q)){N.preventDefault();var Q=g;typeof Q.undo=="function"&&Q.undo();return}if(Tr.isMoveLineBackward(q)){N.preventDefault(),ie.move(g,{unit:"line",reverse:!0});return}if(Tr.isMoveLineForward(q)){N.preventDefault(),ie.move(g,{unit:"line"});return}if(Tr.isExtendLineBackward(q)){N.preventDefault(),ie.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Tr.isExtendLineForward(q)){N.preventDefault(),ie.move(g,{unit:"line",edge:"focus"});return}if(Tr.isMoveBackward(q)){N.preventDefault(),Z&&ue.isCollapsed(Z)?ie.move(g,{reverse:!re}):ie.collapse(g,{edge:"start"});return}if(Tr.isMoveForward(q)){N.preventDefault(),Z&&ue.isCollapsed(Z)?ie.move(g,{reverse:re}):ie.collapse(g,{edge:"end"});return}if(Tr.isMoveWordBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)&&ie.collapse(g,{edge:"focus"}),ie.move(g,{unit:"word",reverse:!re});return}if(Tr.isMoveWordForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)&&ie.collapse(g,{edge:"focus"}),ie.move(g,{unit:"word",reverse:re});return}if(jd){if((Nke||Ry)&&Z&&(Tr.isDeleteBackward(q)||Tr.isDeleteForward(q))&&ue.isCollapsed(Z)){var le=Se.parent(g,Z.anchor.path);if(Ie.isElement(le)&&F.isVoid(g,le)&&(F.isInline(g,le)||F.isBlock(g,le))){N.preventDefault(),F.deleteBackward(g,{unit:"block"});return}}}else{if(Tr.isBold(q)||Tr.isItalic(q)||Tr.isTransposeCharacter(q)){N.preventDefault();return}if(Tr.isSoftBreak(q)){N.preventDefault(),F.insertSoftBreak(g);return}if(Tr.isSplitBlock(q)){N.preventDefault(),F.insertBreak(g);return}if(Tr.isDeleteBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g);return}if(Tr.isDeleteForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g);return}if(Tr.isDeleteLineBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"line"});return}if(Tr.isDeleteLineForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"line"});return}if(Tr.isDeleteWordBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"word"});return}if(Tr.isDeleteWordForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&pe.hasEditableTarget(g,N.target)&&!Ui(N,v.onPaste)&&(!jd||hOt(N.nativeEvent)||Ry)&&(N.preventDefault(),pe.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),ne.createElement(f3t,{decorations:$,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},p3t=e=>{var{attributes:t,children:n}=e;return ne.createElement("span",rc({},t),n,ws&&ne.createElement("br",null))},m3t=()=>[],g3t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),r0(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Ui=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},MX=e=>qf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),v3t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},y3t=h.createContext(!1),b3t=h.createContext({});function x3t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var w3t=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],C3t=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:i,initialValue:s}=e,a=i0(e,w3t),[c,u]=ne.useState(()=>{if(!Se.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(zo.stringify(s)));if(!F.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(zo.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:d,onChange:f}=x3t(t),p=h.useCallback(g=>{var y;switch(r&&r(t.children),g==null||(y=g.operation)===null||y===void 0?void 0:y.type){case"set_selection":o==null||o(t.selection);break;default:i==null||i(t.children)}u(x=>({v:x.v+1,editor:t})),f(t)},[t,f,r,o,i]);h.useEffect(()=>(cM.set(t,p),()=>{cM.set(t,()=>{})}),[t,p]);var[m,v]=h.useState(pe.isFocused(t));return h.useEffect(()=>{v(pe.isFocused(t))},[t]),_x(()=>{var g=()=>v(pe.isFocused(t));return Bke>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),ne.createElement(b3t.Provider,{value:d},ne.createElement(r5e.Provider,{value:c},ne.createElement(L9.Provider,{value:c.editor},ne.createElement(y3t.Provider,{value:m},n))))},FX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},LX=(e,t,n)=>{var r=pe.toDOMRange(e,t).getBoundingClientRect(),o=pe.toDOMRange(e,n).getBoundingClientRect();return FX(r,o)&&FX(o,r)},_3t=(e,t)=>{var n=F.range(e,ue.end(t)),r=Array.from(F.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(LX(e,F.range(e,r[o]),n))return F.range(e,r[o],n);if(r.length<2)return F.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)LX(e,F.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return F.range(e,r[i],n)};function BX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function NX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BX(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var S3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return LT.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=z9.get(r))===null||f===void 0||f(),!_l.get(r)&&(p=gs.get(r))!==null&&p!==void 0&&p.length&&_l.set(r,null),wu.delete(r),a(u,d)},r.removeMark=u=>{var d;!_l.get(r)&&(d=gs.get(r))!==null&&d!==void 0&&d.length&&_l.set(r,null),wu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=F.above(r,{match:v=>Ie.isElement(v)&&F.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=F.range(r,f,r.selection.anchor),m=_3t(r,p);ue.isCollapsed(m)||ie.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],p=gs.get(r);if(p!=null&&p.length){var m=p.map(P=>kOt(P,u)).filter(Boolean);gs.set(r,m)}var v=Nd.get(r);v&&Nd.set(r,jX(r,v,u));var g=Bd.get(r);if(g!=null&&g.at){var y=It.isPoint(g==null?void 0:g.at)?fM(r,g.at,u):jX(r,g.at,u);Bd.set(r,y?NX(NX({},g),{},{at:y}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...og(r,u.path));break}case"set_selection":{var x;(x=wb.get(r))===null||x===void 0||x.unref(),wb.delete(r);break}case"insert_node":case"remove_node":{d.push(...og(r,J.parent(u.path)));break}case"merge_node":{var b=J.previous(u.path);d.push(...og(r,b));break}case"move_node":{var w=J.common(J.parent(u.path),J.parent(u.newPath));d.push(...og(r,w));var C;J.isBefore(u.path,u.newPath)?(d.push(...og(r,J.parent(u.path))),C=u.newPath):(d.push(...og(r,J.parent(u.newPath))),C=u.path);var _=Se.get(t,J.parent(C)),S=pe.findKey(r,_),E=F.pathRef(r,J.parent(C));f.push([E,S]);break}}o(u);for(var[j,k]of d){var[T]=F.node(r,j);Lk.set(T,k)}for(var[A,D]of f)if(A.current){var[I]=F.node(r,A.current);Lk.set(I,D)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=F.void(r,{at:f.path}),v=F.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=pe.toDOMRange(r,d),y=g.cloneContents(),x=y.childNodes[0];if(y.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[b]=v,w=g.cloneRange(),C=pe.toDOMNode(r,b);w.setEndAfter(C),y=w.cloneContents()}if(m&&(x=y.querySelector("[data-slate-spacer]")),Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),Uke(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),y.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=y.ownerDocument.createElement("div");return k.appendChild(y),k.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",Yke(k)),y.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||yOt(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&ie.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=Bke<18?OUe.unstable_batchedUpdates:f=>f();d(()=>{var f=cM.get(r);f&&f(u),i(u)})},r},og=(e,t)=>{var n=[];for(var[r,o]of F.levels(e,{at:t})){var i=pe.findKey(e,r);n.push([o,i])}return n},E3t=Qve,zX=1/0,k3t=17976931348623157e292;function j3t(e){if(!e)return e===0?e:0;if(e=E3t(e),e===zX||e===-zX){var t=e<0?-1:1;return t*k3t}return e===e?e:0}var i5e=j3t,T3t=i5e;function A3t(e){var t=T3t(e),n=t%1;return t===t?n?t-n:t:0}var D3t=A3t,I3t=K_e,P3t=ah,O3t=D3t,R3t=Math.max;function $3t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:O3t(n);return o<0&&(o=R3t(r+o,0)),I3t(e,P3t(t),o)}var s5e=$3t;const U9=Pe(s5e);var M3t=e9,F3t=4;function L3t(e){return M3t(e,F3t)}var B3t=L3t;const a5e=Pe(B3t);function bS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Bk(e){return bS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>bS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>bS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function BP(e){return bS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Xu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function VX(e){return Xu(e)?e.jsonType==="object":!1}function N3t(e){return Xu(e)?e.jsonType==="array":!1}function z3t(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function V3t(e){return Xu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function H3t(e){if(!Xu(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(gM),n=e.fields.find(pM),r=e.fields.find(mM);return gM(t)&&pM(n)&&mM(r)}function pM(e){return!Xu(e)||e.name!=="style"?!1:Xu(e.type)&&e.type.jsonType==="string"}function mM(e){return!Xu(e)||e.name!=="listItem"?!1:Xu(e.type)&&e.type.jsonType==="string"}function gM(e){return!Xu(e)||e.name!=="children"||!N3t(e.type)?!1:e.type.of.some(V3t)}function W9(e){return e.type?W9(e.type):e.name==="block"}function U3t(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(W9);if(!H3t(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(gM))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&VX(c)),a=e.of.filter(c=>c.name!==r.name&&VX(c));return{styles:W3t(r),decorators:q3t(i),annotations:Y3t(i),lists:G3t(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function W3t(e){const t=e.fields.find(pM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=l5e(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function Y3t(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function q3t(e){return e.decorators}function G3t(e){const t=e.fields.find(mM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=l5e(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function l5e(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>z3t(n)?n:{title:n,value:n}):[]}const K3t=Object.prototype.toString;function c5e(e){switch(K3t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Z3t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return T9(t),t}const u5e=[];for(let e=0;e<256;++e)u5e[e]=(e+256).toString(16).substring(1);function vM(e){return Z3t(e).reduce((t,n)=>t+u5e[n],"").slice(0,e)}const X3t=["pre","textarea","code"],a0="normal",bs=Object.freeze({_type:"block",markDefs:[],style:a0}),xS=Object.freeze({_type:"span",marks:[]}),Nk={p:bs,blockquote:{...bs,style:"blockquote"}},d5e={span:{object:"text"}},zk={ol:{object:null},ul:{object:null}},Vk={h1:{...bs,style:"h1"},h2:{...bs,style:"h2"},h3:{...bs,style:"h3"},h4:{...bs,style:"h4"},h5:{...bs,style:"h5"},h6:{...bs,style:"h6"}},Q3t={br:{...bs,style:a0}},f5e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},h5e={li:{...bs,style:a0,level:1,listItem:"bullet"}},J3t={...Nk,...d5e,...zk,...h5e,...Vk,...Q3t};go(Object.values(J3t).filter(e=>"style"in e).map(e=>e.style));go(Object.values(f5e));const nm={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var eRt=(e,t)=>{function n(r){var o,i;if(r.nodeType===nm.BOOLEAN_TYPE&&!X3t.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const tRt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var nRt=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,nm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(tRt.join("|"),t,null,nm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const rRt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,oRt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],iRt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],sRt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function aRt(e){return rRt.test(e)}var lRt=(e,t)=>{var n;if(!aRt(e))return t;const r=t.evaluate(oRt.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,nm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(iRt.join("|"),t,null,nm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=sRt[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},cRt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,nm.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,nm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},uRt=[eRt,lRt,cRt,nRt];function dRt(e){const t=U3t(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Ar(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function fRt(e,t){const n=t(hRt(e));return uRt.forEach(r=>{r(e,n)}),n}function hRt(e){return e.trim()}function pRt(){if(c5e(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function mRt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),Bk(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function gRt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function vRt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function HX(e){return[" "," "].includes(e)}function yRt(e){return e.forEach(t=>{Bk(t)&&t.children.forEach((n,r)=>{if(!bv(n))return;const o=gRt(t,r),i=vRt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&bv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&bv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Ut(i.marks,n.marks)&&HX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Ut(o.marks,n.marks)&&HX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function bRt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!Bk(o[r-1])&&Bk(i))return i.children.push(n),t;const s={...bs,children:[n]};return t.push(s),t},[])}function xRt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function bv(e){return e._type==="span"}function UX(e){return e._type==="block"}function WX(e){return e._type==="__decorator"}function YX(e){return e._type==="__annotation"}function dh(e){return e.nodeType===1}function wRt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function CRt(e,t){return[{deserialize(n){if(Ar(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Ar(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...xS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Ar(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...xS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Ar(n)!=="blockquote")return;const o={...Nk,...Vk};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...Nk,...Vk},i=Ar(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Ar(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=bs),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Ar(n);if(!(!o||!(o in d5e)))return r(n.childNodes)}},{deserialize(n,r){if(Ar(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Ar(n);if(!(!o||!(o in zk)))return r(n.childNodes)}},{deserialize(n){if(Ar(n)==="br")return{...xS,text:`
`}}},{deserialize(n,r,o){const i=Ar(n),s=i?h5e[i]:void 0,a=Ar(n.parentNode)||"";if(!s||!n.parentNode||!zk[a])return;const c=wRt(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=f5e[Ar(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Ar(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=dh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:vM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const p5e=Object.keys(zk);function _Rt(e){const t=dh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function SRt(e){const t=dh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function qX(e){return dh(e)&&!!e.getAttribute("data-is-google-docs")}function ERt(e){const t=Ar(e.parentNode);if(!(t&&!p5e.includes(t)))return Ar(e.parentNode)==="ul"?"bullet":"number"}function kRt(e){let t=0;if(Ar(e)==="li"){let n=e.parentNode;for(;n;){const r=Ar(n);r&&p5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const jRt={...Nk,...Vk};function TRt(e,t){const n=Ar(e.firstChild),r=n&&jRt[n];return!r||!t.includes(r.style)?a0:r.style}function ARt(e,t){return[{deserialize(n){if(dh(n)&&Ar(n)==="span"&&qX(n)){const r={...xS,marks:[],text:n.textContent};return SRt(n)&&r.marks.push("strong"),_Rt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Ar(n)==="li"&&qX(n))return{...bs,listItem:ERt(n),level:kRt(n),style:TRt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function DRt(e){const t=dh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function IRt(e){const t=dh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function PRt(e){return dh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function ORt(){return[{deserialize(e,t){if(Ar(e)==="p"&&PRt(e))return{...bs,listItem:DRt(e),level:IRt(e),style:a0,children:t(e.childNodes)}}}]}function RRt(e,t){return[...ORt(),...ARt(e,t),...CRt(e,t)]}class $Rt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=yRt(mRt(bRt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>Pn(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(W9);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(xRt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),y=c5e(g);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:WX(g)?p=this.deserializeDecorator(g):YX(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&UX(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&Ar(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&UX(g)&&g.style==="blockquote"&&g.children.forEach((x,b)=>{bv(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===g.children.length-1)&&g.children.splice(b,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(WX(d))return this.deserializeDecorator(d);if(bv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(YX(d))return this.deserializeAnnotation(d);if(bv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=RRt(t,dRt(t));this.rules=[...o,...i];const s=r.parseHtml||pRt();this.blockContentType=t,this.parseHtml=a=>fRt(a,s).body}}function Sx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:vM(12)};const n={_key:vM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&BP(a)&&BP(c)&&Ut(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),BP(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function GX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new $Rt(t,n).deserialize(e).map(o=>Sx(o))}function KX(e){return r9.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function ZX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(m5e);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:MRt(o),decorators:FRt(a),lists:LRt(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function MRt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function FRt(e){return e.decorators}function LRt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function m5e(e){return e.type?m5e(e.type):e.name==="block"?e:null}const yM="sanity-pte:";Ss(yM);function qr(e){const t="".concat(yM).concat(e);return Ss&&Ss.enabled(t)?Ss(t):Ss(yM)}const Ex=()=>Gw(12),g5e=h.createContext(Ex),BRt=()=>{const e=h.useContext(g5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Hk=new WeakMap,wS=new WeakMap,A_=new WeakMap,K1=new WeakMap,Z1=new WeakMap,X1=new WeakMap,bM=new WeakMap,Sa=new WeakMap,Uk=new WeakMap;function NRt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function xM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Kw(e){const[t,n]=e;return[t,n]}function XX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function Y9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function NT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function v5e(e){let t=e.map(f=>Kw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===Ct?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Zn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Zn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=zT(t)),t=y5e(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Zn){const f=t[s-1][1],p=t[s][1],m=XX(f,p),v=XX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Ct,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[Ct,f.substring(0,v)]),t[s-1][0]=Zn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Dn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const QX=/[^a-zA-Z0-9]/,JX=/\s/,eQ=/[\r\n]/,zRt=/\n\r?\n$/,VRt=/^\r?\n\r?\n/;function y5e(e){const t=e.map(o=>Kw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(QX),u=a.match(QX),d=c&&s.match(JX),f=u&&a.match(JX),p=d&&s.match(eQ),m=f&&a.match(eQ),v=p&&o.match(zRt),g=m&&i.match(VRt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Ct&&t[r+1][0]===Ct){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=NT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function zT(e){let t=e.map(u=>Kw(u));t.push([Ct,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Zn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case Ct:r+o>1?(r!==0&&o!==0&&(a=Y9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Ct?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Ct,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=NT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Zn,s]),n++),n++):n!==0&&t[n-1][0]===Ct?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ct&&t[n+1][0]===Ct&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=zT(t)),t}function HRt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function b5e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Kw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Ct?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&HRt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Zn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=zT(n)),n}function URt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return tQ(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return tQ(e,t,S,E,n)}}}}return[[Dn,e],[Zn,t]]}function tQ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=rm(i,s,{checkLines:!1,deadline:o}),d=rm(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function WRt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=nQ(r,o,Math.ceil(r.length/4)),s=nQ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function nQ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=Y9(e.slice(n),t.slice(o)),f=NT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function YRt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function qRt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function GRt(e,t,n){let r=e,o=t;const i=qRt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=rm(r,o,{checkLines:!1,deadline:n.deadline});YRt(a,s),a=v5e(a),a.push([Ct,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Zn:d++,p+=a[c][1];break;case Dn:u++,f+=a[c][1];break;case Ct:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=rm(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function KRt(e,t,n){let r;if(!e)return[[Zn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Zn,o.substring(0,s)],[Ct,i],[Zn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Zn,t]];const a=WRt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=rm(c,d,n),v=rm(u,f,n);return m.concat([[Ct,p]],v)}return n.checkLines&&e.length>100&&t.length>100?GRt(e,t,n):URt(e,t,n.deadline)}const Dn=-1,Zn=1,Ct=0;function q9(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=rm(e,t,XRt(n||{}));return JRt(r),r}function rm(e,t,n){let r=e,o=t;if(r===o)return r?[[Ct,r]]:[];let i=Y9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=NT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=KRt(r,o,n);return s&&c.unshift([Ct,s]),a&&c.push([Ct,a]),c=zT(c),c}function ZRt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function XRt(e){return{checkLines:!0,deadline:ZRt(e.timeout||1),...e}}function D_(e,t,n){return n===1?e+t:t+e}function I_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function QRt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function rQ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Zn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===Ct){if(o===null&&i===null){const[f,p]=I_(e[t][1],n);e[t][1]=f,e[s][1]=D_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&QRt(e,o,i,n)){const[u,d]=I_(e[o][1],r),[f]=I_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=D_(e[t][1],d,n);return}const[a,c]=I_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Zn,c]),i!==null&&i>=s&&i++):e[o][1]=D_(e[o][1],c,r),i===null?e.splice(s,0,[Dn,c]):e[i][1]=D_(e[i][1],c,r)}function JRt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];NRt(i)&&n===Ct&&rQ(e,t,1),xM(o)&&n===Ct&&rQ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const e$t={threshold:.5,distance:1e3};function t$t(e){return{...e$t,...e}}const n$t=32;function r$t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>n$t)throw new Error("Pattern too long for this browser.");const o=t$t(r),i=o$t(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function o$t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function NP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return r$t(e,t,r)}function Wk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function G9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Zn&&(t[n]=e[n][1]);return t.join("")}function x5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function tf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=w5e(r)}return t}function i$t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=w5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Kw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function w5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const zd=32,K9=4,s$t={margin:4};function zP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...s$t,...e}}function a$t(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=q9(e,t,{checkLines:!0});return r.length>2&&(r=v5e(r),r=b5e(r)),VP(e,r,zP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return VP(G9(e),e,zP(n));if(typeof e=="string"&&t&&Array.isArray(t))return VP(e,t,zP(n));throw new Error("Unknown call format to make()")}function VP(e,t,n){if(t.length===0)return[];const r=[];let o=Wk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=tf(g);switch(!i&&v!==Ct&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Zn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Dn:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case Ct:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(oQ(o,d,n),r.push(o),o=Wk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Zn&&(s+=y,c+=x),v!==Dn&&(a+=y,u+=x)}return i&&(oQ(o,d,n),r.push(o)),r}function oQ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<zd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&xM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Ct,s]);const a=s.length,c=tf(s);let u=e.start2+e.length1+o;u<t.length&&xM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Ct,d]);const f=d.length,p=tf(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function l$t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Zn:n+=s.length;break;case Dn:r+=s.length;break;case Ct:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function iQ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Zn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function c$t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Ct)i.unshift([Ct,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Ct)i.push([Ct,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function u$t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K9;const n=zd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Wk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=tf(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([Ct,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=tf(m);if(p===Zn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Dn&&c.diffs.length===1&&c.diffs[0][0]===Ct&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=tf(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===Ct?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=x5e(c.diffs),a=a.substring(a.length-t);const d=G9(o.diffs).substring(0,t),f=tf(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Ct?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([Ct,d])),u||e.splice(++r,0,c)}}}function C5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=i$t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||K9,s=n.deleteThreshold||.4,a=c$t(o,i);r=a+r+a,u$t(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=G9(o[d].diffs);let m,v=-1;if(p.length>zd?(m=NP(r,p.substring(0,zd),f),m!==-1&&(v=NP(r,p.substring(p.length-zd),f+p.length-zd),(v===-1||m>=v)&&(m=-1))):m=NP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+zd),p===g)r=r.substring(0,m)+x5e(o[d].diffs)+r.substring(m+p.length);else{let y=q9(p,g,{checkLines:!1});if(p.length>zd&&l$t(y)/p.length>s)u[d]=!1;else{y=y5e(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==Ct&&(b=iQ(y,x)),C[0]===Zn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===Dn&&(r=r.substring(0,m+b)+r.substring(m+iQ(y,x+C[1].length))),C[0]!==Dn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function d$t(e){return e.map(f$t).join("")}function f$t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Zn:u="+";break;case Dn:u="-";break;case Ct:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const h$t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function Z9(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(h$t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Wk(P_(o[1]),P_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=P_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=P_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=tf(c)-c.length;if(a==="-")i.diffs.push([Dn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Zn,c]),i.length2-=u;else if(a===" ")i.diffs.push([Ct,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function P_(e){return parseInt(e,10)}function _5e(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function sQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=a$t(e,t),o=d$t(r);return{type:"diffMatchPatch",path:n,value:o}}function fu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function vl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Gs(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const p$t=[],m$t=[],S5e="void-child";function up(e,t){const n=t[e._key];return n&&Ut(e,n)?n:(t[e._key]=e,e)}function Tc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:S5e,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=typeof d.children>"u",g=v?[{_type:n.span.name,_key:Ex(),text:"",marks:[]}]:d.children.map(y=>{const{_type:x,_key:b,...w}=y;return x!=="span"?(f=!0,up({_type:x,_key:b,children:c,value:w,__inline:!0},r)):x==="span"&&!("marks"in w)?up({_key:b,_type:x,...w,marks:m$t},r):y});return!p&&!m&&!v&&!f&&Ie.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=p$t),up({_type:i,_key:s,...a,children:g},r))}return up({_type:i,_key:s,children:c,value:a},r)}):[]}function xr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...y}=u;return up({...y,...f,_key:p,_type:m},n)}return u});return a?up({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return up({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function Yk(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Ie.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&xe.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Xh=qr("operationToPatches");Xh.enabled=!1;function g$t(e){const t=e.block.name;function n(d,f,p){Xh.enabled&&Xh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],y=p[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",w=sQ(b,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(b)&&b.text,C=sQ(w||"",g.text,y);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=aEe({...d.children[f.path[0]],...f.newProperties},lEe);return[vl(xr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=Yn(f.newProperties,x);y.push(vl(b,[{_key:v},"children",{_key:g},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",y=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:y==null?void 0:y._key;return x?[fu([xr([f.node],t)[0]],g,[{_key:x}])]:[_5e(p,[]),fu([xr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",y={...f.node};!y._type&&xe.isText(y)&&(y._type="span",y.marks=[]);const b=xr([{_key:"bogus",_type:t,children:[y]}],t)[0].children[0];return[fu([b],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Xh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const y=xr([d.children[f.path[0]+1]],t)[0];y&&(m.push(fu([y],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(b=>{const w=[{_key:g._key},"children",{_key:b._key}];m.push(Gs(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const y=xr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(fu(y,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(vl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Gs([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Gs([{_key:m._key},"children",{_key:v._key}])]:(Xh("Span not found in editor trying to remove node"),[])}else return Xh("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const y=xr([d.children[f.path[0]-1]],t)[0];m.push(vl(y,[{_key:y._key}])),m.push(Gs([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const y=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(vl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),y&&m.push(Gs([{_key:v._key},"children",{_key:y._key}])))}else Xh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";m.push(Gs([{_key:v._key}])),m.push(fu([xr([v],t)[0]],y,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const y=v.children[f.path[1]],x=g.children[f.newPath[1]],b=f.newPath[1]===g.children.length?"after":"before",w=xr([v],t)[0].children[f.path[1]];m.push(Gs([{_key:v._key},"children",{_key:y._key}])),m.push(fu([w],b,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function aQ(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function lQ(e,t){if(!t)return[];const[n,r]=Array.from(F.nodes(t,{at:[],match:s=>$r(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ie.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Ut([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Ie.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function dp(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&aQ(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&aQ(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function CS(e,t){if(!e||!t)return null;const n={path:lQ(e.anchor,t),offset:e.anchor.offset},r={path:lQ(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function wM(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const Q1=qr("API:editable");function v$t(e,t,n){return function(o){return e.setEditable({focus:()=>{pe.focus(o)},blur:()=>{pe.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...F.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=CS(i,o);s?ie.select(o,s):ie.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Se.descendant(o,o.selection.focus.path.slice(0,1));if(i)return xr([i],t.block.name,Sa.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Se.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return xr([i],t.block.name,Sa.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(F.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=Tc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=Se.get(o,f);return p&&m._type!==t.span.name&&(Q1("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),ie.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=dp(xr(o.children,t.block.name,Sa.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=Tc([{_key:n(),_type:i.name,...s||{}}],e)[0];return F.insertNode(o,c),o.onChange(),((a=dp(xr(o.children,t.block.name,Sa.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=CS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=F.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[xr([a],t.block.name)[0],[{_key:a._key}]];const u=xr([a],t.block.name,Sa.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(F.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=pe.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=F.nodes(o,{at:o.selection,match:c=>xe.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=F.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{xe.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=F.node(o,a.focus,{depth:1});if(Ie.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){ie.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=F.node(o,a.focus,{depth:2});if(o.selection){F.withoutNormalizing(o,()=>{ie.setNodes(o,{},{match:xe.isText,split:!0}),o.selection&&xe.isText(d)&&(ie.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),F.normalize(o),o.onChange();const f=dp(xr(o.children,t.block.name,Sa.get(o)),o.selection,t);if(f&&typeof c._key=="string")return F.withoutNormalizing(o,()=>{o.selection&&(ie.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=CS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){Q1("Deleting content in selection"),ie.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(Q1("Deleting blocks touched by selection"),ie.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Ie.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(Q1("Deleting children touched by selection"),ie.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Ie.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(Q1("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,c]=F.node(o,s,{depth:2});xe.isText(a)&&a.marks&&typeof a.text=="string"&&(ie.select(o,c),s=o.selection)}F.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;ie.setNodes(o,{},{match:xe.isText,split:!0}),o.onChange(),[...F.nodes(o,{at:s,match:c=>xe.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=F.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(xe.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];ie.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),F.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=Uk.get(o.selection);if(s)return s;i=dp(xr(o.children,t.block.name,Sa.get(o)),o.selection,t),Uk.set(o.selection,i)}return i},getValue:()=>xr(o.children,t.block.name,Sa.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function y$t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const qk=new WeakMap;function kx(e,t){const n=E5e(e);qk.set(e,!0),t(),qk.set(e,n)}function E5e(e){return qk.get(e)}function b$t(e,t){return function(r){qk.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!E5e(r)||!("_key"in s.node);F.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Ie.isElement(a)&&a._type===e.block.name){a._key||ie.setNodes(r,{_key:t()},{at:c});for(const[u,d]of Se.children(r,c))if(!u._key){ie.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const Gk=new WeakMap;function CM(e,t){const n=k5e(e);Gk.set(e,!1),t(),Gk.set(e,n)}function k5e(e){return Gk.get(e)}const cQ="before",uQ="after";function x$t(e,t,n){if(t!==cQ&&t!==uQ)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(cQ," or ").concat(uQ));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=dQ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...dQ(s)),d}function dQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const fQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function w$t(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function C$t(e,t){if(typeof t=="number")return t;const n=U9(e,t);return n===-1?!1:n}function _$t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!fQ(t.value,"from")||!fQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return w$t(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=C$t(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return x$t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=X9(n[i],{...t,path:o}),n}function S$t(e,t){const n=a5e(e);if(t.path.length===0){if(t.type==="set"){if(!uw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?$i(n,r):(n[r]=X9(n[r],{...t,path:o}),n)}const j5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},E$t=Object.keys(j5e);function k$t(e,t){if(!E$t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return j5e[t.type](e,t.value)}const T5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=C5e(Z9(t),e,{allowExceedingIndices:!0});return n}},j$t=Object.keys(T5e);function T$t(e,t){if(!j$t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=T5e[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function A$t(e,t){return t.reduce(X9,e)}function D$t(e,t){return Array.isArray(e)?_$t(e,t):CT(e)?T$t(e,t):uw(e)?S$t(e,t):k$t(e,t)}function X9(e,t){return D$t(e,t)}const Cr=qr("applyPatches"),Q9=Cr.enabled&&!0;function I$t(e){let t;return function(n,r){let o=!1;Q9&&(Cr(`

NEW PATCH =============================================================`),Cr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=O$t(n,r,e);break;case"unset":o=$$t(n,r,t);break;case"set":o=R$t(n,r);break;case"diffMatchPatch":o=P$t(n,r);break;default:Cr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function P$t(e,t){const{block:n,child:r,childPath:o}=VT(e,t.path);if(!n)return Cr("Block not found"),!1;if(!r||!o)return Cr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!xe.isText(r))return!1;const s=Z9(t.value),[a]=C5e(s,r.text,{allowExceedingIndices:!0}),c=b5e(q9(r.text,a),5);xs(e,"before");let u=0;for(const[d,f]of c)d===Zn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===Dn?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===Ct&&(u+=f.length);return xs(e,"after"),!0}function O$t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=VT(e,t.path);if(!r||!i)return Cr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return Cr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=Tc(m,{schemaTypes:n},bM.get(e)),y=i[0],x=v==="after"?y+1:y;return Cr("Inserting blocks at path [".concat(x,"]")),xs(e,"before"),ie.insertNodes(e,g,{at:[x]}),xs(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return Cr("Child not found"),!1;const u=r&&Tc([{...r,children:a}],{schemaTypes:n},bM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return Cr("Inserting children at path ".concat(p)),xs(e,"before"),u&&Ie.isElement(u[0])&&ie.insertNodes(e,u[0].children,{at:p}),xs(e,"after"),!0}function R$t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=VT(e,t.path);if(!r)return Cr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return Cr("Ignoring setting void value"),!1;if(xs(e,"before"),a&&i&&s){if(xe.isText(n)&&xe.isText(i)){const c=i.text;n.text!==c&&(Cr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else Cr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Ie.isElement(r)&&t.path.length===1&&o){Cr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=A$t([r.value],[t])[0];return ie.setNodes(e,{...r,value:c},{at:o}),!0}return xs(e,"after"),!0}function $$t(e,t,n){if(t.path.length===0){Cr("Removing everything"),xs(e,"before");const a=e.selection;return ie.deselect(e),e.children.forEach((c,u)=>{ie.removeNodes(e,{at:[u]})}),ie.insertNodes(e,e.createPlaceholderBlock()),a&&ie.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),xs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=VT(e,t.path);if(t.path.length===1){if(!r||!o)return Cr("Block not found"),!1;const a=o[0];return Cr("Removing block at path [".concat(a,"]")),xs(e,"before"),ie.removeNodes(e,{at:[a]}),xs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return Cr("Child not found"),!1;const a=s[1];return Cr("Unsetting child at path ".concat(JSON.stringify(s))),xs(e,"before"),Q9&&Cr("Removing child at path ".concat(JSON.stringify([s,a]))),ie.removeNodes(e,{at:s}),xs(e,"after"),!0}return!1}function A5e(e){return typeof e=="object"&&"_key"in e}function xs(e,t){Q9&&(Cr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),Cr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function M$t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=A5e(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function VT(e,t){const{block:n,path:r}=M$t(e,t);if(!(Ie.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=A5e(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function D5e(e,t){const n=I5e(e)||!1;Hk.set(e,!0),t(),Hk.set(e,n)}function I5e(e){return Hk.get(e)}function F$t(e){return wS.get(e)}const Jo=qr("plugin:withUndoRedo"),hQ=Jo.enabled&&!1,xv=new WeakMap,HP=new WeakMap,L$t=1e3,P5e=e=>{const t=xv.get(e);return t===void 0?!0:t},B$t=e=>(HP.get(e)||HP.set(e,[]),HP.get(e)||[]);function N$t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=xr(o.children,r.name);const s=B$t(o);n&&o.subscriptions.push(()=>{Jo("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Jo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),xv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Jo("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=V$t(c,m),g=P5e(o);let y=!0;if(g){if(p?u.length===0&&(y=z$t(c,m)||v):y=!1,p&&y)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[U$t(o)],c],timestamp:new Date};f.push(x),Jo("Created new undo step",p)}for(;f.length>L$t;)f.shift();H$t(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Jo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Pn(f.map(m=>pQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),wM(!!o.selection);try{F.withoutNormalizing(o,()=>{jx(o,()=>{f.map(Zg.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Jo("Could not perform undo step",p),s.splice(0,s.length),ie.deselect(o),o.history={undos:[],redos:[]},xv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Jo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Pn(f.map(m=>pQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),wM(!!o.selection);try{F.withoutNormalizing(o,()=>{jx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Jo("Could not perform redo step",p),s.splice(0,s.length),ie.deselect(o),o.history={undos:[],redos:[]},xv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function pQ(e,t,n,r,o){hQ&&(Jo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Jo("Operation ".concat(JSON.stringify(n))),Jo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Ut({_key:a._key},t.path[0]));return Jo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[mQ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Ut({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Jo("Skipping transformation that targeted removed block"),[]):(hQ&&(Jo("Selection ".concat(JSON.stringify(e.selection))),Jo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[mQ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Jo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=W$t(e,i);return!s||!Ut({_key:s._key},t.path[0])?[i]:(Z9(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((y,x)=>{const[b,w]=y;b===Zn?(m+=w.length,v+=w.length):b===Dn?(m-=w.length,v-=w.length):b===Ct&&(g.slice(x).every(C=>{let[_]=C;return _===Ct})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const y=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,b=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(y&&x||b&&w)&&([y,x,b,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),y&&x&&(i.properties={focus:y,anchor:x}),b&&w&&(i.newProperties={focus:b,anchor:w}))}}),[i])}return[i]}function mQ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const z$t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&J.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&J.equals(e.path,t.path)),V$t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),H$t=e=>e.type!=="set_selection";function jx(e,t){const n=P5e(e);xv.set(e,!1),t(),xv.set(e,n)}function U$t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function W$t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const O_=qr("plugin:withPatches");function Y$t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=I$t(i);return function(u){Hk.set(u,!1),Gk.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;D5e(u,()=>{F.withoutNormalizing(u,()=>{CM(u,()=>{jx(u,()=>{kx(u,()=>{v.forEach(y=>{(y.type==="insert"||y.type==="unset")&&wM(!!u.selection),O_.enabled&&O_("Handling remote patch ".concat(JSON.stringify(y))),g=a(u,y)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(f=f.concat(y),p())};return n&&u.subscriptions.push(()=>{O_("Subscribing to patches$");const v=n.subscribe(m);return()=>{O_("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const y=Yk(s,i);d(v);const x=Yk(u.children,i);if(!k5e(u))return u;switch(y&&!x&&v.type!=="set_selection"&&g.push(fu(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!y&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Gs([])],t.next({type:"unset",previousValue:xr(s,i.block.name,Sa.get(u))})),y&&g.length>0&&(g=[_5e([],[]),...g]),g.length>0&&g.forEach(b=>{t.next({type:"patch",patch:{...b,origin:"local"}})}),u},u}}const q$t=qr("plugin:withPlaceholderBlock");function G$t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(q$t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const R_=qr("plugin:withPortableTextBlockStyle");function K$t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!J.equals(s,a.path)){const[c]=F.node(r,[a.path[0]+1,0]);if(xe.isText(c)&&c.text===""){R_("Normalizing split node to ".concat(t," style"),a),ie.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(R_("Unsetting block style '".concat(i,"'")),ie.setNodes(r,{...c,style:t},{at:u})):(i?R_("Setting style '".concat(i,"'")):R_("Setting default style",t),ie.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const jh=qr("plugin:withPortableTextLists"),UP=10;function Z$t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(jh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(jh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>Ie.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};jh("Unsetting list '".concat(r,"'")),ie.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;jh("Setting list '".concat(r,"'")),ie.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...F.nodes(n,{at:n.selection,match:o=>Ie.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&xe.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Ie.isElement(i)&&(jh("Unset list"),ie.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...F.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,jh("Decrementing list level",Math.min(UP,Math.max(1,c)))):(c++,jh("Incrementing list level",Math.min(UP,Math.max(1,c)))),ie.setNodes(n,{level:Math.min(UP,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...F.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Td=qr("plugin:withPortableTextMarkModel");function X$t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(ie.select(i,{...i.selection}),i.selection={...i.selection});const d=dp(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=xe.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(Td("Adding .marks to span node"),ie.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[y,x]=F.node(i,[g.path[0]-1]);if(Td("Copying markDefs over to merged block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[],w=go([...b,...g.properties.markDefs]);Ut(w,y.markDefs)||(ie.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Ie.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1]);if(Td("Copying markDefs over to split block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[];ie.setNodes(i,{markDefs:go([...b,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1,0]);xe.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(ie.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[y,x]=F.node(i,[g.path[0]]);i.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&xe.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(ie.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(ie.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=F.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(F.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(xe.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),ie.splitNodes(i,{match:xe.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...F.marks(i)||{}}.marks||[]).filter(y=>c.includes(y));ie.setNodes(i,{marks:g},{at:J.next(m.focus.path)}),Td("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){ie.setNodes(i,{},{match:xe.isText,split:!0});const f=[...F.nodes(i,{at:i.selection,match:xe.isText})];if(Pn(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;F.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const y=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];ie.setNodes(i,{marks:y},{at:g,match:xe.isText,split:!0,hanging:!0})})}),F.normalize(i)}else{const f={...F.marks(i)||{}}.marks||[],p={...F.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))F.withoutNormalizing(i,()=>{ie.setNodes(i,{},{match:xe.isText,split:!0}),i.selection&&[...F.nodes(i,{at:i.selection,match:xe.isText})].forEach(m=>{let[v,g]=m;const y=i.children[g[0]];Ie.isElement(y)&&y.children.includes(v)&&ie.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),F.normalize(i);else{const p={...F.marks(i)||{}}.marks||[],m={...F.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...F.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(F.nodes(i,{match:xe.isText,at:i.selection})).forEach(p=>{const[m]=p;f=go([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Td("Remove mark '".concat(d,"'")),F.removeMark(i,d)):(Td("Add mark '".concat(d,"'")),F.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(F.nodes(o,{at:F.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?F.node(o,J.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];xe.isText(s)&&xe.isText(d)&&Ut(d.marks,s.marks)&&(Td("Merging spans"),ie.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=F.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>xe.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Ut(u,a.markDefs)||(Td("Removing markDef not in use"),ie.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const O5e=qr("plugin:withPortableTextSelections"),Q$t=O5e.enabled&&!1;function J$t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=Uk.get(o.selection);if(c)a=c;else{const u=o.children;a=dp(u,o.selection,t),Uk.set(o.selection,a)}}Q$t&&O5e("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const eMt=qr("plugin:withSchemaTypes");function tMt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>Ou(s)&&s._type===t.block.name,o.isTextSpan=s=>Js(s)&&s._type==t.span.name,o.isListBlock=s=>u4e(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){eMt("Setting span type on text node without a type");const u=a,d=u._key||n();ie.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const WP=qr("plugin:withUtils");function nMt(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=F.node(n,r.focus,{depth:2});if(!o||!xe.isText(o)||o.text.length===0){WP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){WP("pteExpandToWord: Expanding to focused word"),ie.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}WP("pteExpandToWord: Can't expand to word here")}},n}}const YP=qr("plugin:withHotKeys"),rMt={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function oMt(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||rMt,s=()=>Tc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{var d,f;Object.keys(i).forEach(b=>{if(b==="marks")for(const w in i[b]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(Ci(w,u.nativeEvent)){u.preventDefault();const C=i[b];if(C){const _=C[w];YP("HotKey ".concat(w," to toggle ").concat(_)),c.pteToggleMark(_)}}}if(b==="custom")for(const w in i[b]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(Ci(w,u.nativeEvent)){const C=i[b];if(C){const _=C[w];_(u,n)}}}});const p=Ci("enter",u.nativeEvent),m=Ci("tab",u.nativeEvent),v=Ci("shift+enter",u.nativeEvent),g=Ci("shift+tab",u.nativeEvent),y=Ci("backspace",u.nativeEvent),x=Ci("delete",u.nativeEvent);if(y&&c.selection&&c.selection.focus.path[0]>0&&ue.isCollapsed(c.selection)){const b=J.previous(c.selection.focus.path.slice(0,1)),w=Se.descendant(c,b),C=Se.descendant(c,c.selection.focus.path.slice(0,1));if(w&&C&&F.isVoid(c,w)&&c.selection.focus.offset===0){YP("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation();const _=Ou(C),S=_&&C.children.length===1&&((f=(d=C.children)==null?void 0:d[0])==null?void 0:f.text)==="";if(!_||S){ie.removeNodes(c,{match:E=>E===C}),ie.select(c,b),c.onChange();return}if(_&&!S){ie.select(c,b),c.onChange();return}return}}if(x&&c.selection&&c.selection.focus.offset===0&&ue.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const b=Se.descendant(c,J.next(c.selection.focus.path.slice(0,1))),w=c.selection.focus.path.slice(0,1),C=Se.descendant(c,w);if(b&&C&&!F.isVoid(c,C)&&F.isVoid(c,b)){YP("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),ie.removeNodes(c,{match:_=>_===C}),ie.select(c,w),c.onChange();return}}if((m||g)&&c.selection){const[b]=F.node(c,c.selection.focus,{depth:2}),[w]=Js(b)?F.node(c,c.selection.focus,{depth:1}):[],C=b&&Ou(w)&&Js(b)&&(b.marks||[]).filter(E=>(w.markDefs||[]).map(j=>j._key).includes(E)).length>0,[_]=ue.edges(c.selection),S=F.isStart(c,_,_.path);b&&Js(b)&&(!C||S)&&c.pteIncrementBlockLevels(g)&&u.preventDefault()}if(p&&!v&&c.selection){const b=c.selection.focus.path.slice(0,1),w=Se.descendant(c,b);if(c.isListBlock(w)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(w)&&w.style&&w.style!==e.styles[0].value){const[,C]=ue.edges(c.selection);if(F.isEnd(c,C,C.path)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}}if(w&&F.isVoid(c,w)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}u.preventDefault(),c.insertBreak(),c.onChange()}if(v){u.preventDefault(),c.insertText(`
`);return}if(Ci("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(Ci("mod+y",u.nativeEvent)||Ci("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function Kk(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Gs([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!uw(a))return r={patches:[Gs([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[vl({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[vl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Gs([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Gs([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[vl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=go(Pn(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>vl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[fu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[vl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Gs([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[vl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const lu=qr("plugin:withInsertData");function iMt(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=F.void(o,{at:f.path}),v=F.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=pe.toDOMRange(o,d);let y=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=pe.toDOMNode(o,E);j.setEndAfter(k),y=j.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=xr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",b),c.setData("application/json",_),c.setData("application/x-portable-text",_),lu("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),lu("Set fragment data",_,b)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(lu("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=lMt(o,Tc(p,{schemaTypes:t}),n,s),v=Kk(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),lu("Invalid insert result",v),!1}return gQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return lu("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){lu("Inserting data",c);let p,m,v;if(d)p=GX(d,t.portableText).map(y=>Sx(y,{blockTypeName:i})),m=Tc(p,{schemaTypes:t}),v="HTML";else{const y=aMt(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");p=GX(x,t.portableText).map(b=>Sx(b,{blockTypeName:i})),m=Tc(p,{schemaTypes:t}),v="text"}const g=Kk(p,t,n);if(!g.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:y,data:g}),lu("Invalid insert result",g),!1}return lu("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),gQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const sMt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function aMt(e){return String(e).replace(/[&<>"'`=/]/g,t=>sMt[t])}function lMt(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function gQ(e,t,n){if(!e.selection)return;const[r,o]=F.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;lu("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Ut(s,t[0].markDefs)||ie.setNodes(e,{markDefs:go([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}Yk(e.children,n)?(ie.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ie.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const vQ=new WeakMap,yQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():vQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=g$t(c),f=b$t(c,r),p=tMt({schemaTypes:c,keyGenerator:r}),m=v$t(o,c,r),v=Y$t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=y$t(a||-1),y=Z$t(c),x=N$t({readOnly:s,patches$:i,blockSchemaType:c.block}),b=X$t(c,u),w=K$t(c),C=G$t({keyGenerator:r,schemaTypes:c}),_=nMt(),S=J$t(u,c);return n.destroy=()=>{const E=vQ.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(b(w(_(C(y(S(m(n))))))))),subscribe:()=>uEe}:{editor:p(f(b(w(y(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},qP=qr("component:PortableTextEditor:SlateContainer");function cMt(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{qP("Creating new Slate editor instance");const{editor:u,subscribe:d}=yQ(S3t(XPt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return Sa.set(u,{}),bM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{qP("Re-initializing plugin chain"),yQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{qP("Destroying Slate editor"),s.destroy()},[s]),l.jsx(C3t,{editor:s,initialValue:c,children:e.children})}const R5e=h.createContext(null),G0=()=>{const e=h.useContext(R5e);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},$5e=h.createContext(null),xo=()=>{const e=h.useContext($5e);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},uMt=h.createContext(void 0),M5e=h.createContext(!1),dMt=()=>{const e=h.useContext(M5e);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},so=qr("hook:useSyncValue"),bQ=new WeakMap;function fMt(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=BT(),c=h.useRef(),u=h.useCallback(()=>{const f=bQ.get(t);if(s.current===f){so("Value is the same object as previous, not need to sync");return}c.current&&f&&(so("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(dw(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{bQ.set(t,p);const m=F$t(a),v=I5e(a);if(!n){if(m){so("Has local changes, not syncing value right now"),d();return}if(v){so("Has remote changes, not syncing value right now"),d();return}}let g=!1,y=!0;const x=!!a.selection;if((!p||p.length===0)&&(so("Value is empty"),F.withoutNormalizing(a,()=>{jx(a,()=>{CM(a,()=>{x&&ie.deselect(a);const b=a.children.length;a.children.forEach((w,C)=>{ie.removeNodes(a,{at:[b-1-C]})}),ie.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&ie.select(a,[0,0])})})}),g=!0),p&&p.length>0){const b=Tc(p,{schemaTypes:i});F.withoutNormalizing(a,()=>{D5e(a,()=>{jx(a,()=>{CM(a,()=>{const w=a.children.length;if(b.length<w){for(let C=w-1;C>b.length-1;C--)ie.removeNodes(a,{at:[C]});g=!0}b.forEach((C,_)=>{const S=a.children[_];if(S&&!Ut(C,S)&&y){const j=[p[_]],k=Kk(j,i,r);k.valid?(S._key===C._key?(so.enabled&&so("Updating block",S,C),pMt(a,C,S,_)):(so.enabled&&so("Replacing block",S,C),hMt(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}if(!S&&y){const j=[p[_]],k=Kk(j,i,r);so.enabled&&so("Validating and inserting new block in the end of the value",C),k.valid?kx(a,()=>{ie.insertNodes(a,C,{at:[_]})}):(so("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}})})})})})}if(!y){so("Invalid value, returning");return}if(g){so("Server value changed, syncing editor");try{a.onChange()}catch(b){console.error(b),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(ie.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else so("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function hMt(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&ie.deselect(e),ie.removeNodes(e,{at:[n]}),kx(e,()=>{ie.insertNodes(e,t,{at:[n]})}),o&&ie.select(e,r)}function pMt(e,t,n,r){if(ie.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(so("Removing child"),ie.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Ut(i,a),u=!Ut(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){so("Updating changed child",i,a),ie.setNodes(e,i,{at:d});const f=xe.isText(i)&&i._type==="span"&&xe.isText(a)&&a._type==="span";f&&u?(ie.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),ie.insertText(e,i.text,{at:d}),e.onChange()):f||(so("Updating changed inline object child",i),ie.setNodes(e,{_key:S5e},{at:[...d,0],voids:!0}))}else a?(so("Replacing child",i),ie.removeNodes(e,{at:[r,s]}),kx(e,()=>{ie.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(so("Inserting new child",i),kx(e,()=>{ie.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const cu=qr("component:PortableTextEditor:Synchronizer"),xQ=cu.enabled&&!1,mMt=1e3;function gMt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=fMt({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=BT();h.useEffect(()=>{wS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){cu("Flushing pending patches"),xQ&&cu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=we.getValue(n);t.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}wS.set(f,!1)},[f,n,t]),m=h.useMemo(()=>hT(()=>{if(F.isNormalizing(f)){p();return}m()},mMt,{leading:!1,trailing:!0}),[p,f]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{cu("Subscribing to editor changes$");const x=t.subscribe(b=>{switch(b.type){case"patch":wS.set(f,!0),u.current.push(b.patch),m(),r(b);break;case"selection":h.startTransition(()=>{xQ&&cu("Setting selection"),c(b.selection)}),r(b);break;default:r(b)}});return()=>{cu("Unsubscribing to changes$"),x.unsubscribe()}},[t,r,m,f]);const v=h.useCallback(()=>{cu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),g=h.useCallback(()=>{cu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",g)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",g))}));const y=h.useRef(!0);return h.useEffect(()=>{cu("Value from props changed, syncing new value"),d(s),y.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),y.current=!1)},[t,d,s]),l.jsx(g5e.Provider,{value:o,children:l.jsx($5e.Provider,{value:n,children:l.jsx(uMt.Provider,{value:s,children:l.jsx(M5e.Provider,{value:i,children:l.jsx(R5e.Provider,{value:a,children:e.children})})})})})}const K0=qr("component:PortableTextEditor");class we extends ne.Component{constructor(t){if(super(t),this.change$=new _r,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=ZX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:KX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=ZX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:KX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||Ex;return l.jsx(cMt,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(gMt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}we.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];we.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};we.blur=e=>{var t;K0("Host blurred"),(t=e.editable)==null||t.blur()};we.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};we.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};we.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};we.focus=e=>{var t;K0("Host requesting focus"),(t=e.editable)==null||t.focus()};we.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};we.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};we.getSelection=e=>e.editable?e.editable.getSelection():null;we.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};we.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};we.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};we.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};we.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};we.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};we.insertChild=(e,t,n)=>{var r;return K0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};we.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};we.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};we.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};we.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};we.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};we.select=(e,t)=>{var n;K0("Host setting selection",t),(n=e.editable)==null||n.select(t)};we.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};we.toggleBlockStyle=(e,t)=>{var n;return K0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};we.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};we.toggleMark=(e,t)=>{var n;K0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function wQ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function vMt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Ut({_key:s._key},o.path[0]))&&(n=wQ(o,t)),i&&t.find(s=>Ut({_key:s._key},i.path[0]))&&(r=wQ(i,t)),n&&r?{anchor:n,focus:r}:null}function yMt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const bMt=qr("components:Leaf"),CQ=[],xMt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=ne.useRef(null),u=xo(),d=e5e(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,y=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),b=h.useMemo(()=>go((r.marks||CQ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:CQ,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=we.getSelection(u);j&&Ut(j.focus.path,y)&&we.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,y,u]);const S=h.useCallback(()=>{if(!_)return;bMt("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);c.current&&k.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=we.getSelection(u);T&&Ut(T.focus.path,y)&&we.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Ut(k.selection.focus.path,y)&&we.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[y,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(xe.isText(r)&&r._type===o.span.name&&(b.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(yMt,{annotation:k,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:y,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,b,y,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:E},r._key),[r,t,E])},$_=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var _Q=Object.freeze,wMt=Object.defineProperty,HT=(e,t)=>_Q(wMt(e,"raw",{value:_Q(t||e.slice())})),SQ,EQ,kQ,jQ;const CMt=O.div(SQ||(SQ=HT([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");O.span(EQ||(EQ=HT([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const _Mt=O.div(kQ||(kQ=HT([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>EMt(e.listLevel),e=>jMt(e.listLevel,e.listStyle),e=>TMt(e.listLevel),e=>AMt(e.listLevel),e=>DMt(e.listLevel)),SMt=O.div(jQ||(jQ=HT([""])));function EMt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const kMt=["●","○","■"];function jMt(e,t){const n=(e-1)%3;return t==="bullet"?kMt[n]:"*"}function TMt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function AMt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function DMt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const tc=qr("components:DraggableBlock"),TQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Uc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>F.isVoid(i,n),[i,n]),d=h.useMemo(()=>F.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:pe.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=K1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",Z1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,P=k.pageY,$=Math.abs(D-P);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",X1.set(i,R)):(R="bottom",X1.set(i,R)),T===n){k.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(k=>{const T=Z1.get(i);if(T){A_.set(i,!1),k.preventDefault(),k.stopPropagation(),Z1.delete(i),s.current&&(tc("Removing drag ghost"),document.body.removeChild(s.current));const A=X1.get(i);X1.delete(i);let D=pe.findPath(i,T);const I=pe.findPath(i,n),P=J.isBefore(I,D);if(A==="bottom"&&!P){if(D[0]>=i.children.length-1){tc("target is already at the bottom, not moving");return}const $=D;D=J.next(D),tc("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&P&&D[0]!==i.children.length-1){const $=D;D=J.previous(D),tc("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(J.equals(D,I)){k.preventDefault(),tc("targetPath and myPath is the same, not moving");return}tc("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),ie.moveNodes(i,{at:I,to:D}),i.onChange();return}tc("No target element, not doing anything")},[i,n]),y=h.useCallback(k=>{K1.get(i)&&(tc("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(k=>{if(!u){K1.delete(i);return}A_.set(i,!0),K1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),b=h.useCallback(k=>{if(!u||d){tc("Not dragging block"),K1.delete(i),A_.set(i,!1);return}if(tc("Drag start"),A_.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,P=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,P)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===Z1.get(i),C=a&&i.children[i.children.length-1]===Z1.get(i),_=X1.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:y,children:[S&&j,t,E&&j]})};qr("components:Element");const IMt=[],PMt={display:"inline-block"},OMt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Uc(),p=e5e(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,y=h.useMemo(()=>xr([r],o.block.name,Sa.get(f))[0],[f,r,o.block.name]);let x=n,b;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=pe.findPath(f,r),[j]=F.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Ie.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:PMt,contentEditable:!1,children:[a&&a({annotations:IMt,children:l.jsx($_,{value:y}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:y}),!a&&l.jsx($_,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){b="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(y)&&E&&r.listItem){const I=o.lists.find(P=>P.value===r.listItem);c&&I?x=c({block:y,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:y.level||1,editorElementRef:m}):x=l.jsx(_Mt,{listStyle:y.listItem||o.lists[0].value,listLevel:y.level||1,children:l.jsx(SMt,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:b,spellCheck:d,children:l.jsx(TQ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const _=xr([r],o.block.name,Sa.get(f))[0];let S;if(s){const E=Object.defineProperty({children:l.jsx($_,{value:y}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return l.jsxs("div",{...t,className:b,children:[n,l.jsxs(TQ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(CMt,{selected:p,children:l.jsx($_,{value:y})})]})]},r._key)},RMt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function $Mt(e){const t=h.useRef(null);return RMt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const ul=qr("component:Editable"),MMt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},FMt=[],F5e=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:y,scrollSelectionIntoView:x,spellCheck:b,...w}=t,C=xo(),_=dMt(),S=BRt(),E=$Mt(n),[j,k]=h.useState(null),[T,A]=h.useState(!1),{change$:D,schemaTypes:I}=C,P=BT(),$=I.block.name,R=h.useMemo(()=>iMt(D,I,S),[D,S,I]),z=h.useMemo(()=>oMt(I,S,C,r),[r,S,C,I]);h.useMemo(()=>_?(ul("Editable is in read only mode"),R(P)):(ul("Editable is in edit mode"),R(z(P))),[_,P,z,R]);const B=h.useCallback(K=>l.jsx(OMt,{...K,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:I,spellCheck:b}),[I,b,_,d,f,m,g]),H=h.useCallback(K=>{const Q=l.jsx(xMt,{...K,schemaTypes:I,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&K.leaf.placeholder&&K.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:MMt,contentEditable:!1,children:v()}),Q]}):Q},[_,u,f,p,v,I]),W=h.useCallback(()=>{if(y){ul("Selection from props ".concat(JSON.stringify(y)));const K=vMt(y,xr(P.children,$));if(K!==null){ul("Normalized selection from props ".concat(JSON.stringify(K)));const Q=CS(K,P);Q&&(ie.select(P,Q),P.operations.some(le=>le.type==="set_selection")||D.next({type:"selection",selection:K}),P.onChange())}}},[y,P,$,D]);h.useEffect(()=>{ul("Subscribing to editor changes$");const K=D.subscribe(Q=>{switch(Q.type){case"ready":W();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{ul("Unsubscribing to changes$"),K.unsubscribe()}},[D,W]),h.useEffect(()=>{y&&!T&&W()},[T,y,W]);const V=h.useCallback(K=>{c&&c(K)!==void 0&&K.preventDefault()},[c]),G=h.useCallback(K=>{if(K.preventDefault(),!!P.selection){if(!a){ul("Pasting normally"),P.insertData(K.clipboardData);return}new Promise(Q=>{const le=we.getValue(C),me=dp(le,P.selection,I),ae=(me==null?void 0:me.focus.path)||[];Q(a({event:K,value:le,path:ae,schemaTypes:I}))}).then(Q=>{if(ul("Custom paste function from client resolved",Q),D.next({type:"loading",isLoading:!0}),!Q||!Q.insert){ul("No result from custom paste handler, pasting normally"),P.insertData(K.clipboardData);return}if(Q&&Q.insert){P.insertFragment(Tc(Q.insert,{schemaTypes:I})),D.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",Q)}).catch(Q=>(D.next({type:"loading",isLoading:!1}),console.error(Q),Q))}},[D,a,C,I,P]),te=h.useCallback(K=>{if(i&&i(K),!K.isDefaultPrevented()){const Q=we.getSelection(C);Q===null&&(ie.select(P,F.start(P,[])),P.onChange()),D.next({type:"focus",event:K});const le=we.getSelection(C);Q===le&&D.next({type:"selection",selection:Q})}},[i,C,D,P]),N=h.useCallback(K=>{o&&o(K),K.isPropagationStopped()||D.next({type:"blur",event:K})},[D,o]),Y=h.useCallback(K=>{s&&s(K)},[s]),q=h.useCallback(()=>{if(!P.selection)return;const K=pe.findDocumentOrShadowRoot(P),{activeElement:Q}=K;if(E.current!==Q)return;const me=pe.getWindow(P).getSelection();if(!me)return;const ae=me.getRangeAt(0);try{const Ce=pe.toDOMRange(P,P.selection);(Ce.startOffset!==ae.startOffset||Ce.endOffset!==ae.endOffset)&&(ul("DOM range out of sync, validating selection"),me==null||me.removeAllRanges(),me.addRange(Ce))}catch{ul("Could not resolve selection, selecting top document"),ie.deselect(P),P.children.length>0&&ie.select(P,[0,0]),P.onChange()}},[E,P]);h.useEffect(()=>{if(j){const K=new MutationObserver(q);return K.observe(j,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{K.disconnect()}}},[q,j]);const Z=h.useCallback(K=>{t.onKeyDown&&t.onKeyDown(K),K.isDefaultPrevented()||P.pteWithHotKeys(K)},[t,P]),se=h.useMemo(()=>{if(x!==void 0)return x===null?uEe:(K,Q)=>{x(C,Q)}},[C,x]),re=h.useCallback(()=>Yk(P.children,I)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:FMt,[I,P]);return h.useEffect(()=>{E.current=pe.toDOMNode(P,P),k(E.current)},[P,E]),C?T?null:l.jsx(h3t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:re,onBlur:N,onCopy:V,onDOMBeforeInput:Y,onFocus:te,onKeyDown:Z,onPaste:G,readOnly:_,renderPlaceholder:void 0,renderElement:B,renderLeaf:H,scrollSelectionIntoView:se}):null});var LMt=z_e,AQ=to;function BMt(e,t,n,r){return e==null?[]:(AQ(t)||(t=t==null?[]:[t]),n=r?void 0:n,AQ(n)||(n=n==null?[]:[n]),LMt(e,t,n))}var NMt=BMt;const Z0=Pe(NMt);function zMt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function _M(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Zw(e){const[t,n]=e;return[t,n]}function DQ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function J9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function UT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function e7(e){let t=e.map(f=>Zw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===Et?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Xn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[In,i]),t[r[o-1]+1][0]=Xn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=WT(t)),t=L5e(t),s=1;s<t.length;){if(t[s-1][0]===In&&t[s][0]===Xn){const f=t[s-1][1],p=t[s][1],m=DQ(f,p),v=DQ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Et,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[Et,f.substring(0,v)]),t[s-1][0]=Xn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=In,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const IQ=/[^a-zA-Z0-9]/,PQ=/\s/,OQ=/[\r\n]/,VMt=/\n\r?\n$/,HMt=/^\r?\n\r?\n/;function L5e(e){const t=e.map(o=>Zw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(IQ),u=a.match(IQ),d=c&&s.match(PQ),f=u&&a.match(PQ),p=d&&s.match(OQ),m=f&&a.match(OQ),v=p&&o.match(VMt),g=m&&i.match(HMt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Et&&t[r+1][0]===Et){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=UT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function WT(e){let t=e.map(u=>Zw(u));t.push([Et,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Xn:o++,s+=t[n][1],n++;break;case In:r++,i+=t[n][1],n++;break;case Et:r+o>1?(r!==0&&o!==0&&(a=J9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Et?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Et,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=UT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[In,i]),n++),s.length&&(t.splice(n,0,[Xn,s]),n++),n++):n!==0&&t[n-1][0]===Et?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Et&&t[n+1][0]===Et&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=WT(t)),t}function UMt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function t7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Zw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Et?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===In?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&UMt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[In,s]),n[o[i-1]+1][0]=Xn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=WT(n)),n}function WMt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return RQ(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return RQ(e,t,S,E,n)}}}}return[[In,e],[Xn,t]]}function RQ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=om(i,s,{checkLines:!1,deadline:o}),d=om(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function YMt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=$Q(r,o,Math.ceil(r.length/4)),s=$Q(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function $Q(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=J9(e.slice(n),t.slice(o)),f=UT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function qMt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function GMt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function KMt(e,t,n){let r=e,o=t;const i=GMt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=om(r,o,{checkLines:!1,deadline:n.deadline});qMt(a,s),a=e7(a),a.push([Et,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Xn:d++,p+=a[c][1];break;case In:u++,f+=a[c][1];break;case Et:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=om(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function ZMt(e,t,n){let r;if(!e)return[[Xn,t]];if(!t)return[[In,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Xn,o.substring(0,s)],[Et,i],[Xn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=In,r[2][0]=In),r;if(i.length===1)return[[In,e],[Xn,t]];const a=YMt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=om(c,d,n),v=om(u,f,n);return m.concat([[Et,p]],v)}return n.checkLines&&e.length>100&&t.length>100?KMt(e,t,n):WMt(e,t,n.deadline)}const In=-1,Xn=1,Et=0;function Xw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=om(e,t,QMt(n||{}));return e4t(r),r}function om(e,t,n){let r=e,o=t;if(r===o)return r?[[Et,r]]:[];let i=J9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=UT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=ZMt(r,o,n);return s&&c.unshift([Et,s]),a&&c.push([Et,a]),c=WT(c),c}function XMt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function QMt(e){return{checkLines:!0,deadline:XMt(e.timeout||1),...e}}function M_(e,t,n){return n===1?e+t:t+e}function F_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function JMt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function MQ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Xn){o===null&&(o=s);continue}else if(u===In){i===null&&(i=s);continue}else if(u===Et){if(o===null&&i===null){const[f,p]=F_(e[t][1],n);e[t][1]=f,e[s][1]=M_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&JMt(e,o,i,n)){const[u,d]=F_(e[o][1],r),[f]=F_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=M_(e[t][1],d,n);return}const[a,c]=F_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Xn,c]),i!==null&&i>=s&&i++):e[o][1]=M_(e[o][1],c,r),i===null?e.splice(s,0,[In,c]):e[i][1]=M_(e[i][1],c,r)}function e4t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];zMt(i)&&n===Et&&MQ(e,t,1),_M(o)&&n===Et&&MQ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const t4t={threshold:.5,distance:1e3};function n4t(e){return{...t4t,...e}}const r4t=32;function o4t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>r4t)throw new Error("Pattern too long for this browser.");const o=n4t(r),i=i4t(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function i4t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function GP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return o4t(e,t,r)}function Zk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function n7(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Xn&&(t[n]=e[n][1]);return t.join("")}function B5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==In&&(t[n]=e[n][1]);return t.join("")}function nf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=N5e(r)}return t}function s4t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=N5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Zw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function N5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Vd=32,r7=4,a4t={margin:4};function KP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...a4t,...e}}function z5e(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Xw(e,t,{checkLines:!0});return r.length>2&&(r=e7(r),r=t7(r)),ZP(e,r,KP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return ZP(n7(e),e,KP(n));if(typeof e=="string"&&t&&Array.isArray(t))return ZP(e,t,KP(n));throw new Error("Unknown call format to make()")}function ZP(e,t,n){if(t.length===0)return[];const r=[];let o=Zk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=nf(g);switch(!i&&v!==Et&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Xn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case In:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case Et:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(FQ(o,d,n),r.push(o),o=Zk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Xn&&(s+=y,c+=x),v!==In&&(a+=y,u+=x)}return i&&(FQ(o,d,n),r.push(o)),r}function FQ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Vd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&_M(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Et,s]);const a=s.length,c=nf(s);let u=e.start2+e.length1+o;u<t.length&&_M(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Et,d]);const f=d.length,p=nf(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function l4t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Xn:n+=s.length;break;case In:r+=s.length;break;case Et:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function LQ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Xn&&(n+=e[s][1].length),e[s][0]!==In&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===In?i:i+(t-o)}function c4t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r7;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Et)i.unshift([Et,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Et)i.push([Et,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function u4t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r7;const n=Vd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Zk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=nf(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([Et,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=nf(m);if(p===Xn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===In&&c.diffs.length===1&&c.diffs[0][0]===Et&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=nf(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===Et?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=B5e(c.diffs),a=a.substring(a.length-t);const d=n7(o.diffs).substring(0,t),f=nf(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Et?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([Et,d])),u||e.splice(++r,0,c)}}}function V5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=s4t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||r7,s=n.deleteThreshold||.4,a=c4t(o,i);r=a+r+a,u4t(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=n7(o[d].diffs);let m,v=-1;if(p.length>Vd?(m=GP(r,p.substring(0,Vd),f),m!==-1&&(v=GP(r,p.substring(p.length-Vd),f+p.length-Vd),(v===-1||m>=v)&&(m=-1))):m=GP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Vd),p===g)r=r.substring(0,m)+B5e(o[d].diffs)+r.substring(m+p.length);else{let y=Xw(p,g,{checkLines:!1});if(p.length>Vd&&l4t(y)/p.length>s)u[d]=!1;else{y=L5e(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==Et&&(b=LQ(y,x)),C[0]===Xn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===In&&(r=r.substring(0,m+b)+r.substring(m+LQ(y,x+C[1].length))),C[0]!==In&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function H5e(e){return e.map(d4t).join("")}function d4t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Xn:u="+";break;case In:u="-";break;case Et:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const f4t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function U5e(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(f4t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Zk(L_(o[1]),L_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=L_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=L_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=nf(c)-c.length;if(a==="-")i.diffs.push([In,c]),i.length1-=u;else if(a==="+")i.diffs.push([Xn,c]),i.length2-=u;else if(a===" ")i.diffs.push([Et,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function L_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var W5e;function Me(){return W5e.apply(null,arguments)}function h4t(e){W5e=e}function Fl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ip(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o7(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(pn(e,t))return!1;return!0}function hs(e){return e===void 0}function Qu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Qw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Y5e(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function rf(e,t){for(var n in t)pn(t,n)&&(e[n]=t[n]);return pn(t,"toString")&&(e.toString=t.toString),pn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Wc(e,t,n,r){return gje(e,t,n,r,!0).utc()}function p4t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(e){return e._pf==null&&(e._pf=p4t()),e._pf}var SM;Array.prototype.some?SM=Array.prototype.some:SM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function i7(e){if(e._isValid==null){var t=kt(e),n=SM.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function YT(e){var t=Wc(NaN);return e!=null?rf(kt(t),e):kt(t).userInvalidated=!0,t}var BQ=Me.momentProperties=[],XP=!1;function s7(e,t){var n,r,o,i=BQ.length;if(hs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),hs(t._i)||(e._i=t._i),hs(t._f)||(e._f=t._f),hs(t._l)||(e._l=t._l),hs(t._strict)||(e._strict=t._strict),hs(t._tzm)||(e._tzm=t._tzm),hs(t._isUTC)||(e._isUTC=t._isUTC),hs(t._offset)||(e._offset=t._offset),hs(t._pf)||(e._pf=kt(t)),hs(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=BQ[n],o=t[r],hs(o)||(e[r]=o);return e}function Jw(e){s7(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),XP===!1&&(XP=!0,Me.updateOffset(this),XP=!1)}function Ll(e){return e instanceof Jw||e!=null&&e._isAMomentObject!=null}function q5e(e){Me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function nl(e,t){var n=!0;return rf(function(){if(Me.deprecationHandler!=null&&Me.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])pn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}q5e(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var NQ={};function G5e(e,t){Me.deprecationHandler!=null&&Me.deprecationHandler(e,t),NQ[e]||(q5e(t),NQ[e]=!0)}Me.suppressDeprecationWarnings=!1;Me.deprecationHandler=null;function Yc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function m4t(e){var t,n;for(n in e)pn(e,n)&&(t=e[n],Yc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function EM(e,t){var n=rf({},e),r;for(r in t)pn(t,r)&&(Ip(e[r])&&Ip(t[r])?(n[r]={},rf(n[r],e[r]),rf(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)pn(e,r)&&!pn(t,r)&&Ip(e[r])&&(n[r]=rf({},n[r]));return n}function a7(e){e!=null&&this.set(e)}var kM;Object.keys?kM=Object.keys:kM=function(e){var t,n=[];for(t in e)pn(e,t)&&n.push(t);return n};var g4t={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function v4t(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Yc(r)?r.call(t,n):r}function $c(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var l7=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,QP={},wv={};function et(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(wv[e]=o),t&&(wv[t[0]]=function(){return $c(o.apply(this,arguments),t[1],t[2])}),n&&(wv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function y4t(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function b4t(e){var t=e.match(l7),n,r;for(n=0,r=t.length;n<r;n++)wv[t[n]]?t[n]=wv[t[n]]:t[n]=y4t(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Yc(t[s])?t[s].call(o,e):t[s];return i}}function _S(e,t){return e.isValid()?(t=K5e(t,e.localeData()),QP[t]=QP[t]||b4t(t),QP[t](e)):e.localeData().invalidDate()}function K5e(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(B_.lastIndex=0;n>=0&&B_.test(e);)e=e.replace(B_,r),B_.lastIndex=0,n-=1;return e}var x4t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function w4t(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(l7).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var C4t="Invalid date";function _4t(){return this._invalidDate}var S4t="%d",E4t=/\d{1,2}/;function k4t(e){return this._ordinal.replace("%d",e)}var j4t={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T4t(e,t,n,r){var o=this._relativeTime[n];return Yc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function A4t(e,t){var n=this._relativeTime[e>0?"future":"past"];return Yc(n)?n(t):n.replace(/%s/i,t)}var Cb={};function Li(e,t){var n=e.toLowerCase();Cb[n]=Cb[n+"s"]=Cb[t]=e}function rl(e){return typeof e=="string"?Cb[e]||Cb[e.toLowerCase()]:void 0}function c7(e){var t={},n,r;for(r in e)pn(e,r)&&(n=rl(r),n&&(t[n]=e[r]));return t}var Z5e={};function Bi(e,t){Z5e[e]=t}function D4t(e){var t=[],n;for(n in e)pn(e,n)&&t.push({unit:n,priority:Z5e[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function qT(e){return e%4===0&&e%100!==0||e%400===0}function Aa(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ft(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Aa(t)),n}function X0(e,t){return function(n){return n!=null?(X5e(this,e,n),Me.updateOffset(this,t),this):Xk(this,e)}}function Xk(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X5e(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&qT(e.year())&&e.month()===1&&e.date()===29?(n=Ft(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),JT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function I4t(e){return e=rl(e),Yc(this[e])?this[e]():this}function P4t(e,t){if(typeof e=="object"){e=c7(e);var n=D4t(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=rl(e),Yc(this[e]))return this[e](t);return this}var Q5e=/\d/,ma=/\d\d/,J5e=/\d{3}/,u7=/\d{4}/,GT=/[+-]?\d{6}/,pr=/\d\d?/,eje=/\d\d\d\d?/,tje=/\d\d\d\d\d\d?/,KT=/\d{1,3}/,d7=/\d{1,4}/,ZT=/[+-]?\d{1,6}/,Q0=/\d+/,XT=/[+-]?\d+/,O4t=/Z|[+-]\d\d:?\d\d/gi,QT=/Z|[+-]\d\d(?::?\d\d)?/gi,R4t=/[+-]?\d+(\.\d{1,3})?/,eC=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Qk;Qk={};function Ve(e,t,n){Qk[e]=Yc(t)?t:function(r,o){return r&&n?n:t}}function $4t(e,t){return pn(Qk,e)?Qk[e](t._strict,t._locale):new RegExp(M4t(e))}function M4t(e){return Zs(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Zs(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var jM={};function Mn(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Qu(t)&&(r=function(i,s){s[t]=Ft(i)}),o=e.length,n=0;n<o;n++)jM[e[n]]=r}function tC(e,t){Mn(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function F4t(e,t,n){t!=null&&pn(jM,e)&&jM[e](t,n._a,n,e)}var Ai=0,Cu=1,xc=2,Ao=3,Sl=4,_u=5,fp=6,L4t=7,B4t=8;function N4t(e,t){return(e%t+t)%t}var Zr;Array.prototype.indexOf?Zr=Array.prototype.indexOf:Zr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function JT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=N4t(t,12);return e+=(t-n)/12,n===1?qT(e)?29:28:31-n%7%2}et("M",["MM",2],"Mo",function(){return this.month()+1});et("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});et("MMMM",0,0,function(e){return this.localeData().months(this,e)});Li("month","M");Bi("month",8);Ve("M",pr);Ve("MM",pr,ma);Ve("MMM",function(e,t){return t.monthsShortRegex(e)});Ve("MMMM",function(e,t){return t.monthsRegex(e)});Mn(["M","MM"],function(e,t){t[Cu]=Ft(e)-1});Mn(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[Cu]=o:kt(n).invalidMonth=e});var z4t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nje="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rje=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,V4t=eC,H4t=eC;function U4t(e,t){return e?Fl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rje).test(t)?"format":"standalone"][e.month()]:Fl(this._months)?this._months:this._months.standalone}function W4t(e,t){return e?Fl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rje.test(t)?"format":"standalone"][e.month()]:Fl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Y4t(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Wc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Zr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Zr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Zr.call(this._shortMonthsParse,s),o!==-1?o:(o=Zr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Zr.call(this._longMonthsParse,s),o!==-1?o:(o=Zr.call(this._shortMonthsParse,s),o!==-1?o:null))}function q4t(e,t,n){var r,o,i;if(this._monthsParseExact)return Y4t.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Wc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function oje(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ft(t);else if(t=e.localeData().monthsParse(t),!Qu(t))return e}return n=Math.min(e.date(),JT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ije(e){return e!=null?(oje(this,e),Me.updateOffset(this,!0),this):Xk(this,"Month")}function G4t(){return JT(this.year(),this.month())}function K4t(e){return this._monthsParseExact?(pn(this,"_monthsRegex")||sje.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(pn(this,"_monthsShortRegex")||(this._monthsShortRegex=V4t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Z4t(e){return this._monthsParseExact?(pn(this,"_monthsRegex")||sje.call(this),e?this._monthsStrictRegex:this._monthsRegex):(pn(this,"_monthsRegex")||(this._monthsRegex=H4t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function sje(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Wc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Zs(t[o]),n[o]=Zs(n[o]);for(o=0;o<24;o++)r[o]=Zs(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}et("Y",0,0,function(){var e=this.year();return e<=9999?$c(e,4):"+"+e});et(0,["YY",2],0,function(){return this.year()%100});et(0,["YYYY",4],0,"year");et(0,["YYYYY",5],0,"year");et(0,["YYYYYY",6,!0],0,"year");Li("year","y");Bi("year",1);Ve("Y",XT);Ve("YY",pr,ma);Ve("YYYY",d7,u7);Ve("YYYYY",ZT,GT);Ve("YYYYYY",ZT,GT);Mn(["YYYYY","YYYYYY"],Ai);Mn("YYYY",function(e,t){t[Ai]=e.length===2?Me.parseTwoDigitYear(e):Ft(e)});Mn("YY",function(e,t){t[Ai]=Me.parseTwoDigitYear(e)});Mn("Y",function(e,t){t[Ai]=parseInt(e,10)});function _b(e){return qT(e)?366:365}Me.parseTwoDigitYear=function(e){return Ft(e)+(Ft(e)>68?1900:2e3)};var aje=X0("FullYear",!0);function X4t(){return qT(this.year())}function Q4t(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Tx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Jk(e,t,n){var r=7+t-n,o=(7+Tx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function lje(e,t,n,r,o){var i=(7+n-r)%7,s=Jk(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=_b(c)+a):a>_b(e)?(c=e+1,u=a-_b(e)):(c=e,u=a),{year:c,dayOfYear:u}}function Ax(e,t,n){var r=Jk(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+Du(s,t,n)):o>Du(e.year(),t,n)?(i=o-Du(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function Du(e,t,n){var r=Jk(e,t,n),o=Jk(e+1,t,n);return(_b(e)-r+o)/7}et("w",["ww",2],"wo","week");et("W",["WW",2],"Wo","isoWeek");Li("week","w");Li("isoWeek","W");Bi("week",5);Bi("isoWeek",5);Ve("w",pr);Ve("ww",pr,ma);Ve("W",pr);Ve("WW",pr,ma);tC(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ft(e)});function J4t(e){return Ax(e,this._week.dow,this._week.doy).week}var eFt={dow:0,doy:6};function tFt(){return this._week.dow}function nFt(){return this._week.doy}function rFt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function oFt(e){var t=Ax(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}et("d",0,"do","day");et("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});et("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});et("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});et("e",0,0,"weekday");et("E",0,0,"isoWeekday");Li("day","d");Li("weekday","e");Li("isoWeekday","E");Bi("day",11);Bi("weekday",11);Bi("isoWeekday",11);Ve("d",pr);Ve("e",pr);Ve("E",pr);Ve("dd",function(e,t){return t.weekdaysMinRegex(e)});Ve("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ve("dddd",function(e,t){return t.weekdaysRegex(e)});tC(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:kt(n).invalidWeekday=e});tC(["d","e","E"],function(e,t,n,r){t[r]=Ft(e)});function iFt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function sFt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function f7(e,t){return e.slice(t,7).concat(e.slice(0,t))}var aFt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),cje="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lFt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cFt=eC,uFt=eC,dFt=eC;function fFt(e,t){var n=Fl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?f7(n,this._week.dow):e?n[e.day()]:n}function hFt(e){return e===!0?f7(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function pFt(e){return e===!0?f7(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function mFt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Wc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Zr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Zr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Zr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Zr.call(this._weekdaysParse,s),o!==-1||(o=Zr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Zr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Zr.call(this._shortWeekdaysParse,s),o!==-1||(o=Zr.call(this._weekdaysParse,s),o!==-1)?o:(o=Zr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Zr.call(this._minWeekdaysParse,s),o!==-1||(o=Zr.call(this._weekdaysParse,s),o!==-1)?o:(o=Zr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function gFt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return mFt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Wc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function vFt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=iFt(e,this.localeData()),this.add(e-t,"d")):t}function yFt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function bFt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=sFt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function xFt(e){return this._weekdaysParseExact?(pn(this,"_weekdaysRegex")||h7.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(pn(this,"_weekdaysRegex")||(this._weekdaysRegex=cFt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function wFt(e){return this._weekdaysParseExact?(pn(this,"_weekdaysRegex")||h7.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(pn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uFt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function CFt(e){return this._weekdaysParseExact?(pn(this,"_weekdaysRegex")||h7.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(pn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=dFt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function h7(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Wc([2e3,1]).day(i),a=Zs(this.weekdaysMin(s,"")),c=Zs(this.weekdaysShort(s,"")),u=Zs(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function p7(){return this.hours()%12||12}function _Ft(){return this.hours()||24}et("H",["HH",2],0,"hour");et("h",["hh",2],0,p7);et("k",["kk",2],0,_Ft);et("hmm",0,0,function(){return""+p7.apply(this)+$c(this.minutes(),2)});et("hmmss",0,0,function(){return""+p7.apply(this)+$c(this.minutes(),2)+$c(this.seconds(),2)});et("Hmm",0,0,function(){return""+this.hours()+$c(this.minutes(),2)});et("Hmmss",0,0,function(){return""+this.hours()+$c(this.minutes(),2)+$c(this.seconds(),2)});function uje(e,t){et(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}uje("a",!0);uje("A",!1);Li("hour","h");Bi("hour",13);function dje(e,t){return t._meridiemParse}Ve("a",dje);Ve("A",dje);Ve("H",pr);Ve("h",pr);Ve("k",pr);Ve("HH",pr,ma);Ve("hh",pr,ma);Ve("kk",pr,ma);Ve("hmm",eje);Ve("hmmss",tje);Ve("Hmm",eje);Ve("Hmmss",tje);Mn(["H","HH"],Ao);Mn(["k","kk"],function(e,t,n){var r=Ft(e);t[Ao]=r===24?0:r});Mn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Mn(["h","hh"],function(e,t,n){t[Ao]=Ft(e),kt(n).bigHour=!0});Mn("hmm",function(e,t,n){var r=e.length-2;t[Ao]=Ft(e.substr(0,r)),t[Sl]=Ft(e.substr(r)),kt(n).bigHour=!0});Mn("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Ao]=Ft(e.substr(0,r)),t[Sl]=Ft(e.substr(r,2)),t[_u]=Ft(e.substr(o)),kt(n).bigHour=!0});Mn("Hmm",function(e,t,n){var r=e.length-2;t[Ao]=Ft(e.substr(0,r)),t[Sl]=Ft(e.substr(r))});Mn("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Ao]=Ft(e.substr(0,r)),t[Sl]=Ft(e.substr(r,2)),t[_u]=Ft(e.substr(o))});function SFt(e){return(e+"").toLowerCase().charAt(0)==="p"}var EFt=/[ap]\.?m?\.?/i,kFt=X0("Hours",!0);function jFt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var fje={calendar:g4t,longDateFormat:x4t,invalidDate:C4t,ordinal:S4t,dayOfMonthOrdinalParse:E4t,relativeTime:j4t,months:z4t,monthsShort:nje,week:eFt,weekdays:aFt,weekdaysMin:lFt,weekdaysShort:cje,meridiemParse:EFt},br={},J1={},Dx;function TFt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function zQ(e){return e&&e.toLowerCase().replace("_","-")}function AFt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=zQ(e[t]).split("-"),n=i.length,r=zQ(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=eA(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&TFt(i,r)>=n-1)break;n--}t++}return Dx}function DFt(e){return e.match("^[^/\\\\]*$")!=null}function eA(e){var t=null,n;if(br[e]===void 0&&typeof module<"u"&&module&&module.exports&&DFt(e))try{t=Dx._abbr,n=require,n("./locale/"+e),Ef(t)}catch{br[e]=null}return br[e]}function Ef(e,t){var n;return e&&(hs(t)?n=vd(e):n=m7(e,t),n?Dx=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Dx._abbr}function m7(e,t){if(t!==null){var n,r=fje;if(t.abbr=e,br[e]!=null)G5e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=br[e]._config;else if(t.parentLocale!=null)if(br[t.parentLocale]!=null)r=br[t.parentLocale]._config;else if(n=eA(t.parentLocale),n!=null)r=n._config;else return J1[t.parentLocale]||(J1[t.parentLocale]=[]),J1[t.parentLocale].push({name:e,config:t}),null;return br[e]=new a7(EM(r,t)),J1[e]&&J1[e].forEach(function(o){m7(o.name,o.config)}),Ef(e),br[e]}else return delete br[e],null}function IFt(e,t){if(t!=null){var n,r,o=fje;br[e]!=null&&br[e].parentLocale!=null?br[e].set(EM(br[e]._config,t)):(r=eA(e),r!=null&&(o=r._config),t=EM(o,t),r==null&&(t.abbr=e),n=new a7(t),n.parentLocale=br[e],br[e]=n),Ef(e)}else br[e]!=null&&(br[e].parentLocale!=null?(br[e]=br[e].parentLocale,e===Ef()&&Ef(e)):br[e]!=null&&delete br[e]);return br[e]}function vd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Dx;if(!Fl(e)){if(t=eA(e),t)return t;e=[e]}return AFt(e)}function PFt(){return kM(br)}function g7(e){var t,n=e._a;return n&&kt(e).overflow===-2&&(t=n[Cu]<0||n[Cu]>11?Cu:n[xc]<1||n[xc]>JT(n[Ai],n[Cu])?xc:n[Ao]<0||n[Ao]>24||n[Ao]===24&&(n[Sl]!==0||n[_u]!==0||n[fp]!==0)?Ao:n[Sl]<0||n[Sl]>59?Sl:n[_u]<0||n[_u]>59?_u:n[fp]<0||n[fp]>999?fp:-1,kt(e)._overflowDayOfYear&&(t<Ai||t>xc)&&(t=xc),kt(e)._overflowWeeks&&t===-1&&(t=L4t),kt(e)._overflowWeekday&&t===-1&&(t=B4t),kt(e).overflow=t),e}var OFt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,RFt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$Ft=/Z|[+-]\d\d(?::?\d\d)?/,N_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],JP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],MFt=/^\/?Date\((-?\d+)/i,FFt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,LFt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hje(e){var t,n,r=e._i,o=OFt.exec(r)||RFt.exec(r),i,s,a,c,u=N_.length,d=JP.length;if(o){for(kt(e).iso=!0,t=0,n=u;t<n;t++)if(N_[t][1].exec(o[1])){s=N_[t][0],i=N_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(JP[t][1].exec(o[3])){a=(o[2]||" ")+JP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if($Ft.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),y7(e)}else e._isValid=!1}function BFt(e,t,n,r,o,i){var s=[NFt(e),nje.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function NFt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function zFt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VFt(e,t,n){if(e){var r=cje.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return kt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function HFt(e,t,n){if(e)return LFt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function pje(e){var t=FFt.exec(zFt(e._i)),n;if(t){if(n=BFt(t[4],t[3],t[2],t[5],t[6],t[7]),!VFt(t[1],n,e))return;e._a=n,e._tzm=HFt(t[8],t[9],t[10]),e._d=Tx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kt(e).rfc2822=!0}else e._isValid=!1}function UFt(e){var t=MFt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(hje(e),e._isValid===!1)delete e._isValid;else return;if(pje(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Me.createFromInputFallback(e)}Me.createFromInputFallback=nl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Cg(e,t,n){return e??t??n}function WFt(e){var t=new Date(Me.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function v7(e){var t,n,r=[],o,i,s;if(!e._d){for(o=WFt(e),e._w&&e._a[xc]==null&&e._a[Cu]==null&&YFt(e),e._dayOfYear!=null&&(s=Cg(e._a[Ai],o[Ai]),(e._dayOfYear>_b(s)||e._dayOfYear===0)&&(kt(e)._overflowDayOfYear=!0),n=Tx(s,0,e._dayOfYear),e._a[Cu]=n.getUTCMonth(),e._a[xc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ao]===24&&e._a[Sl]===0&&e._a[_u]===0&&e._a[fp]===0&&(e._nextDay=!0,e._a[Ao]=0),e._d=(e._useUTC?Tx:Q4t).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ao]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(kt(e).weekdayMismatch=!0)}}function YFt(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=Cg(t.GG,e._a[Ai],Ax(ur(),1,4).year),r=Cg(t.W,1),o=Cg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=Ax(ur(),i,s),n=Cg(t.gg,e._a[Ai],u.year),r=Cg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>Du(n,i,s)?kt(e)._overflowWeeks=!0:c!=null?kt(e)._overflowWeekday=!0:(a=lje(n,r,o,i,s),e._a[Ai]=a.year,e._dayOfYear=a.dayOfYear)}Me.ISO_8601=function(){};Me.RFC_2822=function(){};function y7(e){if(e._f===Me.ISO_8601){hje(e);return}if(e._f===Me.RFC_2822){pje(e);return}e._a=[],kt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=K5e(e._f,e._locale).match(l7)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match($4t(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&kt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),wv[i]?(r?kt(e).empty=!1:kt(e).unusedTokens.push(i),F4t(i,r,e)):e._strict&&!r&&kt(e).unusedTokens.push(i);kt(e).charsLeftOver=a-c,t.length>0&&kt(e).unusedInput.push(t),e._a[Ao]<=12&&kt(e).bigHour===!0&&e._a[Ao]>0&&(kt(e).bigHour=void 0),kt(e).parsedDateParts=e._a.slice(0),kt(e).meridiem=e._meridiem,e._a[Ao]=qFt(e._locale,e._a[Ao],e._meridiem),u=kt(e).era,u!==null&&(e._a[Ai]=e._locale.erasConvertYear(u,e._a[Ai])),v7(e),g7(e)}function qFt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function GFt(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){kt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=s7({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],y7(t),i7(t)&&(s=!0),i+=kt(t).charsLeftOver,i+=kt(t).unusedTokens.length*10,kt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));rf(e,n||t)}function KFt(e){if(!e._d){var t=c7(e._i),n=t.day===void 0?t.date:t.day;e._a=Y5e([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),v7(e)}}function ZFt(e){var t=new Jw(g7(mje(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mje(e){var t=e._i,n=e._f;return e._locale=e._locale||vd(e._l),t===null||n===void 0&&t===""?YT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ll(t)?new Jw(g7(t)):(Qw(t)?e._d=t:Fl(n)?GFt(e):n?y7(e):XFt(e),i7(e)||(e._d=null),e))}function XFt(e){var t=e._i;hs(t)?e._d=new Date(Me.now()):Qw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?UFt(e):Fl(t)?(e._a=Y5e(t.slice(0),function(n){return parseInt(n,10)}),v7(e)):Ip(t)?KFt(e):Qu(t)?e._d=new Date(t):Me.createFromInputFallback(e)}function gje(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ip(e)&&o7(e)||Fl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,ZFt(i)}function ur(e,t,n,r){return gje(e,t,n,r,!1)}var QFt=nl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ur.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:YT()}),JFt=nl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ur.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:YT()});function vje(e,t){var n,r;if(t.length===1&&Fl(t[0])&&(t=t[0]),!t.length)return ur();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function eLt(){var e=[].slice.call(arguments,0);return vje("isBefore",e)}function tLt(){var e=[].slice.call(arguments,0);return vje("isAfter",e)}var nLt=function(){return Date.now?Date.now():+new Date},ey=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rLt(e){var t,n=!1,r,o=ey.length;for(t in e)if(pn(e,t)&&!(Zr.call(ey,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[ey[r]]){if(n)return!1;parseFloat(e[ey[r]])!==Ft(e[ey[r]])&&(n=!0)}return!0}function oLt(){return this._isValid}function iLt(){return Wl(NaN)}function tA(e){var t=c7(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=rLt(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=vd(),this._bubble()}function SS(e){return e instanceof tA}function TM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function sLt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Ft(e[s])!==Ft(t[s]))&&i++;return i+o}function yje(e,t){et(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+$c(~~(n/60),2)+t+$c(~~n%60,2)})}yje("Z",":");yje("ZZ","");Ve("Z",QT);Ve("ZZ",QT);Mn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=b7(QT,e)});var aLt=/([\+\-]|\d\d)/gi;function b7(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(aLt)||["-",0,0],i=+(o[1]*60)+Ft(o[2]),i===0?0:o[0]==="+"?i:-i)}function x7(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Ll(e)||Qw(e)?e.valueOf():ur(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Me.updateOffset(n,!1),n):ur(e).local()}function AM(e){return-Math.round(e._d.getTimezoneOffset())}Me.updateOffset=function(){};function lLt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=b7(QT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=AM(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?wje(this,Wl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:AM(this)}function cLt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function uLt(e){return this.utcOffset(0,e)}function dLt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(AM(this),"m")),this}function fLt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=b7(O4t,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hLt(e){return this.isValid()?(e=e?ur(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function pLt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function mLt(){if(!hs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return s7(e,this),e=mje(e),e._a?(t=e._isUTC?Wc(e._a):ur(e._a),this._isDSTShifted=this.isValid()&&sLt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gLt(){return this.isValid()?!this._isUTC:!1}function vLt(){return this.isValid()?this._isUTC:!1}function bje(){return this.isValid()?this._isUTC&&this._offset===0:!1}var yLt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bLt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wl(e,t){var n=e,r=null,o,i,s;return SS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Qu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=yLt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Ft(r[xc])*o,h:Ft(r[Ao])*o,m:Ft(r[Sl])*o,s:Ft(r[_u])*o,ms:Ft(TM(r[fp]*1e3))*o}):(r=bLt.exec(e))?(o=r[1]==="-"?-1:1,n={y:Th(r[2],o),M:Th(r[3],o),w:Th(r[4],o),d:Th(r[5],o),h:Th(r[6],o),m:Th(r[7],o),s:Th(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=xLt(ur(n.from),ur(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new tA(n),SS(e)&&pn(e,"_locale")&&(i._locale=e._locale),SS(e)&&pn(e,"_isValid")&&(i._isValid=e._isValid),i}Wl.fn=tA.prototype;Wl.invalid=iLt;function Th(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function VQ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function xLt(e,t){var n;return e.isValid()&&t.isValid()?(t=x7(t,e),e.isBefore(t)?n=VQ(e,t):(n=VQ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function xje(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(G5e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Wl(n,r),wje(this,o,e),this}}function wje(e,t,n,r){var o=t._milliseconds,i=TM(t._days),s=TM(t._months);e.isValid()&&(r=r??!0,s&&oje(e,Xk(e,"Month")+s*n),i&&X5e(e,"Date",Xk(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Me.updateOffset(e,i||s))}var wLt=xje(1,"add"),CLt=xje(-1,"subtract");function Cje(e){return typeof e=="string"||e instanceof String}function _Lt(e){return Ll(e)||Qw(e)||Cje(e)||Qu(e)||ELt(e)||SLt(e)||e===null||e===void 0}function SLt(e){var t=Ip(e)&&!o7(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||pn(e,i);return t&&n}function ELt(e){var t=Fl(e),n=!1;return t&&(n=e.filter(function(r){return!Qu(r)&&Cje(e)}).length===0),t&&n}function kLt(e){var t=Ip(e)&&!o7(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||pn(e,i);return t&&n}function jLt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function TLt(e,t){arguments.length===1&&(arguments[0]?_Lt(arguments[0])?(e=arguments[0],t=void 0):kLt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ur(),r=x7(n,this).startOf("day"),o=Me.calendarFormat(this,r)||"sameElse",i=t&&(Yc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ur(n)))}function ALt(){return new Jw(this)}function DLt(e,t){var n=Ll(e)?e:ur(e);return this.isValid()&&n.isValid()?(t=rl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function ILt(e,t){var n=Ll(e)?e:ur(e);return this.isValid()&&n.isValid()?(t=rl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function PLt(e,t,n,r){var o=Ll(e)?e:ur(e),i=Ll(t)?t:ur(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function OLt(e,t){var n=Ll(e)?e:ur(e),r;return this.isValid()&&n.isValid()?(t=rl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function RLt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $Lt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function MLt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=x7(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=rl(t),t){case"year":i=ES(this,r)/12;break;case"month":i=ES(this,r);break;case"quarter":i=ES(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Aa(i)}function ES(e,t){if(e.date()<t.date())return-ES(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function FLt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function LLt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?_S(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Yc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_S(n,"Z")):_S(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function BLt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function NLt(e){e||(e=this.isUtc()?Me.defaultFormatUtc:Me.defaultFormat);var t=_S(this,e);return this.localeData().postformat(t)}function zLt(e,t){return this.isValid()&&(Ll(e)&&e.isValid()||ur(e).isValid())?Wl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function VLt(e){return this.from(ur(),e)}function HLt(e,t){return this.isValid()&&(Ll(e)&&e.isValid()||ur(e).isValid())?Wl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ULt(e){return this.to(ur(),e)}function _je(e){var t;return e===void 0?this._locale._abbr:(t=vd(e),t!=null&&(this._locale=t),this)}var Sje=nl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Eje(){return this._locale}var e5=1e3,Cv=60*e5,t5=60*Cv,kje=(365*400+97)*24*t5;function _v(e,t){return(e%t+t)%t}function jje(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-kje:new Date(e,t,n).valueOf()}function Tje(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-kje:Date.UTC(e,t,n)}function WLt(e){var t,n;if(e=rl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Tje:jje,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=_v(t+(this._isUTC?0:this.utcOffset()*Cv),t5);break;case"minute":t=this._d.valueOf(),t-=_v(t,Cv);break;case"second":t=this._d.valueOf(),t-=_v(t,e5);break}return this._d.setTime(t),Me.updateOffset(this,!0),this}function YLt(e){var t,n;if(e=rl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Tje:jje,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=t5-_v(t+(this._isUTC?0:this.utcOffset()*Cv),t5)-1;break;case"minute":t=this._d.valueOf(),t+=Cv-_v(t,Cv)-1;break;case"second":t=this._d.valueOf(),t+=e5-_v(t,e5)-1;break}return this._d.setTime(t),Me.updateOffset(this,!0),this}function qLt(){return this._d.valueOf()-(this._offset||0)*6e4}function GLt(){return Math.floor(this.valueOf()/1e3)}function KLt(){return new Date(this.valueOf())}function ZLt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function XLt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function QLt(){return this.isValid()?this.toISOString():null}function JLt(){return i7(this)}function e6t(){return rf({},kt(this))}function t6t(){return kt(this).overflow}function n6t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}et("N",0,0,"eraAbbr");et("NN",0,0,"eraAbbr");et("NNN",0,0,"eraAbbr");et("NNNN",0,0,"eraName");et("NNNNN",0,0,"eraNarrow");et("y",["y",1],"yo","eraYear");et("y",["yy",2],0,"eraYear");et("y",["yyy",3],0,"eraYear");et("y",["yyyy",4],0,"eraYear");Ve("N",w7);Ve("NN",w7);Ve("NNN",w7);Ve("NNNN",h6t);Ve("NNNNN",p6t);Mn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?kt(n).era=o:kt(n).invalidEra=e});Ve("y",Q0);Ve("yy",Q0);Ve("yyy",Q0);Ve("yyyy",Q0);Ve("yo",m6t);Mn(["y","yy","yyy","yyyy"],Ai);Mn(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ai]=n._locale.eraYearOrdinalParse(e,o):t[Ai]=parseInt(e,10)});function r6t(e,t){var n,r,o,i=this._eras||vd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Me(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Me(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function o6t(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function i6t(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Me(e.since).year():Me(e.since).year()+(t-e.offset)*n}function s6t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function a6t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function l6t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function c6t(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Me(o[e].since).year())*n+o[e].offset;return this.year()}function u6t(e){return pn(this,"_erasNameRegex")||C7.call(this),e?this._erasNameRegex:this._erasRegex}function d6t(e){return pn(this,"_erasAbbrRegex")||C7.call(this),e?this._erasAbbrRegex:this._erasRegex}function f6t(e){return pn(this,"_erasNarrowRegex")||C7.call(this),e?this._erasNarrowRegex:this._erasRegex}function w7(e,t){return t.erasAbbrRegex(e)}function h6t(e,t){return t.erasNameRegex(e)}function p6t(e,t){return t.erasNarrowRegex(e)}function m6t(e,t){return t._eraYearOrdinalRegex||Q0}function C7(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Zs(s[o].name)),e.push(Zs(s[o].abbr)),n.push(Zs(s[o].narrow)),r.push(Zs(s[o].name)),r.push(Zs(s[o].abbr)),r.push(Zs(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}et(0,["gg",2],0,function(){return this.weekYear()%100});et(0,["GG",2],0,function(){return this.isoWeekYear()%100});function nA(e,t){et(0,[e,e.length],0,t)}nA("gggg","weekYear");nA("ggggg","weekYear");nA("GGGG","isoWeekYear");nA("GGGGG","isoWeekYear");Li("weekYear","gg");Li("isoWeekYear","GG");Bi("weekYear",1);Bi("isoWeekYear",1);Ve("G",XT);Ve("g",XT);Ve("GG",pr,ma);Ve("gg",pr,ma);Ve("GGGG",d7,u7);Ve("gggg",d7,u7);Ve("GGGGG",ZT,GT);Ve("ggggg",ZT,GT);tC(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ft(e)});tC(["gg","GG"],function(e,t,n,r){t[r]=Me.parseTwoDigitYear(e)});function g6t(e){return Aje.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function v6t(e){return Aje.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function y6t(){return Du(this.year(),1,4)}function b6t(){return Du(this.isoWeekYear(),1,4)}function x6t(){var e=this.localeData()._week;return Du(this.year(),e.dow,e.doy)}function w6t(){var e=this.localeData()._week;return Du(this.weekYear(),e.dow,e.doy)}function Aje(e,t,n,r,o){var i;return e==null?Ax(this,r,o).year:(i=Du(e,r,o),t>i&&(t=i),C6t.call(this,e,t,n,r,o))}function C6t(e,t,n,r,o){var i=lje(e,t,n,r,o),s=Tx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}et("Q",0,"Qo","quarter");Li("quarter","Q");Bi("quarter",7);Ve("Q",Q5e);Mn("Q",function(e,t){t[Cu]=(Ft(e)-1)*3});function _6t(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}et("D",["DD",2],"Do","date");Li("date","D");Bi("date",9);Ve("D",pr);Ve("DD",pr,ma);Ve("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Mn(["D","DD"],xc);Mn("Do",function(e,t){t[xc]=Ft(e.match(pr)[0])});var Dje=X0("Date",!0);et("DDD",["DDDD",3],"DDDo","dayOfYear");Li("dayOfYear","DDD");Bi("dayOfYear",4);Ve("DDD",KT);Ve("DDDD",J5e);Mn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ft(e)});function S6t(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}et("m",["mm",2],0,"minute");Li("minute","m");Bi("minute",14);Ve("m",pr);Ve("mm",pr,ma);Mn(["m","mm"],Sl);var E6t=X0("Minutes",!1);et("s",["ss",2],0,"second");Li("second","s");Bi("second",15);Ve("s",pr);Ve("ss",pr,ma);Mn(["s","ss"],_u);var k6t=X0("Seconds",!1);et("S",0,0,function(){return~~(this.millisecond()/100)});et(0,["SS",2],0,function(){return~~(this.millisecond()/10)});et(0,["SSS",3],0,"millisecond");et(0,["SSSS",4],0,function(){return this.millisecond()*10});et(0,["SSSSS",5],0,function(){return this.millisecond()*100});et(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});et(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});et(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});et(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Li("millisecond","ms");Bi("millisecond",16);Ve("S",KT,Q5e);Ve("SS",KT,ma);Ve("SSS",KT,J5e);var of,Ije;for(of="SSSS";of.length<=9;of+="S")Ve(of,Q0);function j6t(e,t){t[fp]=Ft(("0."+e)*1e3)}for(of="S";of.length<=9;of+="S")Mn(of,j6t);Ije=X0("Milliseconds",!1);et("z",0,0,"zoneAbbr");et("zz",0,0,"zoneName");function T6t(){return this._isUTC?"UTC":""}function A6t(){return this._isUTC?"Coordinated Universal Time":""}var Te=Jw.prototype;Te.add=wLt;Te.calendar=TLt;Te.clone=ALt;Te.diff=MLt;Te.endOf=YLt;Te.format=NLt;Te.from=zLt;Te.fromNow=VLt;Te.to=HLt;Te.toNow=ULt;Te.get=I4t;Te.invalidAt=t6t;Te.isAfter=DLt;Te.isBefore=ILt;Te.isBetween=PLt;Te.isSame=OLt;Te.isSameOrAfter=RLt;Te.isSameOrBefore=$Lt;Te.isValid=JLt;Te.lang=Sje;Te.locale=_je;Te.localeData=Eje;Te.max=JFt;Te.min=QFt;Te.parsingFlags=e6t;Te.set=P4t;Te.startOf=WLt;Te.subtract=CLt;Te.toArray=ZLt;Te.toObject=XLt;Te.toDate=KLt;Te.toISOString=LLt;Te.inspect=BLt;typeof Symbol<"u"&&Symbol.for!=null&&(Te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Te.toJSON=QLt;Te.toString=FLt;Te.unix=GLt;Te.valueOf=qLt;Te.creationData=n6t;Te.eraName=s6t;Te.eraNarrow=a6t;Te.eraAbbr=l6t;Te.eraYear=c6t;Te.year=aje;Te.isLeapYear=X4t;Te.weekYear=g6t;Te.isoWeekYear=v6t;Te.quarter=Te.quarters=_6t;Te.month=ije;Te.daysInMonth=G4t;Te.week=Te.weeks=rFt;Te.isoWeek=Te.isoWeeks=oFt;Te.weeksInYear=x6t;Te.weeksInWeekYear=w6t;Te.isoWeeksInYear=y6t;Te.isoWeeksInISOWeekYear=b6t;Te.date=Dje;Te.day=Te.days=vFt;Te.weekday=yFt;Te.isoWeekday=bFt;Te.dayOfYear=S6t;Te.hour=Te.hours=kFt;Te.minute=Te.minutes=E6t;Te.second=Te.seconds=k6t;Te.millisecond=Te.milliseconds=Ije;Te.utcOffset=lLt;Te.utc=uLt;Te.local=dLt;Te.parseZone=fLt;Te.hasAlignedHourOffset=hLt;Te.isDST=pLt;Te.isLocal=gLt;Te.isUtcOffset=vLt;Te.isUtc=bje;Te.isUTC=bje;Te.zoneAbbr=T6t;Te.zoneName=A6t;Te.dates=nl("dates accessor is deprecated. Use date instead.",Dje);Te.months=nl("months accessor is deprecated. Use month instead",ije);Te.years=nl("years accessor is deprecated. Use year instead",aje);Te.zone=nl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cLt);Te.isDSTShifted=nl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",mLt);function D6t(e){return ur(e*1e3)}function I6t(){return ur.apply(null,arguments).parseZone()}function Pje(e){return e}var mn=a7.prototype;mn.calendar=v4t;mn.longDateFormat=w4t;mn.invalidDate=_4t;mn.ordinal=k4t;mn.preparse=Pje;mn.postformat=Pje;mn.relativeTime=T4t;mn.pastFuture=A4t;mn.set=m4t;mn.eras=r6t;mn.erasParse=o6t;mn.erasConvertYear=i6t;mn.erasAbbrRegex=d6t;mn.erasNameRegex=u6t;mn.erasNarrowRegex=f6t;mn.months=U4t;mn.monthsShort=W4t;mn.monthsParse=q4t;mn.monthsRegex=Z4t;mn.monthsShortRegex=K4t;mn.week=J4t;mn.firstDayOfYear=nFt;mn.firstDayOfWeek=tFt;mn.weekdays=fFt;mn.weekdaysMin=pFt;mn.weekdaysShort=hFt;mn.weekdaysParse=gFt;mn.weekdaysRegex=xFt;mn.weekdaysShortRegex=wFt;mn.weekdaysMinRegex=CFt;mn.isPM=SFt;mn.meridiem=jFt;function n5(e,t,n,r){var o=vd(),i=Wc().set(r,t);return o[n](i,e)}function Oje(e,t,n){if(Qu(e)&&(t=e,e=void 0),e=e||"",t!=null)return n5(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=n5(e,r,n,"month");return o}function _7(e,t,n,r){typeof e=="boolean"?(Qu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Qu(t)&&(n=t,t=void 0),t=t||"");var o=vd(),i=e?o._week.dow:0,s,a=[];if(n!=null)return n5(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=n5(t,(s+i)%7,r,"day");return a}function P6t(e,t){return Oje(e,t,"months")}function O6t(e,t){return Oje(e,t,"monthsShort")}function R6t(e,t,n){return _7(e,t,n,"weekdays")}function $6t(e,t,n){return _7(e,t,n,"weekdaysShort")}function M6t(e,t,n){return _7(e,t,n,"weekdaysMin")}Ef("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ft(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Me.lang=nl("moment.lang is deprecated. Use moment.locale instead.",Ef);Me.langData=nl("moment.langData is deprecated. Use moment.localeData instead.",vd);var nu=Math.abs;function F6t(){var e=this._data;return this._milliseconds=nu(this._milliseconds),this._days=nu(this._days),this._months=nu(this._months),e.milliseconds=nu(e.milliseconds),e.seconds=nu(e.seconds),e.minutes=nu(e.minutes),e.hours=nu(e.hours),e.months=nu(e.months),e.years=nu(e.years),this}function Rje(e,t,n,r){var o=Wl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function L6t(e,t){return Rje(this,e,t,1)}function B6t(e,t){return Rje(this,e,t,-1)}function HQ(e){return e<0?Math.floor(e):Math.ceil(e)}function N6t(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=HQ(DM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Aa(e/1e3),r.seconds=o%60,i=Aa(o/60),r.minutes=i%60,s=Aa(i/60),r.hours=s%24,t+=Aa(s/24),c=Aa($je(t)),n+=c,t-=HQ(DM(c)),a=Aa(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function $je(e){return e*4800/146097}function DM(e){return e*146097/4800}function z6t(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=rl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+$je(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(DM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function V6t(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ft(this._months/12)*31536e6:NaN}function yd(e){return function(){return this.as(e)}}var H6t=yd("ms"),U6t=yd("s"),W6t=yd("m"),Y6t=yd("h"),q6t=yd("d"),G6t=yd("w"),K6t=yd("M"),Z6t=yd("Q"),X6t=yd("y");function Q6t(){return Wl(this)}function J6t(e){return e=rl(e),this.isValid()?this[e+"s"]():NaN}function Mm(e){return function(){return this.isValid()?this._data[e]:NaN}}var e8t=Mm("milliseconds"),t8t=Mm("seconds"),n8t=Mm("minutes"),r8t=Mm("hours"),o8t=Mm("days"),i8t=Mm("months"),s8t=Mm("years");function a8t(){return Aa(this.days()/7)}var hu=Math.round,Jg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function l8t(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function c8t(e,t,n,r){var o=Wl(e).abs(),i=hu(o.as("s")),s=hu(o.as("m")),a=hu(o.as("h")),c=hu(o.as("d")),u=hu(o.as("M")),d=hu(o.as("w")),f=hu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,l8t.apply(null,p)}function u8t(e){return e===void 0?hu:typeof e=="function"?(hu=e,!0):!1}function d8t(e,t){return Jg[e]===void 0?!1:t===void 0?Jg[e]:(Jg[e]=t,e==="s"&&(Jg.ss=t-1),!0)}function f8t(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Jg,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Jg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=c8t(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var eO=Math.abs;function ig(e){return(e>0)-(e<0)||+e}function rA(){if(!this.isValid())return this.localeData().invalidDate();var e=eO(this._milliseconds)/1e3,t=eO(this._days),n=eO(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=Aa(e/60),o=Aa(r/60),e%=60,r%=60,i=Aa(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=ig(this._months)!==ig(a)?"-":"",d=ig(this._days)!==ig(a)?"-":"",f=ig(this._milliseconds)!==ig(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var rn=tA.prototype;rn.isValid=oLt;rn.abs=F6t;rn.add=L6t;rn.subtract=B6t;rn.as=z6t;rn.asMilliseconds=H6t;rn.asSeconds=U6t;rn.asMinutes=W6t;rn.asHours=Y6t;rn.asDays=q6t;rn.asWeeks=G6t;rn.asMonths=K6t;rn.asQuarters=Z6t;rn.asYears=X6t;rn.valueOf=V6t;rn._bubble=N6t;rn.clone=Q6t;rn.get=J6t;rn.milliseconds=e8t;rn.seconds=t8t;rn.minutes=n8t;rn.hours=r8t;rn.days=o8t;rn.weeks=a8t;rn.months=i8t;rn.years=s8t;rn.humanize=f8t;rn.toISOString=rA;rn.toString=rA;rn.toJSON=rA;rn.locale=_je;rn.localeData=Eje;rn.toIsoString=nl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rA);rn.lang=Sje;et("X",0,0,"unix");et("x",0,0,"valueOf");Ve("x",XT);Ve("X",R4t);Mn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Mn("x",function(e,t,n){n._d=new Date(Ft(e))});//! moment.js
Me.version="2.29.4";h4t(ur);Me.fn=Te;Me.min=eLt;Me.max=tLt;Me.now=nLt;Me.utc=Wc;Me.unix=D6t;Me.months=P6t;Me.isDate=Qw;Me.locale=Ef;Me.invalid=YT;Me.duration=Wl;Me.isMoment=Ll;Me.weekdays=R6t;Me.parseZone=I6t;Me.localeData=vd;Me.isDuration=SS;Me.monthsShort=O6t;Me.weekdaysMin=M6t;Me.defineLocale=m7;Me.updateLocale=IFt;Me.locales=PFt;Me.weekdaysShort=$6t;Me.normalizeUnits=rl;Me.relativeTimeRounding=u8t;Me.relativeTimeThreshold=d8t;Me.calendarFormat=jLt;Me.prototype=Te;Me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function oA(e,t){return Me(e).format(t)}function S7(e,t){const n=Me(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}var h8t=Z_e,p8t=V0,UQ=_T;function m8t(e,t,n){var r=e.length;if(r<2)return r?UQ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=h8t(i[o]||s,e[a],t,n));return UQ(p8t(i,1),t,n)}var g8t=m8t,v8t=u_e,y8t=U0,b8t=g8t,x8t=mT,w8t=y8t(function(e){return b8t(v8t(e,x8t))}),C8t=w8t;const _8t=Pe(C8t);var S8t=gT,E8t=a9,k8t=Object.prototype,j8t=k8t.hasOwnProperty,T8t=E8t(function(e,t,n){j8t.call(e,n)?e[n].push(t):S8t(e,n,[t])}),A8t=T8t;const E7=Pe(A8t);function D8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const iA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function J0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function k7(e){return"nodeType"in e}function Rs(e){var t,n;return e?J0(e)?e:k7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function j7(e){const{Document:t}=Rs(e);return e instanceof t}function nC(e){return J0(e)?!1:e instanceof Rs(e).HTMLElement}function Mje(e){return e instanceof Rs(e).SVGElement}function e1(e){return e?J0(e)?e.document:k7(e)?j7(e)?e:nC(e)||Mje(e)?e.ownerDocument:document:document:document}const Bl=iA?h.useLayoutEffect:h.useEffect;function T7(e){const t=h.useRef(e);return Bl(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function I8t(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ix(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Bl(()=>{n.current!==e&&(n.current=e)},t),n}function rC(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function r5(e){const t=T7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function IM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let tO={};function oC(e,t){return h.useMemo(()=>{if(t)return t;const n=tO[e]==null?0:tO[e]+1;return tO[e]=n,e+"-"+n},[e,t])}function Fje(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Sv=Fje(1),Px=Fje(-1);function P8t(e){return"clientX"in e&&"clientY"in e}function A7(e){if(!e)return!1;const{KeyboardEvent:t}=Rs(e.target);return t&&e instanceof t}function O8t(e){if(!e)return!1;const{TouchEvent:t}=Rs(e.target);return t&&e instanceof t}function PM(e){if(O8t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return P8t(e)?{x:e.clientX,y:e.clientY}:null}const Ox=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ox.Translate.toString(e),Ox.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),WQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function R8t(e){return e.matches(WQ)?e:e.querySelector(WQ)}const $8t={display:"none"};function M8t(e){let{id:t,value:n}=e;return ne.createElement("div",{id:t,style:$8t},n)}function F8t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function L8t(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Lje=h.createContext(null);function B8t(e){const t=h.useContext(Lje);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function N8t(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const z8t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},V8t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function H8t(e){let{announcements:t=V8t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=z8t}=e;const{announce:i,announcement:s}=L8t(),a=oC("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),B8t(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=ne.createElement(ne.Fragment,null,ne.createElement(M8t,{id:r,value:o.draggable}),ne.createElement(F8t,{id:a,announcement:s}));return n?vc.createPortal(d,n):d}var Eo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Eo||(Eo={}));function o5(){}function YQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function U8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Nl=Object.freeze({x:0,y:0});function Bje(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Nje(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function W8t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function qQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function zje(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function GQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Y8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=GQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=Bje(GQ(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(Nje)},q8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=qQ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=qQ(c),d=o.reduce((p,m,v)=>p+Bje(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(Nje)};function G8t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const K8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=G8t(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(W8t)};function Z8t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Vje(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Nl}function X8t(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const Q8t=X8t(1);function J8t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function e9t(e,t,n){const r=J8t(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const t9t={ignoreTransform:!1};function t1(e,t){t===void 0&&(t=t9t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Rs(e).getComputedStyle(e);u&&(n=e9t(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function KQ(e){return t1(e,{ignoreTransform:!0})}function n9t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function r9t(e,t){return t===void 0&&(t=Rs(e).getComputedStyle(e)),t.position==="fixed"}function o9t(e,t){t===void 0&&(t=Rs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function sA(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(j7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!nC(o)||Mje(o)||n.includes(o))return n;const i=Rs(e).getComputedStyle(o);return o!==e&&o9t(o,i)&&n.push(o),r9t(o,i)?n:r(o.parentNode)}return e?r(e):n}function Hje(e){const[t]=sA(e,1);return t??null}function nO(e){return!iA||!e?null:J0(e)?e:k7(e)?j7(e)||e===e1(e).scrollingElement?window:nC(e)?e:null:null}function Uje(e){return J0(e)?e.scrollX:e.scrollLeft}function Wje(e){return J0(e)?e.scrollY:e.scrollTop}function OM(e){return{x:Uje(e),y:Wje(e)}}var No;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(No||(No={}));function Yje(e){return!iA||!e?!1:e===document.scrollingElement}function qje(e){const t={x:0,y:0},n=Yje(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const i9t={x:.2,y:.2};function s9t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=i9t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=qje(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=No.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=No.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=No.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=No.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function a9t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Gje(e){return e.reduce((t,n)=>Sv(t,OM(n)),Nl)}function l9t(e){return e.reduce((t,n)=>t+Uje(n),0)}function c9t(e){return e.reduce((t,n)=>t+Wje(n),0)}function u9t(e,t){if(t===void 0&&(t=t1),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Hje(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const d9t=[["x",["left","right"],l9t],["y",["top","bottom"],c9t]];let D7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=sA(n),o=Gje(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of d9t)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class Sb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function f9t(e){const{EventTarget:t}=Rs(e);return e instanceof t?e:e1(e)}function rO(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ka;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ka||(ka={}));function ZQ(e){e.preventDefault()}function h9t(e){e.stopPropagation()}var Qt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Qt||(Qt={}));const Kje={start:[Qt.Space,Qt.Enter],cancel:[Qt.Esc],end:[Qt.Space,Qt.Enter]},p9t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Qt.Right:return{...n,x:n.x+25};case Qt.Left:return{...n,x:n.x-25};case Qt.Down:return{...n,y:n.y+25};case Qt.Up:return{...n,y:n.y-25}}};class I7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Sb(e1(n)),this.windowListeners=new Sb(Rs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ka.Resize,this.handleCancel),this.windowListeners.add(ka.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ka.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&u9t(r),n(Nl)}handleKeyDown(t){if(A7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Kje,coordinateGetter:s=p9t,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Nl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Px(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=qje(g),E=a9t(g),j={x:Math.min(y===Qt.Right?E.right-E.width/2:E.right,Math.max(y===Qt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(y===Qt.Down?E.bottom-E.height/2:E.bottom,Math.max(y===Qt.Down?E.top:E.top+E.height/2,f.y))},k=y===Qt.Right&&!b||y===Qt.Left&&!w,T=y===Qt.Down&&!C||y===Qt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=y===Qt.Right&&A<=_.x||y===Qt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=y===Qt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=y===Qt.Down&&A<=_.y||y===Qt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=y===Qt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,Sv(Px(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}I7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Kje,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function XQ(e){return!!(e&&"distance"in e)}function QQ(e){return!!(e&&"delay"in e)}class P7{constructor(t,n,r){var o;r===void 0&&(r=f9t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=e1(s),this.documentListeners=new Sb(this.document),this.listeners=new Sb(r),this.windowListeners=new Sb(Rs(s)),this.initialCoordinates=(o=PM(i))!=null?o:Nl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(ka.Resize,this.handleCancel),this.windowListeners.add(ka.DragStart,ZQ),this.windowListeners.add(ka.VisibilityChange,this.handleCancel),this.windowListeners.add(ka.ContextMenu,ZQ),this.documentListeners.add(ka.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(QQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(XQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ka.Click,h9t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ka.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=PM(t))!=null?n:Nl,u=Px(o,c);if(!r&&a){if(XQ(a)){if(a.tolerance!=null&&rO(u,a.tolerance))return this.handleCancel();if(rO(u,a.distance))return this.handleStart()}return QQ(a)&&rO(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Qt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const m9t={move:{name:"pointermove"},end:{name:"pointerup"}};class O7 extends P7{constructor(t){const{event:n}=t,r=e1(n.target);super(t,m9t,r)}}O7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const g9t={move:{name:"mousemove"},end:{name:"mouseup"}};var RM;(function(e){e[e.RightClick=2]="RightClick"})(RM||(RM={}));class v9t extends P7{constructor(t){super(t,g9t,e1(t.event.target))}}v9t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===RM.RightClick?!1:(r==null||r({event:n}),!0)}}];const oO={move:{name:"touchmove"},end:{name:"touchend"}};class y9t extends P7{constructor(t){super(t,oO)}static setup(){return window.addEventListener(oO.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(oO.move.name,t)};function t(){}}}y9t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Eb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Eb||(Eb={}));var i5;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(i5||(i5={}));function b9t(e){let{acceleration:t,activator:n=Eb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=i5.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=w9t({delta:f,disabled:!i}),[v,g]=I8t(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(n){case Eb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Eb.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=y.current.x*x.current.x,j=y.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===i5.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=s9t(S,j,b,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),y.current=T,x.current=k;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(b),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const x9t={x:{[No.Backward]:!1,[No.Forward]:!1},y:{[No.Backward]:!1,[No.Forward]:!1}};function w9t(e){let{delta:t,disabled:n}=e;const r=IM(t);return rC(o=>{if(n||!r||!o)return x9t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[No.Backward]:o.x[No.Backward]||i.x===-1,[No.Forward]:o.x[No.Forward]||i.x===1},y:{[No.Backward]:o.y[No.Backward]||i.y===-1,[No.Forward]:o.y[No.Forward]||i.y===1}}},[n,t,r])}function C9t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return rC(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function _9t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Rx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Rx||(Rx={}));var $M;(function(e){e.Optimized="optimized"})($M||($M={}));const JQ=new Map;function S9t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=y(),p=Ix(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=rC(x=>{if(f&&!n)return JQ;if(!x||x===JQ||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new D7(c(C),C):null;w.rect.current=_,_&&b.set(w.id,_)}return b}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function y(){switch(u){case Rx.Always:return!1;case Rx.BeforeDragging:return n;default:return!n}}}function Zje(e,t){return rC(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function E9t(e,t){return Zje(e,t)}function k9t(e){let{callback:t,disabled:n}=e;const r=T7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function aA(e){let{callback:t,disabled:n}=e;const r=T7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function j9t(e){return new D7(t1(e),e)}function eJ(e,t,n){t===void 0&&(t=j9t);const[r,o]=h.useReducer(a,null),i=k9t({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=aA({callback:o});return Bl(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function T9t(e){const t=Zje(e);return Vje(e,t)}const tJ=[];function A9t(e){const t=h.useRef(e),n=rC(r=>e?r&&r!==tJ&&e&&t.current&&e.parentNode===t.current.parentNode?r:sA(e):tJ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function D9t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=nO(i.target);s&&n(a=>a?(a.set(s,OM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=nO(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,OM(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=nO(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Sv(i,s),Nl):Gje(e):Nl,[e,t])}function nJ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Nl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Px(e,n.current):Nl}function I9t(e){h.useEffect(()=>{if(!iA)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function P9t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function Xje(e){return h.useMemo(()=>e?n9t(e):null,[e])}const iO=[];function O9t(e,t){t===void 0&&(t=t1);const[n]=e,r=Xje(n?Rs(n):null),[o,i]=h.useReducer(a,iO),s=aA({callback:i});return e.length>0&&o===iO&&i(),Bl(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>Yje(c)?r:new D7(t(c),c)):iO}}function R9t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return nC(t)?t:e}function $9t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(nC(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=aA({callback:o}),s=h.useCallback(u=>{const d=R9t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=r5(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const M9t=[{sensor:O7,options:{}},{sensor:I7,options:{}}],F9t={current:{}},kS={draggable:{measure:KQ},droppable:{measure:KQ,strategy:Rx.WhileDragging,frequency:$M.Optimized},dragOverlay:{measure:t1}};class kb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const L9t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new kb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:o5},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kS,measureDroppableContainers:o5,windowRect:null,measuringScheduled:!1},B9t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:o5,draggableNodes:new Map,over:null,measureDroppableContainers:o5},lA=h.createContext(B9t),Qje=h.createContext(L9t);function N9t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new kb}}}function z9t(e,t){switch(t.type){case Eo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Eo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Eo.DragEnd:case Eo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Eo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new kb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Eo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new kb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Eo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new kb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function V9t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(lA),i=IM(r),s=IM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!A7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=R8t(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function H9t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function U9t(e){return h.useMemo(()=>({draggable:{...kS.draggable,...e==null?void 0:e.draggable},droppable:{...kS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...kS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function W9t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Bl(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Vje(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=Hje(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const Jje=h.createContext({...Nl,scaleX:1,scaleY:1});var Hd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Hd||(Hd={}));const Y9t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=M9t,collisionDetection:f=K8t,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(z9t,void 0,N9t),[y,x]=g,[b,w]=N8t(),[C,_]=h.useState(Hd.Uninitialized),S=C===Hd.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=y,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Bn;return E!=null?{id:E,data:(Bn=A==null?void 0:A.data)!=null?Bn:F9t,rect:D}:null},[E,A]),P=h.useRef(null),[$,R]=h.useState(null),[z,B]=h.useState(null),H=Ix(v,Object.values(v)),W=oC("DndDescribedBy",s),V=h.useMemo(()=>T.getEnabled(),[T]),G=U9t(p),{droppableRects:te,measureDroppableContainers:N,measuringScheduled:Y}=S9t(V,{dragging:S,dependencies:[k.x,k.y],config:G.droppable}),q=C9t(j,E),Z=h.useMemo(()=>z?PM(z):null,[z]),se=$s(),re=E9t(q,G.draggable.measure);W9t({activeNode:E?j.get(E):null,config:se.layoutShiftCompensation,initialRect:re,measure:G.draggable.measure});const K=eJ(q,G.draggable.measure,re),Q=eJ(q?q.parentElement:null),le=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=T.getNodeFor((n=le.current.over)==null?void 0:n.id),ae=$9t({measure:G.dragOverlay.measure}),Ce=(r=ae.nodeRef.current)!=null?r:q,_e=S?(o=ae.rect)!=null?o:K:null,he=!!(ae.nodeRef.current&&ae.rect),be=T9t(he?null:K),Le=Xje(Ce?Rs(Ce):null),Re=A9t(S?me??q:null),lt=O9t(Re),ot=H9t(m,{transform:{x:k.x-be.x,y:k.y-be.y,scaleX:1,scaleY:1},activatorEvent:z,active:I,activeNodeRect:K,containerNodeRect:Q,draggingNodeRect:_e,over:le.current.over,overlayNodeRect:ae.rect,scrollableAncestors:Re,scrollableAncestorRects:lt,windowRect:Le}),Bt=Z?Sv(Z,k):null,Rt=D9t(Re),Ae=nJ(Rt),Ge=nJ(Rt,[K]),Ye=Sv(ot,Ae),tt=_e?Q8t(_e,ot):null,xt=I&&tt?f({active:I,collisionRect:tt,droppableRects:te,droppableContainers:V,pointerCoordinates:Bt}):null,Ee=zje(xt,"id"),[Be,ct]=h.useState(null),pi=he?ot:Sv(ot,Ge),on=Z8t(pi,(i=Be==null?void 0:Be.rect)!=null?i:null,K),Ko=h.useCallback((Bn,zn)=>{let{sensor:Gr,options:We}=zn;if(P.current==null)return;const wt=j.get(P.current);if(!wt)return;const er=Bn.nativeEvent,Nn=new Gr({active:P.current,activeNode:wt,event:er,options:We,context:le,onStart(jr){const Oo=P.current;if(Oo==null)return;const Ms=j.get(Oo);if(!Ms)return;const{onDragStart:va}=H.current,Km={active:{id:Oo,data:Ms.data,rect:D}};vc.unstable_batchedUpdates(()=>{va==null||va(Km),_(Hd.Initializing),x({type:Eo.DragStart,initialCoordinates:jr,active:Oo}),b({type:"onDragStart",event:Km})})},onMove(jr){x({type:Eo.DragMove,coordinates:jr})},onEnd:ga(Eo.DragEnd),onCancel:ga(Eo.DragCancel)});vc.unstable_batchedUpdates(()=>{R(Nn),B(Bn.nativeEvent)});function ga(jr){return async function(){const{active:Ms,collisions:va,over:Km,scrollAdjustedTranslate:MC}=le.current;let Xl=null;if(Ms&&MC){const{cancelDrop:Qc}=H.current;Xl={activatorEvent:er,active:Ms,collisions:va,delta:MC,over:Km},jr===Eo.DragEnd&&typeof Qc=="function"&&await Promise.resolve(Qc(Xl))&&(jr=Eo.DragCancel)}P.current=null,vc.unstable_batchedUpdates(()=>{x({type:jr}),_(Hd.Uninitialized),ct(null),R(null),B(null);const Qc=jr===Eo.DragEnd?"onDragEnd":"onDragCancel";if(Xl){const k1=H.current[Qc];k1==null||k1(Xl),b({type:Qc,event:Xl})}})}}},[j]),qt=h.useCallback((Bn,zn)=>(Gr,We)=>{const wt=Gr.nativeEvent,er=j.get(We);if(P.current!==null||!er||wt.dndKit||wt.defaultPrevented)return;const Nn={active:er};Bn(Gr,zn.options,Nn)===!0&&(wt.dndKit={capturedBy:zn.sensor},P.current=We,Ko(Gr,zn))},[j,Ko]),no=_9t(d,qt);I9t(d),Bl(()=>{K&&C===Hd.Initializing&&_(Hd.Initialized)},[K,C]),h.useEffect(()=>{const{onDragMove:Bn}=H.current,{active:zn,activatorEvent:Gr,collisions:We,over:wt}=le.current;if(!zn||!Gr)return;const er={active:zn,activatorEvent:Gr,collisions:We,delta:{x:Ye.x,y:Ye.y},over:wt};vc.unstable_batchedUpdates(()=>{Bn==null||Bn(er),b({type:"onDragMove",event:er})})},[Ye.x,Ye.y]),h.useEffect(()=>{const{active:Bn,activatorEvent:zn,collisions:Gr,droppableContainers:We,scrollAdjustedTranslate:wt}=le.current;if(!Bn||P.current==null||!zn||!wt)return;const{onDragOver:er}=H.current,Nn=We.get(Ee),ga=Nn&&Nn.rect.current?{id:Nn.id,rect:Nn.rect.current,data:Nn.data,disabled:Nn.disabled}:null,jr={active:Bn,activatorEvent:zn,collisions:Gr,delta:{x:wt.x,y:wt.y},over:ga};vc.unstable_batchedUpdates(()=>{ct(ga),er==null||er(jr),b({type:"onDragOver",event:jr})})},[Ee]),Bl(()=>{le.current={activatorEvent:z,active:I,activeNode:q,collisionRect:tt,collisions:xt,droppableRects:te,draggableNodes:j,draggingNode:Ce,draggingNodeRect:_e,droppableContainers:T,over:Be,scrollableAncestors:Re,scrollAdjustedTranslate:Ye},D.current={initial:_e,translated:tt}},[I,q,xt,tt,j,Ce,_e,te,T,Be,Re,Ye]),b9t({...se,delta:k,draggingRect:tt,pointerCoordinates:Bt,scrollableAncestors:Re,scrollableAncestorRects:lt});const al=h.useMemo(()=>({active:I,activeNode:q,activeNodeRect:K,activatorEvent:z,collisions:xt,containerNodeRect:Q,dragOverlay:ae,draggableNodes:j,droppableContainers:T,droppableRects:te,over:Be,measureDroppableContainers:N,scrollableAncestors:Re,scrollableAncestorRects:lt,measuringConfiguration:G,measuringScheduled:Y,windowRect:Le}),[I,q,K,z,xt,Q,ae,j,T,te,Be,N,Re,lt,G,Y,Le]),ll=h.useMemo(()=>({activatorEvent:z,activators:no,active:I,activeNodeRect:K,ariaDescribedById:{draggable:W},dispatch:x,draggableNodes:j,over:Be,measureDroppableContainers:N}),[z,no,I,K,x,W,j,Be,N]);return ne.createElement(Lje.Provider,{value:w},ne.createElement(lA.Provider,{value:ll},ne.createElement(Qje.Provider,{value:al},ne.createElement(Jje.Provider,{value:on},u)),ne.createElement(V9t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ne.createElement(H8t,{...a,hiddenTextDescribedById:W}));function $s(){const Bn=($==null?void 0:$.autoScrollEnabled)===!1,zn=typeof c=="object"?c.enabled===!1:c===!1,Gr=S&&!Bn&&!zn;return typeof c=="object"?{...c,enabled:Gr}:{enabled:Gr}}}),q9t=h.createContext(null),rJ="button",G9t="Droppable";function K9t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=oC(G9t),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(lA),{role:m=rJ,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?Jje:q9t),[b,w]=r5(),[C,_]=r5(),S=P9t(s,t),E=Ix(n);Bl(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===rJ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,y,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:y,listeners:r?void 0:S,node:b,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function Z9t(){return h.useContext(Qje)}const X9t="Droppable",Q9t={timeout:25};function J9t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=oC(X9t),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(lA),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...Q9t,...o},x=Ix(g??r),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=aA({callback:b,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=r5(C),E=Ix(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Bl(()=>(a({type:Eo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:Eo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:Eo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function eTe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function e7t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function z_(e){return e!==null&&e>=0}function t7t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function n7t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const V_={scaleX:1,scaleY:1},r7t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=o7t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...V_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...V_}:s<o&&s>=i?{x:a.width+c,y:0,...V_}:{x:0,y:0,...V_}};function o7t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const tTe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=eTe(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},H_={scaleX:1,scaleY:1},i7t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...H_}:null}const c=s7t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...H_}:o<n&&o>=s?{x:0,y:a.height+c,...H_}:{x:0,y:0,...H_}};function s7t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const nTe="Sortable",rTe=ne.createContext({activeIndex:-1,containerId:nTe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tTe,disabled:{draggable:!1,droppable:!1}});function a7t(e){let{children:t,id:n,items:r,strategy:o=tTe,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=Z9t(),f=oC(nTe,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!t7t(m,x.current),w=y!==-1&&g===-1||b,C=n7t(i);Bl(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:e7t(m,c),strategy:o}),[g,f,C.draggable,C.droppable,w,m,y,c,p,o]);return ne.createElement(rTe.Provider,{value:_},t)}const l7t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return eTe(n,r,o).indexOf(t)},c7t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},u7t={duration:200,easing:"ease"},oTe="transform",d7t=Ox.Transition.toString({property:oTe,duration:0,easing:"linear"}),f7t={roleDescription:"sortable"};function h7t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Bl(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=t1(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function iTe(e){let{animateLayoutChanges:t=c7t,attributes:n,disabled:r,data:o,getNewIndex:i=l7t,id:s,strategy:a,resizeObserverConfig:c,transition:u=u7t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(rTe),w=p7t(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=J9t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:P,setNodeRef:$,listeners:R,isDragging:z,over:B,setActivatorNodeRef:H,transform:W}=K9t({id:s,data:_,attributes:{...f7t,...n},disabled:w.draggable}),V=D8t(T,$),G=!!A,te=G&&!v&&z_(p)&&z_(y),N=!x&&z,Y=N&&te?W:null,Z=te?Y??(a??b)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:y,index:C}):null,se=z_(p)&&z_(y)?i({id:s,items:d,activeIndex:p,overIndex:y}):C,re=A==null?void 0:A.id,K=h.useRef({activeId:re,items:d,newIndex:se,containerId:f}),Q=d!==K.current.items,le=t({active:A,containerId:f,isDragging:z,isSorting:G,id:s,index:C,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),me=h7t({disabled:!le,index:C,node:j,rect:E});return h.useEffect(()=>{G&&K.current.newIndex!==se&&(K.current.newIndex=se),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[G,se,f,d]),h.useEffect(()=>{if(re===K.current.activeId)return;if(re&&!K.current.activeId){K.current.activeId=re;return}const Ce=setTimeout(()=>{K.current.activeId=re},50);return()=>clearTimeout(Ce)},[re]),{active:A,activeIndex:p,attributes:P,data:_,rect:E,index:C,newIndex:se,items:d,isOver:k,isSorting:G,isDragging:z,listeners:R,node:j,overIndex:y,over:B,setNodeRef:V,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:me??Z,transition:ae()};function ae(){if(me||Q&&K.current.newIndex===C)return d7t;if(!(N&&!A7(D)||!u)&&(G||le))return Ox.Transition.toString({...u,property:oTe})}}function p7t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function s5(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const m7t=[Qt.Down,Qt.Right,Qt.Up,Qt.Left],g7t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(m7t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Qt.Down:r.top<p.top&&c.push(f);break;case Qt.Up:r.top>p.top&&c.push(f);break;case Qt.Left:r.left>p.left&&c.push(f);break;case Qt.Right:r.left<p.left&&c.push(f);break}});const u=q8t({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=zje(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=sA(v).some((S,E)=>a[E]!==S),x=sTe(f,p),b=v7t(f,p),w=y||!x?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:Px(C,w)}}}};function sTe(e,t){return!s5(e)||!s5(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function v7t(e,t){return!s5(e)||!s5(t)||!sTe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const y7t=e=>{let{transform:t}=e;return{...t,y:0}},b7t=e=>{let{transform:t}=e;return{...t,x:0}};var x7t=mm;function w7t(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!x7t(s):n(s,a)))var a=s,c=i}return c}var aTe=w7t;function C7t(e,t){return e<t}var _7t=C7t,S7t=aTe,E7t=_7t,k7t=Dm;function j7t(e){return e&&e.length?S7t(e,k7t,E7t):void 0}var T7t=j7t;const A7t=Pe(T7t);function D7t(e,t){return e>t}var I7t=D7t,P7t=aTe,O7t=I7t,R7t=Dm;function $7t(e){return e&&e.length?P7t(e,R7t,O7t):void 0}var M7t=$7t;const F7t=Pe(M7t),L7t=/[0-9]/,B7t=/^[a-zA-Z0-9_]$/,N7t=/^[a-zA-Z_]$/,lTe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},z7t=Object.keys(lTe);class V7t{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(N7t)?r:null):r.match(B7t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(L7t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of z7t){const r=lTe[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function H7t(e){return new V7t(e).tokenize()}class U7t{constructor(t){this.tokens=H7t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function cTe(e){const t=new U7t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function W7t(e){const[t,n]=uTe(e);if(!t)throw new Error("Head cannot be null");return q7t(t,n)}function uTe(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function Y7t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function q7t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=uTe(n);return[r,Y7t(o,t)]}return[n,t]})}function dTe(e){return _g(e,!1)}function _g(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(_g(e.rhs,!1)):"",r="".concat(_g(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(dTe(o));const i=r[0];i&&_g(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>_g(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(_g(e.term,!1))}}class Ks{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=sO(r,t);let o="end"in this.expr&&this.expr.end||n();o=sO(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return oJ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return oJ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Ks({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return W7t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Ks(n):null,tail:r?new Ks(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Ks(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[sO(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return dTe(this.expr)}static fromPath(t){const n=cTe(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Ks(n)}static attributeReference(t){return new Ks({type:"attribute",name:t})}static indexReference(t){return new Ks({type:"index",value:t})}}function oJ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function sO(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class ev{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=Pn(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new ev(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new ev(new Ks({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new ev(t.head,t.tail)):[new ev(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class hp{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new hp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Ks({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new hp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new hp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Ks.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Ks.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=cTe(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new ev(null,new Ks(n));return new hp(r.descend())}}function jS(e){return e!==null&&typeof e=="object"}class a5{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new a5(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return jS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return jS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!jS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new a5(this._value[t],this.path.concat(t)):null}get(){return this._value}}function G7t(e,t){const n=[],r=hp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new a5(t);return fTe(r,o),n}function fTe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{iJ(o.target,t).forEach(i=>{fTe(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(iJ(o,t))})}function iJ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return PT(n)}function K7t(e,t){return G7t(e,t).map(r=>({path:r.path,value:r.get()}))}const Z7t=/^[a-z_$]+/;function hTe(e){let t="";return e.forEach((n,r)=>{t+=X7t(n,r===0)}),t}function X7t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(jS(e)){const n=e;return Object.keys(e).map(r=>Q7t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&Z7t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function Q7t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class pTe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function sJ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class aJ{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,sJ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),sJ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function cA(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class J7t{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=eBt(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=tBt(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=cA(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function eBt(e,t){let n=A7t(cA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function tBt(e,t){let n=F7t(cA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class mTe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class nBt{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(cA(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function lJ(e,t){if(typeof t!="string")return t;const[n]=V5e(e,t,{allowExceedingIndices:!0});return n}class rBt{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=U5e(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=lJ(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=lJ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function gTe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(gTe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new mTe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new pTe(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new nBt(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new rBt(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new aJ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new aJ(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new J7t(e.id,u,d,f.items))}return t}class uc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new uc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return ty(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return ty(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!ty(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new uc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new uc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new uc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new uc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new uc(r,this.path)}setAttribute(t,n){if(!ty(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new uc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!ty(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new uc(n,this.path)}}function ty(e){return e!==null&&typeof e=="object"}let oBt=class{constructor(t){this.patches=gTe(t)}apply(t){const n=new uc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=hp.fromPath(i.path).setPayload(i);n=MM(s,n)}return n}};function MM(e,t){const n=e.payload instanceof pTe||e.payload instanceof mTe;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,MM(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=MM(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&iBt(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function iBt(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const sBt=md,zt=Ss("mutator-document");class Ac{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=sBt(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new oBt(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){zt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return zt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Ac({mutations:r})}}let aBt=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,zt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&zt.enabled&&zt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(zt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(zt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return zt.enabled&&(zt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),zt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),zt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),zt("needRebase === %s",n)),n}return zt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return zt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return zt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return zt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),zt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Ac.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ut(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class U_{constructor(t){this.out=[],t?zt("Reset mutation buffer to rev %s",t._rev):zt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(zt("Purged mutation buffer"),n=new Ac({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(zt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}zt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=K7t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=H5e(z5e(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=hTe(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Ac({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Ac({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const lBt=1e3*60;class cBt{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Ac.applyAll(t,this.mutations)}squash(t){const n=Ac.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const cJ=(e,t)=>e.concat(t.mutations);class uBt{constructor(t){this.committerRunning=!1,this.buffer=new U_(t),this.document=new aBt(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?zt("Document state reset to revision %s",t._rev):zt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),zt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(zt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(zt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}zt("Committing local changes");const r=this.buffer.purge();this.commits.push(new cBt(r?[r]:[],{resolve:t,reject:n})),this.buffer=new U_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{zt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{zt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,lBt))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new U_(this.LOCAL),this.committerRunning=!1}};zt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){zt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){zt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new U_(this.LOCAL),this.onMutation&&this.onMutation(t);return}zt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){zt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ut(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(cJ,[]),n.reduce(cJ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}function vTe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(dBt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function dBt(e){return typeof e=="object"&&typeof e._key=="string"}class $y extends Error{constructor(t,n,r){const o=vTe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const fBt=/^[a-z0-9][a-z0-9_.-]+$/i,hBt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,pBt=/^[a-z_]/i;function uJ(e,t,n){if(!pBt.test(e))throw new $y("Keys must start with a letter (a-z)",n.concat(e),t);if(!hBt.test(e))throw new $y("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new $y("Keys must be strings",n.concat(e),t);if(!fBt.test(t))throw new $y("Invalid key - use less exotic characters",n.concat(e),t)}return e}const mBt=["_id","_type","_createdAt","_updatedAt","_rev"],FM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function gBt(e){return{...FM,...e,diffMatchPatch:{...FM.diffMatchPatch,...e.diffMatchPatch||{}}}}function uA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=gBt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?yBt(e,t,u,r,o):vBt(e,t,u,r,o):wBt(e,t,u,r,o)}function vBt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?dJ:hJ).map(d=>uJ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?dJ:hJ).map(d=>uJ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];uA(e[f],t[f],n,r.concat([f]),o)}return o}function yBt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>R7(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);SBt(n)||!aO(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new $y("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return aO(s)&&aO(a)?bBt(s,a,n,r,o):yTe(s,a,n,r,o)}function yTe(e,t,n,r,o){for(let i=0;i<e.length;i++)uA(e[i],R7(t[i],r,i,n),n,r.concat(i),o);return o}function bBt(e,t,n,r,o){const i=fJ(e),s=fJ(t);if(!_Bt(i.keys,s.keys))return yTe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=R7(s.index[c],r,a,n);uA(u,d,n,r.concat({_key:c}),o)}return o}function xBt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=Xw(e,t),d=t7(u);c=H5e(z5e(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function wBt(e,t,n,r,o){const i=xBt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function dJ(e){return mBt.indexOf(e)===-1}function aO(e){const t=[];for(let n=0;n<e.length;n++){const r=CBt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function CBt(e){return typeof e=="object"&&e!==null&&e._key}function fJ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function _Bt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function R7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=vTe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function SBt(e){return!!e.ifRevisionID}function hJ(e){return!0}var bTe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(Cs)})(bTe);var EBt=bTe.ExifReader,kBt=function(e){var t=new EBt;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[jBt(o)]=n[o].description;return r};function jBt(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const TBt=Pe(kBt);var ABt=ah,DBt=ih,IBt=sh;function PBt(e){return function(t,n,r){var o=Object(t);if(!DBt(t)){var i=ABt(n);t=IBt(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var OBt=PBt,RBt=OBt,$Bt=s5e,MBt=RBt($Bt),FBt=MBt;const xTe=Pe(FBt);var LBt=Math.ceil,BBt=Math.max;function NBt(e,t,n,r){for(var o=-1,i=BBt(LBt((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var zBt=NBt,VBt=zBt,HBt=w8,lO=i5e;function UBt(e){return function(t,n,r){return r&&typeof r!="number"&&HBt(t,n,r)&&(n=r=void 0),t=lO(t),n===void 0?(n=t,t=0):n=lO(n),r=r===void 0?t<n?1:-1:lO(r),VBt(t,n,r,e)}}var WBt=UBt,YBt=WBt,qBt=YBt(),GBt=qBt;const $7=Pe(GBt);var wTe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,y){var x="-",b="",w="",C=!0,_={},S,E,j,k,T,A,D,I,P,$,R,z,B,H,W="";if(typeof g!="string")return"";if(typeof y=="string"&&(x=y),D=s.en,I=i.en,typeof y=="object"){S=y.maintainCase||!1,_=y.custom&&typeof y.custom=="object"?y.custom:_,j=+y.truncate>1&&y.truncate||!1,k=y.uric||!1,T=y.uricNoSlash||!1,A=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,k&&(W+=a),T&&(W+=c),A&&(W+=u),D=y.lang&&s[y.lang]&&C?s[y.lang]:C?s.en:{},I=y.lang&&i[y.lang]?i[y.lang]:y.lang===!1||y.lang===!0?{}:i.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(V){_[V+""]=V+""}),E=!0):E=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(V){_[V+""]=V+""}),Object.keys(_).forEach(function(V){var G;V.length>1?G=new RegExp("\\b"+p(V)+"\\b","gi"):G=new RegExp(p(V),"gi"),g=g.replace(G,_[V])});for(R in _)W+=R}for(W+=x,W=p(W),g=g.replace(/(^\s+|\s+$)/g,""),B=!1,H=!1,$=0,z=g.length;$<z;$++)R=g[$],m(R,_)?B=!1:I[R]?(R=B&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],B=!1):R in n?($+1<z&&r.indexOf(g[$+1])>=0?(w+=R,R=""):H===!0?(R=o[w]+n[R],w=""):R=B&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],B=!1,H=!1):R in o?(w+=R,R="",$===z-1&&(R=o[w]),H=!0):D[R]&&!(k&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=B||b.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=g[$+1]!==void 0&&g[$+1].match(/[A-Za-z0-9]/)?x:"",B=!0):(H===!0?(R=o[w]+R,w="",H=!1):B&&(/[A-Za-z0-9]/.test(R)||b.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),B=!1),b+=R.replace(new RegExp("[^\\w\\s"+W+"_-]","g"),x);return E&&(b=b.replace(/(\w)(\S*)/g,function(V,G,te){var N=G.toUpperCase()+(te!==null?te:"");return Object.keys(_).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&b.length>j&&(P=b.charAt(j)===x,b=b.slice(0,j),P||(b=b.slice(0,b.lastIndexOf(x)))),!S&&!E&&(b=b.toLowerCase()),b},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var y in g)if(g[y]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(Cs)})(wTe);var KBt=wTe.exports,ZBt=KBt;const CTe=Pe(ZBt);var XBt=U0,QBt=w8;function JBt(e){return XBt(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&QBt(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var eNt=JBt,tNt=Y0,nNt=eNt,rNt=sh,oNt=nNt(function(e,t,n,r){tNt(t,rNt(t),e,r)}),iNt=oNt;const sNt=Pe(iNt);var aNt=zc;function lNt(e,t){return aNt(t,function(n){return e[n]})}var cNt=lNt,uNt=cNt,dNt=sh;function fNt(e){return e==null?[]:uNt(e,dNt(e))}var _Te=fNt;const hNt=Pe(_Te);var im={};Object.defineProperty(im,"__esModule",{value:!0});im.SKIP=ETe;var STe=im.reduce=kTe;im.withCustomPathSegment=im.SKIP_MARKER=void 0;function M7(e,t){return gNt(e)||mNt(e,t)||pNt()}function pNt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function mNt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function gNt(e){if(Array.isArray(e))return e}function TS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?TS=function(n){return typeof n}:TS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},TS(e)}function dA(e,t,n){return t}function vNt(e){return Array.isArray(e)?"array":e===null?"null":TS(e)}var F7={_:"SKIP_MARKER"};im.SKIP_MARKER=F7;function ETe(e){return[F7,e]}function L7(e,t,n,r){var o=t(e,n,r);return o===ETe?[!0,e]:Array.isArray(o)&&o[0]===F7?[!0,o[1]]:[!1,o]}function yNt(e,t,n,r){var o=L7(e,t,n,r),i=M7(o,2),s=i[1];return s}function bNt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:dA,i=L7(e,t,n,r),s=M7(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return B7(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function xNt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:dA,i=L7(e,t,n,r),s=M7(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return B7(u,t,d,r.concat(o(d,f,n)),o)},c)}function B7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:dA,i=vNt(n);return i==="object"?bNt(e,t,n,r,o):i==="array"?xNt(e,t,n,r,o):yNt(e,t,n,r)}function kTe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:dA;return B7(n,t,e,[],r)}var wNt=function(t){return function(n,r,o){return kTe(n,r,o,t)}};im.withCustomPathSegment=wNt;function N7(e){return t=>mo(()=>{const n=new _r;return t.pipe(t_e(()=>n,{leading:!0,trailing:!0}),ZCe((r,o)=>NCe(e(r,o),Rl).pipe(XCe(()=>{n.next()}))))})}var CNt=Object.defineProperty,_Nt=(e,t,n)=>t in e?CNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pJ=(e,t,n)=>(_Nt(e,typeof t!="symbol"?t+"":t,n),n);function SNt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ENt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(SNt(n));return new RegExp("^".concat(t.join("."),"$"))}class jTe{constructor(t){pJ(this,"pattern"),pJ(this,"patternRe"),this.pattern=t,this.patternRe=ENt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var kNt=Object.defineProperty,jNt=(e,t,n)=>t in e?kNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ny=(e,t,n)=>(jNt(e,typeof t!="symbol"?t+"":t,n),n);class sf{constructor(t){ny(this,"type","stream"),ny(this,"generator"),ny(this,"ticker"),ny(this,"isDone"),ny(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const TNt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function ANt(e){return TNt.test(e)?new Date(e):null}function DNt(e){const t=Ah(e.getUTCFullYear(),4),n=Ah(e.getUTCMonth()+1,2),r=Ah(e.getUTCDate(),2),o=Ah(e.getUTCHours(),2),i=Ah(e.getUTCMinutes(),2),s=Ah(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(Ah(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function Ah(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var INt=Object.defineProperty,PNt=(e,t,n)=>t in e?INt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LM=(e,t,n)=>(PNt(e,typeof t!="symbol"?t+"":t,n),n);class bd{constructor(t,n){LM(this,"data"),LM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield ir(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Oe=new bd(null,"null"),Fo=new bd(!0,"boolean"),lo=new bd(!1,"boolean");class l0{constructor(t){LM(this,"date"),this.date=t}static parseToValue(t){const n=ANt(t);return n?new bd(new l0(n),"datetime"):Oe}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new l0(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return DNt(this.date)}toJSON(){return this.toString()}}function Na(e){return Number.isFinite(e)?new bd(e,"number"):Oe}function za(e){return new bd(e,"string")}function BM(e){return new bd(e,"datetime")}function ONt(e){return new bd(e,"path")}function RNt(e){return e&&typeof e.next=="function"}function ir(e){return RNt(e)?new sf(async function*(){for await(const t of e)yield ir(t)}):e==null?Oe:new bd(e,c0(e))}function c0(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof jTe?"path":e instanceof l0?"datetime":typeof e}function cO(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const $Nt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,MNt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,TTe=/(\b\.+|\.+\b)/g,FNt=1024;function LNt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function ATe(e){return e.replace(TTe,"").match($Nt)||[]}function BNt(e){return DTe(e).map(n=>r=>r.some(o=>n.test(o)))}function DTe(e){return(e.replace(TTe,"").match(MNt)||[]).map(n=>new RegExp("^".concat(n.slice(0,FNt).replace(/\*/g,".*"),"$"),"i"))}async function l5(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const mJ={datetime:1,number:2,string:3,boolean:4};function pp(e,t){const n=c0(e),r=c0(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function NNt(e,t){const n=c0(e),r=c0(t),o=mJ[n]||100,i=mJ[r]||100;if(o!==i)return o-i;let s=pp(e,t);return s===null&&(s=0),s}const zNt={"==":function(t,n){return cO(t,n)?Fo:lo},"!=":function(t,n){return cO(t,n)?lo:Fo},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=pp(t.data,n.data);return r===null?Oe:r>0?Fo:lo},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=pp(t.data,n.data);return r===null?Oe:r>=0?Fo:lo},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=pp(t.data,n.data);return r===null?Oe:r<0?Fo:lo},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=pp(t.data,n.data);return r===null?Oe:r<=0?Fo:lo},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Oe:n.data.matches(t.data)?Fo:lo;if(n.isArray()){for await(const r of n)if(cO(t,r))return Fo;return lo}return Oe},match:async function(t,n){let r=[],o=[];return await l5(t,a=>{r=r.concat(ATe(a))}),await l5(n,a=>{o=o.concat(BNt(a))})&&LNt(r,o)?Fo:lo},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?BM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Na(t.data+n.data):t.type==="string"&&n.type==="string"?za(t.data+n.data):t.type==="object"&&n.type==="object"?ir({...t.data,...n.data}):t.type==="array"&&n.type==="array"?ir(t.data.concat(n.data)):t.isArray()&&n.isArray()?new sf(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Oe},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?BM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Na(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Na(t.data-n.data):Oe},"*":W_((e,t)=>e*t),"/":W_((e,t)=>e/t),"%":W_((e,t)=>e%t),"**":W_((e,t)=>Math.pow(e,t))};function W_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Na(r)}return Oe}}var VNt=Object.defineProperty,HNt=(e,t,n)=>t in e?VNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sg=(e,t,n)=>(HNt(e,typeof t!="symbol"?t+"":t,n),n);class $x{constructor(t,n,r,o,i){sg(this,"params"),sg(this,"source"),sg(this,"value"),sg(this,"parent"),sg(this,"context"),sg(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new $x(this.params,this.source,t,this.context,this.parent):new $x(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function z7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z7;const r=UNt[e.type];return r(e,t,n)}function gJ(e,t){return"then"in e?e.then(t):t(e)}const UNt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return ir(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Oe;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Oe;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=zNt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Oe},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=pp(await a.get(),await c.get());if(d===null)return Oe;const f=pp(await a.get(),await u.get());return f===null?Oe:s?d>=0&&f<=0?Fo:lo:d>=0&&f<0?Fo:lo},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new sf(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):Oe},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Oe;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?ir(i.data[o]):Oe},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Oe;const s=await i.get(),a=o<0?o+s.length:o;return ir(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Oe;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),ir(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Oe;const i=o.data._ref;if(typeof i!="string")return Oe;if(t.context.dereference)return ir(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Oe},Value(e){let{value:t}=e;return ir(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return ir(o)},Array(e,t,n){let{elements:r}=e;return new sf(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Fo:i.type!=="boolean"||s.type!=="boolean"?Oe:lo},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?lo:i.type!=="boolean"||s.type!=="boolean"?Oe:Fo},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Oe:o.data?lo:Fo},Neg(e,t,n){let{base:r}=e;return gJ(n(r,t),o=>o.type!=="number"?Oe:Na(-o.data))},Pos(e,t,n){let{base:r}=e;return gJ(n(r,t),o=>o.type!=="number"?Oe:Na(o.data))},Asc(){return Oe},Desc(){return Oe},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Oe},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new sf(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Oe},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new sf(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):Oe}};function ITe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=ir(t.root),r=ir(t.dataset),o={...t.params},i=new $x(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?ir(t.after):null,before:t.before?ir(t.before):null,dereference:t.dereference},null);return z7(e,i)}function My(e){switch(e.type){case"Group":return My(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return My(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return My(e.left)&&My(e.right);default:return!1}default:return!1}}const WNt=new $x({},Oe,Oe,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function uO(e){return My(e)?PTe(e):null}function PTe(e){const t=z7(e,WNt,PTe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function YNt(e){if(e.type==="object")return RTe(e.data);if(e.isArray()){const t=await OTe(e);if(t.length>0)return t.join(`

`)}return null}async function OTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=RTe(n.data);r!==null&&t.push(r)}else n.isArray()&&await OTe(n,t);return t}function RTe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const vJ=1.2;async function Sg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return qNt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await Sg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await Sg(e.left,t,n),o=await Sg(e.right,t,n);return r+o}case"And":{const r=await Sg(e.left,t,n),o=await Sg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function qNt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await l5(o,d=>{s=s.concat(ATe(d))}),!await l5(i,d=>{a=a.concat(DTe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(vJ+1)/(f+vJ)}return u}function NM(e,t){switch(c0(e)){case"array":for(const n of e)if(NM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(NM(n,t))return!0;break}return!1}function GNt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const Fn={};Fn.anywhere=async function(){throw new Error("not implemented")};Fn.anywhere.arity=1;Fn.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Oe};Fn.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Oe;let i=0;for await(const s of o)i++;return Na(i)};Fn.count.arity=1;Fn.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Oe:l0.parseToValue(o.data)};Fn.dateTime.arity=1;Fn.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?lo:Fo};Fn.defined.arity=1;Fn.identity=async function(t,n){return za(n.context.identity)};Fn.identity.arity=0;Fn.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Na(GNt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Na(i)}return Oe};Fn.length.arity=1;Fn.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Oe:ONt(new jTe(o.data))};Fn.path.arity=1;Fn.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return za("".concat(o.data));default:return Oe}};Fn.string.arity=1;Fn.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return lo;const i=await n.value.get();return NM(i,o)?Fo:lo};Fn.references.arity=e=>e>=1;Fn.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Oe;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Oe;s=a.data}return s===0?i<0?Na(-Math.round(-i)):Na(Math.round(i)):Na(Number(i.toFixed(s)))};Fn.round.arity=e=>e>=1&&e<=2;Fn.now=async function(t,n){return za(n.context.timestamp.toISOString())};Fn.now.arity=0;Fn.boost=async function(){throw new Error("unexpected boost call")};Fn.boost.arity=2;const Yl={};Yl.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Oe:za(r.data.toLowerCase())};Yl.lower.arity=1;Yl.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Oe:za(r.data.toUpperCase())};Yl.upper.arity=1;Yl.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Oe;const o=await n(e[1],t);return o.type!=="string"?Oe:r.data.length===0?ir([]):o.data.length===0?ir(Array.from(r.data)):ir(r.data.split(o.data))};Yl.split.arity=2;Fn.lower=Yl.lower;Fn.upper=Yl.upper;Yl.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Oe;const o=await n(e[1],t);return o.type!=="string"?Oe:r.data.startsWith(o.data)?Fo:lo};Yl.startsWith.arity=2;const Fm={};Fm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;const o=await n(e[1],t);if(o.type!=="string")return Oe;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Oe}s=!0}return ir(i)};Fm.join.arity=2;Fm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new sf(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Oe};Fm.compact.arity=1;Fm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new sf(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Oe};Fm.unique.arity=1;const V7={};V7.text=async function(e,t,n){const r=await n(e[0],t),o=await YNt(r);return o===null?Oe:za(o)};V7.text.arity=1;const H7={};H7.projectId=async function(e,t){return t.context.sanity?za(t.context.sanity.projectId):Oe};H7.dataset=async function(e,t){return t.context.sanity?za(t.context.sanity.dataset):Oe};const iC={};iC.order=async function(t,n,r,o){if(await!0,!t.isArray())return Oe;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=NNt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),ir(c.map(d=>d[0]))};iC.order.arity=e=>e>=1;iC.score=async function(t,n,r,o){if(!t.isArray())return Oe;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await Sg(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),ir(s)};iC.score.arity=e=>e>=1;const fh={};fh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?za("update"):r?za("create"):n?za("delete"):Oe};fh.changedAny=()=>{throw new Error("not implemented")};fh.changedAny.arity=1;fh.changedAny.mode="delta";fh.changedOnly=()=>{throw new Error("not implemented")};fh.changedOnly.arity=1;fh.changedOnly.mode="delta";const sC={};sC.changedAny=()=>{throw new Error("not implemented")};sC.changedAny.arity=3;sC.changedOnly=()=>{throw new Error("not implemented")};sC.changedOnly.arity=3;const xd={};xd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;(o===void 0||i.data<o)&&(o=i.data)}return ir(o)};xd.min.arity=1;xd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;(o===void 0||i.data>o)&&(o=i.data)}return ir(o)};xd.max.arity=1;xd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;o+=i.data}return ir(o)};xd.sum.arity=1;xd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Oe;o+=s.data,i++}return i===0?Oe:ir(o/i)};xd.avg.arity=1;const U7={};U7.now=async function(t,n,r){return BM(new l0(n.context.timestamp))};U7.now.arity=0;const KNt={global:Fn,string:Yl,array:Fm,pt:V7,delta:fh,diff:sC,sanity:H7,math:xd,dateTime:U7};var ZNt=Object.defineProperty,XNt=(e,t,n)=>t in e?ZNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ry=(e,t,n)=>(XNt(e,typeof t!="symbol"?t+"":t,n),n);class QNt{constructor(t,n,r){ry(this,"string"),ry(this,"marks"),ry(this,"index"),ry(this,"parseOptions"),ry(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const JNt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,dO=/^\d+/,mp=/^[a-zA-Z_][a-zA-Z_0-9]*/,Y_=1,q_=2,G_=3,ro=4,ag=4,K_=6,Z_=6,X_=7,Q_=7,J_=7,e2=8,ezt=10,tzt=10,nzt=8;function rzt(e){let t=0;t=Qe(e,t);let n=An(e,t,0);return n.type==="error"?n:(t=Qe(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function An(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=An(e,Qe(e,t+1),ezt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=An(e,Qe(e,t+1),nzt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=An(e,Qe(e,t+1),0);if(u.type==="error")return u;switch(t=Qe(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Qe(e,t+1);;){if(u=An(e,t,0),u.type==="error")return u;if(t=Qe(e,u.position),e[t]!==",")break;t=Qe(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=An(e,Qe(e,t+1),tzt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=zM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Qe(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Qe(e,t+3));let u=An(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Qe(e,t),e[t]!==","||(t=Qe(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=ozt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=pc(e,t+1,mp);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=pc(e,t,dO);if(u){t+=u;let f="integer";if(e[t]==="."){let p=pc(e,t+1,dO);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=pc(e,t,dO);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=pc(e,t,mp);if(d){switch(t+=d,e[t]){case":":case"(":{let f=bJ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Qe(e,t);if(u===e.length){t=u;break}if(a=yJ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=yJ(e,Qe(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>Y_||s<=Y_)break e;let p=An(e,Qe(e,u+2),Y_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=Y_;break}case"=":{if(n>ro||s<=ro)break e;let p=An(e,Qe(e,u+2),ro+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=ro;break}default:break e}break}case"+":{if(n>K_||s<K_)break e;let f=An(e,Qe(e,u+1),K_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=K_;break}case"-":{if(n>Z_||s<Z_)break e;let f=An(e,Qe(e,u+1),Z_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=Z_;break}case"*":{if(e[u+1]==="*"){if(n>e2||s<=e2)break e;let p=An(e,Qe(e,u+2),e2);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=e2;break}if(n>X_||s<X_)break e;let f=An(e,Qe(e,u+1),X_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=X_;break}case"/":{if(n>Q_||s<Q_)break e;let f=An(e,Qe(e,u+1),Q_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=Q_;break}case"%":{if(n>J_||s<J_)break e;let f=An(e,Qe(e,u+1),J_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=J_;break}case"<":case">":{if(n>ro||s<=ro)break e;let f=u+1;e[f]==="="&&f++;let p=An(e,Qe(e,f),ro+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=ro;break}case"|":{if(e[u+1]==="|"){if(n>q_||s<q_)break e;let f=An(e,Qe(e,u+2),q_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=q_}else{if(n>11||s<11)break e;let f=Qe(e,u+1),p=pc(e,f,mp);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=bJ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>G_||s<G_)break e;let f=An(e,Qe(e,u+2),G_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=G_;break}case"!":{if(e[u+1]!=="="||n>ro||s<=ro)break e;let f=An(e,Qe(e,u+2),ro+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=ro;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>ag||s<ag)break e;i.unshift({name:"desc",position:r}),t=u+4,s=ag;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>ag||s<ag)break e;i.unshift({name:"asc",position:r}),t=u+3,s=ag;break}default:switch(izt(e,u,mp)){case"in":{if(n>ro||s<=ro)break e;t=Qe(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Qe(e,t+1));let m=t,v=An(e,t,ro+1);if(v.type==="error")return v;if(t=Qe(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Qe(e,t+3)):t=Qe(e,t+2);let y=An(e,t,ro+1);if(y.type==="error")return y;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,y.marks),t=y.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Qe(e,t),e[t]!==")")return{type:"error",position:t};t++}s=ro;break}case"match":{if(n>ro||s<=ro)break e;let p=An(e,Qe(e,u+5),ro+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function yJ(e,t){let n=t;switch(e[t]){case".":{t=Qe(e,t+1);let s=t,a=pc(e,t,mp);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Qe(e,t),i=pc(e,o,mp);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Qe(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=An(e,t,0);if(a.type==="error")return a;if(t=Qe(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=Qe(e,t);let u=An(e,t,0);return u.type==="error"?u:(t=Qe(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Qe(e,t+1),e[t]==="{"){let s=zM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=zM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function bJ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+2);let i=pc(e,n,mp);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Qe(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Qe(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=An(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Qe(e,i.position),e[n]!==","||(n=Qe(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function zM(e,t){let n=[{name:"object",position:t}];for(t=Qe(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Qe(e,t+3),e[t]!=="}"&&e[t]!==","){let o=An(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=An(e,t,0);if(o.type==="error")return o;let i=Qe(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=An(e,Qe(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Qe(e,t),e[t]!==",")break;t=Qe(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function ozt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Qe(e,t){return t+pc(e,t,JNt)}function pc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function izt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function $a(e,t){return n=>t(e(n))}function VM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function szt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function AS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:$a(e,t.build)};case"a-b":return{type:"a-b",build:$a(e,t.build)};case"b-b":return{type:"a-a",build:$a(e,VM(t.build))};case"b-a":return{type:"a-a",build:$a(e,szt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function fO(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:$a(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:$a(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function azt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:$a(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:$a(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function lzt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:$a(VM(e),t.build)};case"a-b":return{type:"a-b",build:$a(VM(e),t.build)};case"b-a":return{type:"b-a",build:$a(e,t.build)};case"b-b":return{type:"b-b",build:$a(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var czt=Object.defineProperty,uzt=(e,t,n)=>t in e?czt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HM=(e,t,n)=>(uzt(e,typeof t!="symbol"?t+"":t,n),n);const dzt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function fzt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Wi extends Error{constructor(){super(...arguments),HM(this,"name","GroqQueryError")}}const at={group(e){return{type:"Group",base:e.process(at)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(at).n+1}},traverse(e){const t=e.process(at),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process($Te));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=AS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(at)}},pos(e){return{type:"Pos",base:e.process(at)}},add(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(at),n=e.processString(),r=e.process(at);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(at),n=e.getMark().name==="inc_range";e.shift();const r=e.process(at),o=e.process(at);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=dzt[r];break}case"unicode_hex":e.shift(),t+=fzt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(hzt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(at);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(at));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Wi("unexpected argument to select()");e.shift();const a=e.process(at),c=e.process(at);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Wi("unexpected argument to select()");const a=e.process(at);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)pzt(t,n,r.length)?(e.process(UM),r.push({type:"Selector"})):r.push(e.process(at));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Wi("unexpected boost");const o=KNt[t];if(!o)throw new Wi("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Wi("Undefined function: ".concat(n));if(i.arity!==void 0&&xJ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Wi("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(at);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Wi("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(at)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(at)});continue}}o.push(e.process(at))}e.shift(),e.allowBoost=i;const s=iC[r];if(!s)throw new Wi("Undefined pipe function: ".concat(r));return s.arity&&xJ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Wi("unexpected =>")},and(e){const t=e.process(at),n=e.process(at);return{type:"And",left:t,right:n}},or(e){const t=e.process(at),n=e.process(at);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(at)}},asc(e){throw new Wi("unexpected asc")},desc(e){throw new Wi("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},hzt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(at),r=e.process(at);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(at);return{type:"ObjectAttributeValue",name:MTe(t),value:t}},object_pair(e){const t=e.process(at);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(at);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(at)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},$Te={square_bracket(e){const t=e.process(at),n=uO(t);return n&&n.type==="number"?r=>azt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>fO(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>AS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(at),r=e.process(at),o=uO(n),i=uO(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Wi("slicing must use constant numbers");return s=>AS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(at);return n=>lzt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>fO(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>fO(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>AS(n=>({type:"ArrayCoerce",base:n}),t)}},UM={group(e){return e.process(UM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(UM);e.getMark().name!=="traversal_end";)e.process($Te);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=at.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function MTe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return MTe(e.base);throw new Wi("Cannot determine property key for type: ".concat(e.type))}function xJ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Wi("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Wi("Incorrect number of arguments to function ".concat(e,"()."))}function pzt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class mzt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),HM(this,"position"),HM(this,"name","GroqSyntaxError"),this.position=t}}function FTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=rzt(e);if(n.type==="error")throw new mzt(n.position);return new QNt(e,n.marks,t).process(at)}function gzt(e,t=nnt){return n=>{const r=n;let o=null,i=null;const s=new _r,a=s.pipe(sa((c,u)=>c+u,0),rt(c=>c===0?Wo(e,t).pipe(Cn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?Wo(0,t).pipe(Cn(()=>{o||(o=r.connect())})):r8));return Unt(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var vzt=Object.defineProperty,yzt=(e,t,n)=>t in e?vzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lg=(e,t,n)=>(yzt(e,typeof t!="symbol"?t+"":t,n),n);const bzt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class LTe{constructor(t,n,r){lg(this,"model"),lg(this,"root"),lg(this,"patch"),lg(this,"i"),lg(this,"inputStack"),lg(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=bzt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function aC(e){return e>>16?4:e>>11?3:e>>7?2:1}function WM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=aC(r);o==4&&n++,t+=o}return t}function wJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=aC(i);s===4&&o++,r+=s}return o}function xzt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=aC(i);r+=a,o+=a===4?2:1}return r}function wzt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=aC(s);o+=c,i+=c===4?2:1}return o}var Czt=Object.defineProperty,_zt=(e,t,n)=>t in e?Czt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Szt=(e,t,n)=>(_zt(e,typeof t!="symbol"?t+"":t,n),n);class YM{constructor(t){Szt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:WM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(vu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=aC(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function Ezt(e,t){return{data:e,startMeta:t,endMeta:t}}function vu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>vu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=vu(o)}}return e.data=t,t}function qM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function GM(e,t){let n=qM(e),r=qM(t);if(n!==r)return t;let o=new YM(e.endMeta),i=new YM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=GM(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=GM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(vu(e)===vu(t))return e;break}case"string":{let s=vu(e),a=vu(t);if(s===a)return e;let c=i.copyString(null),u=xzt(s,a),d=wzt(s,a,u),f=WM(a),p=WM(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(vu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function kzt(e,t,n){let r=new YM(n);return new LTe(r,e,t).process()}var fl=Object.freeze({__proto__:null,applyPatch:kzt,getType:qM,rebaseValue:GM,unwrap:vu,wrap:Ezt});class jzt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=wJ(i,r),a=wJ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function KM(e,t){let n=e;return new LTe(new jzt,n,t).process()}function hh(e,t,n){return delete e[t],e[t]=n,n}function Tzt(e,t){const n=Azt(e,t);return Dzt(n,e,t)}function Azt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function Dzt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function Izt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=CJ(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return hh(this,"items",c)}}}const r=SJ(e),o=SJ(t);if(r&&o)return Ozt(e,r,t,o);const i=CJ(e,t);return i?W7(e,t,i,!1):Pzt(e,t)}function W7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function CJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=fA(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function Pzt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Bm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Lm(i,void 0),annotation:i.annotation})}return W7(e,t,r,!0)}function Ozt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){_J(t.index,u,d),_J(r.index,u,f);const m=e.at(d),v=n.at(f),g=fA(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=Tzt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Lm(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Bm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(Rzt),W7(e,n,i,s)}function Rzt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function _J(e,t,n){const r=e.get(t);$zt(r,n),r.length===0&&e.delete(t)}function $zt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function SJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function Mzt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Lm(i,void 0),annotation:e.annotationAt(o)})}return hh(this,"items",r)}}}function Fzt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Bm(i,void 0),annotation:e.annotationAt(o)})}return hh(this,"items",r)}}}function Lzt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=Bzt(e,t);return hh(this,"segments",i)}}}function Bzt(e,t){const n=[],r=e7(Xw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case Et:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case In:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Xn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function Nzt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return hh(this,"segments",r)}}}function zzt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return hh(this,"segments",r)}}}function Vzt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Lm(e,void 0),toType:t.type,toValue:t.value,toDiff:Bm(t,void 0),annotation:t.annotation}}const EJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function Hzt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(EJ.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=fA(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Lm(c,void 0),o=!0}for(const a of t.keys){if(EJ.has(a)||e.get(a))continue;const c=t.get(a);r[a]=Bm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function Uzt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Lm(i,void 0)}return hh(this,"fields",r)}}}function Wzt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Bm(i,void 0)}return hh(this,"fields",r)}}}function Yzt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function qzt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function fA(e,t){return e.type!==t.type?e.type==="null"?Bm(t,null):t.type==="null"?Lm(e,null):Vzt(e,t):Gzt(e.type,e,t)}function Gzt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return qzt(t,n);case"number":return Yzt(t,n);case"string":return Lzt(t,n);case"array":return Izt(t,n);case"object":return Hzt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Lm(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return Nzt(e,t);case"array":return Mzt(e,t);case"object":return Uzt(e,t);default:throw new Error("Unhandled diff type")}}function Bm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return zzt(e,t);case"array":return Fzt(e,t);case"object":return Wzt(e,t);default:throw new Error("Unhandled diff type")}}class Kzt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=Y7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class Zzt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=Y7(r,this.annotation)}}let Xzt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class hO{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function Y7(e,t){if(Array.isArray(e))return new Kzt(e,t);if(e===null)return new hO("null",e,t);const n=typeof e;switch(n){case"number":return new hO(n,e,t);case"boolean":return new hO(n,e,t);case"object":return new Zzt(e,t);case"string":return new Xzt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var Qzt=Math.floor,Jzt=Math.random;function eVt(e,t){return e+Qzt(Jzt()*(t-e+1))}var tVt=eVt,nVt=tVt;function rVt(e){var t=e.length;return t?e[nVt(0,t-1)]:void 0}var BTe=rVt,oVt=BTe,iVt=_Te;function sVt(e){return oVt(iVt(e))}var aVt=sVt,lVt=BTe,cVt=aVt,uVt=to;function dVt(e){var t=uVt(e)?lVt:cVt;return t(e)}var fVt=dVt;const hVt=Pe(fVt);var pVt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=yVt(r),this._batchScheduleFn=bVt(r),this._cacheKeyFn=xVt(r),this._cacheMap=wVt(r),this._batch=null,this.name=CVt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=gVt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!NTe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),mVt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){pO||(pO=Promise.resolve()),pO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},pO;function gVt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){vVt(e,n)}),n}function vVt(e,t){if(t.hasDispatched=!0,t.keys.length===0){ZM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return mO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return mO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!NTe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));ZM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){mO(e,t,r)})}function mO(e,t,n){ZM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function ZM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function yVt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function bVt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return mVt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function xVt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function wVt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function CVt(e){return e&&e.name?e.name:null}function NTe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var _Vt=pVt;const SVt=Pe(_Vt);var hA={exports:{}},Fy={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Fy.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Fy.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Fy.exports=function(){return Date.now()-n},n=Date.now()):(Fy.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Cs);var EVt=Fy.exports,kVt=EVt,Iu=typeof window>"u"?Cs:window,t2=["moz","webkit"],Ev="AnimationFrame",u0=Iu["request"+Ev],Mx=Iu["cancel"+Ev]||Iu["cancelRequest"+Ev];for(var oy=0;!u0&&oy<t2.length;oy++)u0=Iu[t2[oy]+"Request"+Ev],Mx=Iu[t2[oy]+"Cancel"+Ev]||Iu[t2[oy]+"CancelRequest"+Ev];if(!u0||!Mx){var gO=0,kJ=0,Dh=[],jVt=1e3/60;u0=function(e){if(Dh.length===0){var t=kVt(),n=Math.max(0,jVt-(t-gO));gO=n+t,setTimeout(function(){var r=Dh.slice(0);Dh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(gO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return Dh.push({handle:++kJ,callback:e,cancelled:!1}),kJ},Mx=function(e){for(var t=0;t<Dh.length;t++)Dh[t].handle===e&&(Dh[t].cancelled=!0)}}hA.exports=function(e){return u0.call(Iu,e)};hA.exports.cancel=function(){Mx.apply(Iu,arguments)};hA.exports.polyfill=function(e){e||(e=Iu),e.requestAnimationFrame=u0,e.cancelAnimationFrame=Mx};var TVt=hA.exports;const AVt=Pe(TVt);function jb(e,t,n){return Math.min(Math.max(e,n),t)}class DVt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Ly=DVt;function zTe(e){if(typeof e!="string")throw new Ly(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=LVt.test(e)?OVt(e):e;const n=RVt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Fx(a,2),16)),parseInt(Fx(s[3]||"f",2),16)/255]}const r=$Vt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=MVt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=FVt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(jb(0,100,a)!==a)throw new Ly(e);if(jb(0,100,c)!==c)throw new Ly(e);return[...BVt(s,a,c),Number.isNaN(u)?1:u]}throw new Ly(e)}function IVt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const jJ=e=>parseInt(e.replace(/_/g,""),36),PVt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=jJ(t.substring(0,3)),r=jJ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function OVt(e){const t=e.toLowerCase().trim(),n=PVt[IVt(t)];if(!n)throw new Ly(e);return`#${n}`}const Fx=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),RVt=new RegExp(`^#${Fx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),$Vt=new RegExp(`^#${Fx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),MVt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Fx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),FVt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,LVt=/^[a-z]+$/i,TJ=e=>Math.round(e*255),BVt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(TJ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(TJ)};function NVt(e){const[t,n,r,o]=zTe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function zVt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${jb(0,100,t*100).toFixed()}%, ${jb(0,100,n*100).toFixed()}%, ${parseFloat(jb(0,1,r).toFixed(3))})`}function VTe(e,t){const[n,r,o,i]=NVt(e);return zVt(n,r,o-t,i)}function XM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=zTe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function VVt(e,t){const n=XM(e),r=XM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const HVt={decorative:1.5,readable:3,aa:4.5,aaa:7};function AJ(e,t="aa",n="#fff"){return VVt(e,n)<HVt[t]}function UVt(e,t){return VTe(e,-t)}function WVt(e){return XM(e)>.179}function YVt(e){return WVt(e)?"#000":"#fff"}var HTe,DJ=vc;HTe=DJ.createRoot,DJ.hydrateRoot;var n1={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UTe=h;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ps=Object.prototype.hasOwnProperty,qVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IJ={},PJ={};function WTe(e){return ps.call(PJ,e)?!0:ps.call(IJ,e)?!1:qVt.test(e)?PJ[e]=!0:(IJ[e]=!0,!1)}function ls(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ui[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ui[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ui[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ui[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ui[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ui[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ui[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ui[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ui[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var q7=/[\-:]([a-z])/g;function G7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(q7,G7);ui[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(q7,G7);ui[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(q7,G7);ui[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ui[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});ui.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ui[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});var DS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GVt=["Webkit","ms","Moz","O"];Object.keys(DS).forEach(function(e){GVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),DS[t]=DS[e]})});var KVt=/["'&<>]/;function Zi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=KVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var ZVt=/([A-Z])/g,XVt=/^ms-/,QM=Array.isArray;function ru(e,t){return{insertionMode:e,selectedValue:t}}function QVt(e,t,n){switch(t){case"select":return ru(1,n.value!=null?n.value:n.defaultValue);case"svg":return ru(2,null);case"math":return ru(3,null);case"foreignObject":return ru(1,null);case"table":return ru(4,null);case"thead":case"tbody":case"tfoot":return ru(5,null);case"colgroup":return ru(7,null);case"tr":return ru(6,null)}return 4<=e.insertionMode||e.insertionMode===0?ru(1,null):e}var OJ=new Map;function YTe(e,t,n){if(typeof n!="object")throw Error(St(62));t=!0;for(var r in n)if(ps.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Zi(r);o=Zi((""+o).trim())}else{i=r;var s=OJ.get(i);s!==void 0||(s=Zi(i.replace(ZVt,"-$1").toLowerCase().replace(XVt,"-ms-")),OJ.set(i,s)),i=s,o=typeof o=="number"?o===0||ps.call(DS,r)?""+o:o+"px":Zi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Bs(e,t,n,r){switch(n){case"style":YTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ui.hasOwnProperty(n)?ui[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Zi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Zi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Zi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Zi(r),'"')}}else if(WTe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Zi(r),'"')}}}function IS(e,t,n){if(t!=null){if(n!=null)throw Error(St(60));if(typeof t!="object"||!("__html"in t))throw Error(St(61));t=t.__html,t!=null&&e.push(""+t)}}function JVt(e){var t="";return UTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function vO(e,t,n,r){e.push(oc(n));var o=n=null,i;for(i in t)if(ps.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Bs(e,r,i,s)}}return e.push(">"),IS(e,o,n),typeof n=="string"?(e.push(Zi(n)),null):n}var eHt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,RJ=new Map;function oc(e){var t=RJ.get(e);if(t===void 0){if(!eHt.test(e))throw Error(St(65,e));t="<"+e,RJ.set(e,t)}return t}function tHt(e,t,n,r,o){switch(t){case"select":e.push(oc("select"));var i=null,s=null;for(d in n)if(ps.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Bs(e,r,d,a)}}return e.push(">"),IS(e,s,i),i;case"option":s=o.selectedValue,e.push(oc("option"));var c=a=null,u=null,d=null;for(i in n)if(ps.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Bs(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:JVt(a),QM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),IS(e,d,a),a;case"textarea":e.push(oc("textarea")),d=s=i=null;for(a in n)if(ps.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(St(91));default:Bs(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(St(92));if(QM(d)&&1<d.length)throw Error(St(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Zi(""+i)),null;case"input":e.push(oc("input")),c=d=a=i=null;for(s in n)if(ps.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(St(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Bs(e,r,s,u)}return d!==null?Bs(e,r,"checked",d):c!==null&&Bs(e,r,"checked",c),i!==null?Bs(e,r,"value",i):a!==null&&Bs(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(oc("menuitem"));for(var p in n)if(ps.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(St(400));default:Bs(e,r,p,i)}return e.push(">"),null;case"title":e.push(oc("title")),i=null;for(f in n)if(ps.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(St(434));default:Bs(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(oc(t)),s=i=null;for(c in n)if(ps.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Bs(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(St(60));if(typeof s!="object"||!("__html"in s))throw Error(St(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(oc(t));for(var m in n)if(ps.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(St(399,t));default:Bs(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),vO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return vO(e,n,t,r);e.push(oc(t)),s=i=null;for(u in n)if(ps.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":YTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:WTe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Zi(a),'"')}return e.push(">"),IS(e,s,i),i}}function $J(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(St(395));return e.push(n),e.push('"></template>')}function nHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(St(397))}}function rHt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(St(397))}}var oHt=/[<\u2028\u2029]/g;function yO(e){return JSON.stringify(e).replace(oHt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function iHt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function MJ(e,t,n,r){return n.generateStaticMarkup?(e.push(Zi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Zi(t)),e=!0),e)}var Tb=Object.assign,sHt=Symbol.for("react.element"),qTe=Symbol.for("react.portal"),GTe=Symbol.for("react.fragment"),KTe=Symbol.for("react.strict_mode"),ZTe=Symbol.for("react.profiler"),XTe=Symbol.for("react.provider"),QTe=Symbol.for("react.context"),JTe=Symbol.for("react.forward_ref"),eAe=Symbol.for("react.suspense"),tAe=Symbol.for("react.suspense_list"),nAe=Symbol.for("react.memo"),K7=Symbol.for("react.lazy"),aHt=Symbol.for("react.scope"),lHt=Symbol.for("react.debug_trace_mode"),cHt=Symbol.for("react.legacy_hidden"),uHt=Symbol.for("react.default_value"),FJ=Symbol.iterator;function JM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case GTe:return"Fragment";case qTe:return"Portal";case ZTe:return"Profiler";case KTe:return"StrictMode";case eAe:return"Suspense";case tAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QTe:return(e.displayName||"Context")+".Consumer";case XTe:return(e._context.displayName||"Context")+".Provider";case JTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nAe:return t=e.displayName||null,t!==null?t:JM(e.type)||"Memo";case K7:t=e._payload,e=e._init;try{return JM(e(t))}catch{}}return null}var rAe={};function LJ(e,t){if(e=e.contextTypes,!e)return rAe;var n={},r;for(r in e)n[r]=t[r];return n}var gp=null;function pA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(St(401))}else{if(n===null)throw Error(St(401));pA(e,n)}t.context._currentValue2=t.value}}function oAe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&oAe(e)}function iAe(e){var t=e.parent;t!==null&&iAe(t),e.context._currentValue2=e.value}function sAe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(St(402));e.depth===t.depth?pA(e,t):sAe(e,t)}function aAe(e,t){var n=t.parent;if(n===null)throw Error(St(402));e.depth===n.depth?pA(e,n):aAe(e,n),t.context._currentValue2=t.value}function c5(e){var t=gp;t!==e&&(t===null?iAe(e):e===null?oAe(t):t.depth===e.depth?pA(t,e):t.depth>e.depth?sAe(t,e):aAe(t,e),gp=e)}var BJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function NJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=BJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Tb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&BJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Tb({},i,a)):Tb(i,a))}e.state=i}else i.queue=null}var dHt={id:1,overflow:""};function e4(e,t,n){var r=e.id;e=e.overflow;var o=32-PS(r)-1;r&=~(1<<o),n+=1;var i=32-PS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-PS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var PS=Math.clz32?Math.clz32:pHt,fHt=Math.log,hHt=Math.LN2;function pHt(e){return e>>>=0,e===0?32:31-(fHt(e)/hHt|0)|0}function mHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gHt=typeof Object.is=="function"?Object.is:mHt,Ju=null,Z7=null,OS=null,Un=null,By=!1,u5=!1,Lx=0,af=null,mA=0;function Jh(){if(Ju===null)throw Error(St(321));return Ju}function zJ(){if(0<mA)throw Error(St(312));return{memoizedState:null,queue:null,next:null}}function X7(){return Un===null?OS===null?(By=!1,OS=Un=zJ()):(By=!0,Un=OS):Un.next===null?(By=!1,Un=Un.next=zJ()):(By=!0,Un=Un.next),Un}function Q7(){Z7=Ju=null,u5=!1,OS=null,mA=0,Un=af=null}function lAe(e,t){return typeof t=="function"?t(e):t}function VJ(e,t,n){if(Ju=Jh(),Un=X7(),By){var r=Un.queue;if(t=r.dispatch,af!==null&&(n=af.get(r),n!==void 0)){af.delete(r),r=Un.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Un.memoizedState=r,[r,t]}return[Un.memoizedState,t]}return e=e===lAe?typeof t=="function"?t():t:n!==void 0?n(t):t,Un.memoizedState=e,e=Un.queue={last:null,dispatch:null},e=e.dispatch=vHt.bind(null,Ju,e),[Un.memoizedState,e]}function HJ(e,t){if(Ju=Jh(),Un=X7(),t=t===void 0?null:t,Un!==null){var n=Un.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!gHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Un.memoizedState=[e,t],e}function vHt(e,t,n){if(25<=mA)throw Error(St(301));if(e===Ju)if(u5=!0,e={action:n,next:null},af===null&&(af=new Map),n=af.get(t),n===void 0)af.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function yHt(){throw Error(St(394))}function n2(){}var UJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Jh(),e._currentValue2},useMemo:HJ,useReducer:VJ,useRef:function(e){Ju=Jh(),Un=X7();var t=Un.memoizedState;return t===null?(e={current:e},Un.memoizedState=e):t},useState:function(e){return VJ(lAe,e)},useInsertionEffect:n2,useLayoutEffect:function(){},useCallback:function(e,t){return HJ(function(){return e},t)},useImperativeHandle:n2,useEffect:n2,useDebugValue:n2,useDeferredValue:function(e){return Jh(),e},useTransition:function(){return Jh(),[!1,yHt]},useId:function(){var e=Z7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-PS(e)-1)).toString(32)+t;var n=RS;if(n===null)throw Error(St(404));return t=Lx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Jh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(St(407));return n()}},RS=null,bO=UTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function bHt(e){return console.error(e),null}function Ny(){}function xHt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?bHt:o,onAllReady:i===void 0?Ny:i,onShellReady:s===void 0?Ny:s,onShellError:a===void 0?Ny:a,onFatalError:c===void 0?Ny:c},n=d5(t,0,null,n,!1,!1),n.parentFlushed=!0,e=J7(t,e,null,n,d,rAe,null,dHt),u.push(e),t}function J7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&dAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function d5(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Bx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function f5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function WJ(e,t,n,r,o){for(Ju={},Z7=t,Lx=0,e=n(r,o);u5;)u5=!1,Lx=0,mA+=1,Un=null,e=n(r,o);return Q7(),e}function YJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(St(108,JM(r)||"Unknown",a));r=Tb({},s,n)}t.legacyContext=r,Us(e,t,o),t.legacyContext=s}else Us(e,t,o)}function qJ(e,t){if(e&&e.defaultProps){t=Tb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function t4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=LJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),NJ(i,n,r,o),YJ(e,t,i,n)}else{i=LJ(n,t.legacyContext),o=WJ(e,t,n,r,i);var s=Lx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)NJ(o,n,r,i),YJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=e4(r,1,0);try{Us(e,t,o)}finally{t.treeContext=r}}else Us(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=tHt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=QVt(s,n,r),n4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case cHt:case lHt:case KTe:case ZTe:case GTe:Us(e,t,r.children);return;case tAe:Us(e,t,r.children);return;case aHt:throw Error(St(343));case eAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=d5(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=d5(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(n4(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,h5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Bx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=J7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case JTe:if(r=WJ(e,t,n.render,r,o),Lx!==0){n=t.treeContext,t.treeContext=e4(n,1,0);try{Us(e,t,r)}finally{t.treeContext=n}}else Us(e,t,r);return;case nAe:n=n.type,r=qJ(n,r),t4(e,t,n,r,o);return;case XTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=gp,gp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Us(e,t,o),e=gp,e===null)throw Error(St(403));r=e.parentValue,e.context._currentValue2=r===uHt?e.context._defaultValue:r,e=gp=e.parent,t.context=e;return;case QTe:r=r.children,r=r(n._currentValue2),Us(e,t,r);return;case K7:o=n._init,n=o(n._payload),r=qJ(n,r),t4(e,t,n,r,void 0);return}throw Error(St(130,n==null?n:typeof n,""))}}function Us(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case sHt:t4(e,t,n.type,n.props,n.ref);return;case qTe:throw Error(St(257));case K7:var r=n._init;n=r(n._payload),Us(e,t,n);return}if(QM(n)){GJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=FJ&&n[FJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);GJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=MJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=MJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function GJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=e4(i,r,o);try{n4(e,t,n[o])}finally{t.treeContext=i}}}function n4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Us(e,t,n)}catch(c){if(Q7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=d5(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=J7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,c5(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,c5(i),c}}function wHt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,uAe(this,t,e)}function cAe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(St(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return cAe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function h5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&h5(e,n)}else e.completedSegments.push(t)}function uAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(St(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ny,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&h5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wHt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(h5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function dAe(e){if(e.status!==2){var t=gp,n=bO.current;bO.current=UJ;var r=RS;RS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){c5(s.context);try{Us(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,uAe(a,s.blockedBoundary,c)}catch(v){if(Q7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Bx(a,f);if(d===null?f5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&eB(e,e.destination)}catch(v){Bx(e,v),f5(e,v)}finally{RS=r,bO.current=n,n===UJ&&c5(t)}}}function r2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=gA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(St(390))}}function gA(e,t,n){var r=n.boundary;if(r===null)return r2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Zi(r),t.push(r),t.push('"')),t.push("></template>")),r2(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,$J(t,e.responseState,r),r2(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),$J(t,e.responseState,r.id),r2(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(St(391));return gA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function KJ(e,t,n){return nHt(t,e.responseState,n.formatContext,n.id),gA(e,t,n),rHt(t,n.formatContext)}function ZJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)fAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(St(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function fAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(St(392));return KJ(e,t,r)}return KJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function eB(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){gA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(St(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=yO(u||"");r.push(p)}if(d||f){r.push(",");var m=yO(d||"");r.push(m)}if(f){r.push(",");var v=yO(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!ZJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var x=y[i];e:{o=e,s=t;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!fAe(o,s,x,b[a])){a++,b.splice(0,a);var w=!1;break e}b.splice(0,a),w=!0}if(!w){e.destination=null,i++,y.splice(0,i);return}}y.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!ZJ(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function CHt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return cAe(r,e,t)}),n.clear(),e.destination!==null&&eB(e,e.destination)}catch(r){Bx(e,r),f5(e,r)}}function _Ht(){}function hAe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=xHt(e,iHt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,_Ht,void 0,function(){c=!0},void 0,void 0),dAe(e),CHt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{eB(e,a)}catch(u){Bx(e,u),f5(e,u)}}if(o)throw i;if(!c)throw Error(St(426));return s}n1.renderToNodeStream=function(){throw Error(St(207))};n1.renderToStaticMarkup=function(e,t){return hAe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};n1.renderToStaticNodeStream=function(){throw Error(St(208))};n1.renderToString=function(e,t){return hAe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};n1.version="18.2.0";var tB={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pAe=h;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ws=null,Ys=0;function Ze(e,t){if(t.length!==0)if(512<t.length)0<Ys&&(e.enqueue(new Uint8Array(Ws.buffer,0,Ys)),Ws=new Uint8Array(512),Ys=0),e.enqueue(t);else{var n=Ws.length-Ys;n<t.length&&(n===0?e.enqueue(Ws):(Ws.set(t.subarray(0,n),Ys),e.enqueue(Ws),t=t.subarray(n)),Ws=new Uint8Array(512),Ys=0),Ws.set(t,Ys),Ys+=t.length}}function sr(e,t){return Ze(e,t),!0}function XJ(e){Ws&&0<Ys&&(e.enqueue(new Uint8Array(Ws.buffer,0,Ys)),Ws=null,Ys=0)}var mAe=new TextEncoder;function Mt(e){return mAe.encode(e)}function $e(e){return mAe.encode(e)}function gAe(e,t){typeof e.error=="function"?e.error(t):e.close()}var ms=Object.prototype.hasOwnProperty,SHt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QJ={},JJ={};function vAe(e){return ms.call(JJ,e)?!0:ms.call(QJ,e)?!1:SHt.test(e)?JJ[e]=!0:(QJ[e]=!0,!1)}function cs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){di[e]=new cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];di[t]=new cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){di[e]=new cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){di[e]=new cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){di[e]=new cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){di[e]=new cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){di[e]=new cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){di[e]=new cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){di[e]=new cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var nB=/[\-:]([a-z])/g;function rB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nB,rB);di[t]=new cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nB,rB);di[t]=new cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nB,rB);di[t]=new cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){di[e]=new cs(e,1,!1,e.toLowerCase(),null,!1,!1)});di.xlinkHref=new cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){di[e]=new cs(e,1,!1,e.toLowerCase(),null,!0,!0)});var $S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EHt=["Webkit","ms","Moz","O"];Object.keys($S).forEach(function(e){EHt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$S[t]=$S[e]})});var kHt=/["'&<>]/;function ri(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=kHt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var jHt=/([A-Z])/g,THt=/^ms-/,r4=Array.isArray,AHt=$e("<script>"),DHt=$e("<\/script>"),IHt=$e('<script src="'),PHt=$e('<script type="module" src="'),eee=$e('" async=""><\/script>'),OHt=/(<\/|<)(s)(cript)/gi;function RHt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function $Ht(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?AHt:$e('<script nonce="'+ri(t)+'">');var i=[];if(n!==void 0&&i.push(t,Mt((""+n).replace(OHt,RHt)),DHt),r!==void 0)for(n=0;n<r.length;n++)i.push(IHt,Mt(ri(r[n])),eee);if(o!==void 0)for(r=0;r<o.length;r++)i.push(PHt,Mt(ri(o[r])),eee);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:$e(e+"P:"),segmentPrefix:$e(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ic(e,t){return{insertionMode:e,selectedValue:t}}function MHt(e){return ic(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function FHt(e,t,n){switch(t){case"select":return ic(1,n.value!=null?n.value:n.defaultValue);case"svg":return ic(2,null);case"math":return ic(3,null);case"foreignObject":return ic(1,null);case"table":return ic(4,null);case"thead":case"tbody":case"tfoot":return ic(5,null);case"colgroup":return ic(7,null);case"tr":return ic(6,null)}return 4<=e.insertionMode||e.insertionMode===0?ic(1,null):e}var oB=$e("<!-- -->");function tee(e,t,n,r){return t===""?r:(r&&e.push(oB),e.push(Mt(ri(t))),!0)}var nee=new Map,LHt=$e(' style="'),ree=$e(":"),BHt=$e(";");function yAe(e,t,n){if(typeof n!="object")throw Error(Pt(62));t=!0;for(var r in n)if(ms.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Mt(ri(r));o=Mt(ri((""+o).trim()))}else{i=r;var s=nee.get(i);s!==void 0||(s=$e(ri(i.replace(jHt,"-$1").toLowerCase().replace(THt,"-ms-"))),nee.set(i,s)),i=s,o=typeof o=="number"?o===0||ms.call($S,r)?Mt(""+o):Mt(o+"px"):Mt(ri((""+o).trim()))}t?(t=!1,e.push(LHt,i,ree,o)):e.push(BHt,i,ree,o)}}t||e.push(ep)}var Od=$e(" "),Eg=$e('="'),ep=$e('"'),oee=$e('=""');function Ns(e,t,n,r){switch(n){case"style":yAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=di.hasOwnProperty(n)?di[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Mt(t.attributeName),t.type){case 3:r&&e.push(Od,n,oee);break;case 4:r===!0?e.push(Od,n,oee):r!==!1&&e.push(Od,n,Eg,Mt(ri(r)),ep);break;case 5:isNaN(r)||e.push(Od,n,Eg,Mt(ri(r)),ep);break;case 6:!isNaN(r)&&1<=r&&e.push(Od,n,Eg,Mt(ri(r)),ep);break;default:t.sanitizeURL&&(r=""+r),e.push(Od,n,Eg,Mt(ri(r)),ep)}}else if(vAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Od,Mt(n),Eg,Mt(ri(r)),ep)}}}var Rd=$e(">"),iee=$e("/>");function MS(e,t,n){if(t!=null){if(n!=null)throw Error(Pt(60));if(typeof t!="object"||!("__html"in t))throw Error(Pt(61));t=t.__html,t!=null&&e.push(Mt(""+t))}}function NHt(e){var t="";return pAe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var xO=$e(' selected=""');function wO(e,t,n,r){e.push(sc(n));var o=n=null,i;for(i in t)if(ms.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ns(e,r,i,s)}}return e.push(Rd),MS(e,o,n),typeof n=="string"?(e.push(Mt(ri(n))),null):n}var CO=$e(`
`),zHt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,see=new Map;function sc(e){var t=see.get(e);if(t===void 0){if(!zHt.test(e))throw Error(Pt(65,e));t=$e("<"+e),see.set(e,t)}return t}var VHt=$e("<!DOCTYPE html>");function HHt(e,t,n,r,o){switch(t){case"select":e.push(sc("select"));var i=null,s=null;for(d in n)if(ms.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ns(e,r,d,a)}}return e.push(Rd),MS(e,s,i),i;case"option":s=o.selectedValue,e.push(sc("option"));var c=a=null,u=null,d=null;for(i in n)if(ms.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Ns(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:NHt(a),r4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(xO);break}}else""+s===n&&e.push(xO);else u&&e.push(xO);return e.push(Rd),MS(e,d,a),a;case"textarea":e.push(sc("textarea")),d=s=i=null;for(a in n)if(ms.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Pt(91));default:Ns(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Rd),d!=null){if(i!=null)throw Error(Pt(92));if(r4(d)&&1<d.length)throw Error(Pt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(CO),i!==null&&e.push(Mt(ri(""+i))),null;case"input":e.push(sc("input")),c=d=a=i=null;for(s in n)if(ms.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Ns(e,r,s,u)}return d!==null?Ns(e,r,"checked",d):c!==null&&Ns(e,r,"checked",c),i!==null?Ns(e,r,"value",i):a!==null&&Ns(e,r,"value",a),e.push(iee),null;case"menuitem":e.push(sc("menuitem"));for(var p in n)if(ms.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(400));default:Ns(e,r,p,i)}return e.push(Rd),null;case"title":e.push(sc("title")),i=null;for(f in n)if(ms.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Pt(434));default:Ns(e,r,f,s)}return e.push(Rd),i;case"listing":case"pre":e.push(sc(t)),s=i=null;for(c in n)if(ms.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ns(e,r,c,a)}if(e.push(Rd),s!=null){if(i!=null)throw Error(Pt(60));if(typeof s!="object"||!("__html"in s))throw Error(Pt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(CO,Mt(n)):e.push(Mt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(CO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(sc(t));for(var m in n)if(ms.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,t));default:Ns(e,r,m,i)}return e.push(iee),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return wO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(VHt),wO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return wO(e,n,t,r);e.push(sc(t)),s=i=null;for(u in n)if(ms.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":yAe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:vAe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Od,Mt(u),Eg,Mt(ri(a)),ep)}return e.push(Rd),MS(e,s,i),i}}var UHt=$e("</"),WHt=$e(">"),YHt=$e('<template id="'),qHt=$e('"></template>'),GHt=$e("<!--$-->"),KHt=$e('<!--$?--><template id="'),ZHt=$e('"></template>'),XHt=$e("<!--$!-->"),QHt=$e("<!--/$-->"),JHt=$e("<template"),eUt=$e('"'),tUt=$e(' data-dgst="');$e(' data-msg="');$e(' data-stck="');var nUt=$e("></template>");function aee(e,t,n){if(Ze(e,KHt),n===null)throw Error(Pt(395));return Ze(e,n),sr(e,ZHt)}var rUt=$e('<div hidden id="'),oUt=$e('">'),iUt=$e("</div>"),sUt=$e('<svg aria-hidden="true" style="display:none" id="'),aUt=$e('">'),lUt=$e("</svg>"),cUt=$e('<math aria-hidden="true" style="display:none" id="'),uUt=$e('">'),dUt=$e("</math>"),fUt=$e('<table hidden id="'),hUt=$e('">'),pUt=$e("</table>"),mUt=$e('<table hidden><tbody id="'),gUt=$e('">'),vUt=$e("</tbody></table>"),yUt=$e('<table hidden><tr id="'),bUt=$e('">'),xUt=$e("</tr></table>"),wUt=$e('<table hidden><colgroup id="'),CUt=$e('">'),_Ut=$e("</colgroup></table>");function SUt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ze(e,rUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,oUt);case 2:return Ze(e,sUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,aUt);case 3:return Ze(e,cUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,uUt);case 4:return Ze(e,fUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,hUt);case 5:return Ze(e,mUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,gUt);case 6:return Ze(e,yUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,bUt);case 7:return Ze(e,wUt),Ze(e,t.segmentPrefix),Ze(e,Mt(r.toString(16))),sr(e,CUt);default:throw Error(Pt(397))}}function EUt(e,t){switch(t.insertionMode){case 0:case 1:return sr(e,iUt);case 2:return sr(e,lUt);case 3:return sr(e,dUt);case 4:return sr(e,pUt);case 5:return sr(e,vUt);case 6:return sr(e,xUt);case 7:return sr(e,_Ut);default:throw Error(Pt(397))}}var kUt=$e('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),jUt=$e('$RS("'),TUt=$e('","'),AUt=$e('")<\/script>'),DUt=$e('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),IUt=$e('$RC("'),PUt=$e('","'),OUt=$e('")<\/script>'),RUt=$e('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),$Ut=$e('$RX("'),MUt=$e('"'),FUt=$e(")<\/script>"),_O=$e(","),LUt=/[<\u2028\u2029]/g;function SO(e){return JSON.stringify(e).replace(LUt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Ab=Object.assign,BUt=Symbol.for("react.element"),bAe=Symbol.for("react.portal"),xAe=Symbol.for("react.fragment"),wAe=Symbol.for("react.strict_mode"),CAe=Symbol.for("react.profiler"),_Ae=Symbol.for("react.provider"),SAe=Symbol.for("react.context"),EAe=Symbol.for("react.forward_ref"),kAe=Symbol.for("react.suspense"),jAe=Symbol.for("react.suspense_list"),TAe=Symbol.for("react.memo"),iB=Symbol.for("react.lazy"),NUt=Symbol.for("react.scope"),zUt=Symbol.for("react.debug_trace_mode"),VUt=Symbol.for("react.legacy_hidden"),HUt=Symbol.for("react.default_value"),lee=Symbol.iterator;function o4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xAe:return"Fragment";case bAe:return"Portal";case CAe:return"Profiler";case wAe:return"StrictMode";case kAe:return"Suspense";case jAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SAe:return(e.displayName||"Context")+".Consumer";case _Ae:return(e._context.displayName||"Context")+".Provider";case EAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TAe:return t=e.displayName||null,t!==null?t:o4(e.type)||"Memo";case iB:t=e._payload,e=e._init;try{return o4(e(t))}catch{}}return null}var AAe={};function cee(e,t){if(e=e.contextTypes,!e)return AAe;var n={},r;for(r in e)n[r]=t[r];return n}var vp=null;function vA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Pt(401))}else{if(n===null)throw Error(Pt(401));vA(e,n)}t.context._currentValue=t.value}}function DAe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&DAe(e)}function IAe(e){var t=e.parent;t!==null&&IAe(t),e.context._currentValue=e.value}function PAe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pt(402));e.depth===t.depth?vA(e,t):PAe(e,t)}function OAe(e,t){var n=t.parent;if(n===null)throw Error(Pt(402));e.depth===n.depth?vA(e,n):OAe(e,n),t.context._currentValue=t.value}function p5(e){var t=vp;t!==e&&(t===null?IAe(e):e===null?DAe(t):t.depth===e.depth?vA(t,e):t.depth>e.depth?PAe(t,e):OAe(t,e),vp=e)}var uee={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function dee(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=uee,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Ab({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&uee.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Ab({},i,a)):Ab(i,a))}e.state=i}else i.queue=null}var UUt={id:1,overflow:""};function i4(e,t,n){var r=e.id;e=e.overflow;var o=32-FS(r)-1;r&=~(1<<o),n+=1;var i=32-FS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-FS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var FS=Math.clz32?Math.clz32:qUt,WUt=Math.log,YUt=Math.LN2;function qUt(e){return e>>>=0,e===0?32:31-(WUt(e)/YUt|0)|0}function GUt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KUt=typeof Object.is=="function"?Object.is:GUt,ed=null,sB=null,LS=null,Wn=null,zy=!1,m5=!1,Nx=0,lf=null,yA=0;function tp(){if(ed===null)throw Error(Pt(321));return ed}function fee(){if(0<yA)throw Error(Pt(312));return{memoizedState:null,queue:null,next:null}}function aB(){return Wn===null?LS===null?(zy=!1,LS=Wn=fee()):(zy=!0,Wn=LS):Wn.next===null?(zy=!1,Wn=Wn.next=fee()):(zy=!0,Wn=Wn.next),Wn}function lB(){sB=ed=null,m5=!1,LS=null,yA=0,Wn=lf=null}function RAe(e,t){return typeof t=="function"?t(e):t}function hee(e,t,n){if(ed=tp(),Wn=aB(),zy){var r=Wn.queue;if(t=r.dispatch,lf!==null&&(n=lf.get(r),n!==void 0)){lf.delete(r),r=Wn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Wn.memoizedState=r,[r,t]}return[Wn.memoizedState,t]}return e=e===RAe?typeof t=="function"?t():t:n!==void 0?n(t):t,Wn.memoizedState=e,e=Wn.queue={last:null,dispatch:null},e=e.dispatch=ZUt.bind(null,ed,e),[Wn.memoizedState,e]}function pee(e,t){if(ed=tp(),Wn=aB(),t=t===void 0?null:t,Wn!==null){var n=Wn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!KUt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Wn.memoizedState=[e,t],e}function ZUt(e,t,n){if(25<=yA)throw Error(Pt(301));if(e===ed)if(m5=!0,e={action:n,next:null},lf===null&&(lf=new Map),n=lf.get(t),n===void 0)lf.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function XUt(){throw Error(Pt(394))}function o2(){}var mee={readContext:function(e){return e._currentValue},useContext:function(e){return tp(),e._currentValue},useMemo:pee,useReducer:hee,useRef:function(e){ed=tp(),Wn=aB();var t=Wn.memoizedState;return t===null?(e={current:e},Wn.memoizedState=e):t},useState:function(e){return hee(RAe,e)},useInsertionEffect:o2,useLayoutEffect:function(){},useCallback:function(e,t){return pee(function(){return e},t)},useImperativeHandle:o2,useEffect:o2,useDebugValue:o2,useDeferredValue:function(e){return tp(),e},useTransition:function(){return tp(),[!1,XUt]},useId:function(){var e=sB.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-FS(e)-1)).toString(32)+t;var n=BS;if(n===null)throw Error(Pt(404));return t=Nx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return tp(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Pt(407));return n()}},BS=null,EO=pAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function QUt(e){return console.error(e),null}function Vy(){}function JUt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?QUt:o,onAllReady:i===void 0?Vy:i,onShellReady:s===void 0?Vy:s,onShellError:a===void 0?Vy:a,onFatalError:c===void 0?Vy:c},n=g5(t,0,null,n,!1,!1),n.parentFlushed=!0,e=cB(t,e,null,n,d,AAe,null,UUt),u.push(e),t}function cB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&FAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function g5(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function zx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function v5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,gAe(e.destination,t)):(e.status=1,e.fatalError=t)}function gee(e,t,n,r,o){for(ed={},sB=t,Nx=0,e=n(r,o);m5;)m5=!1,Nx=0,yA+=1,Wn=null,e=n(r,o);return lB(),e}function vee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Pt(108,o4(r)||"Unknown",a));r=Ab({},s,n)}t.legacyContext=r,qs(e,t,o),t.legacyContext=s}else qs(e,t,o)}function yee(e,t){if(e&&e.defaultProps){t=Ab({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function s4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=cee(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),dee(i,n,r,o),vee(e,t,i,n)}else{i=cee(n,t.legacyContext),o=gee(e,t,n,r,i);var s=Nx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)dee(o,n,r,i),vee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=i4(r,1,0);try{qs(e,t,o)}finally{t.treeContext=r}}else qs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=HHt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=FHt(s,n,r),a4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(UHt,Mt(n),WHt)}o.lastPushedText=!1}else{switch(n){case VUt:case zUt:case wAe:case CAe:case xAe:qs(e,t,r.children);return;case jAe:qs(e,t,r.children);return;case NUt:throw Error(Pt(343));case kAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=g5(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=g5(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(a4(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(oB),u.status=1,y5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=zx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=cB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case EAe:if(r=gee(e,t,n.render,r,o),Nx!==0){n=t.treeContext,t.treeContext=i4(n,1,0);try{qs(e,t,r)}finally{t.treeContext=n}}else qs(e,t,r);return;case TAe:n=n.type,r=yee(n,r),s4(e,t,n,r,o);return;case _Ae:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=vp,vp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,qs(e,t,o),e=vp,e===null)throw Error(Pt(403));r=e.parentValue,e.context._currentValue=r===HUt?e.context._defaultValue:r,e=vp=e.parent,t.context=e;return;case SAe:r=r.children,r=r(n._currentValue),qs(e,t,r);return;case iB:o=n._init,n=o(n._payload),r=yee(n,r),s4(e,t,n,r,void 0);return}throw Error(Pt(130,n==null?n:typeof n,""))}}function qs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case BUt:s4(e,t,n.type,n.props,n.ref);return;case bAe:throw Error(Pt(257));case iB:var r=n._init;n=r(n._payload),qs(e,t,n);return}if(r4(n)){bee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=lee&&n[lee]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);bee(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=tee(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=tee(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function bee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=i4(i,r,o);try{a4(e,t,n[o])}finally{t.treeContext=i}}}function a4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return qs(e,t,n)}catch(c){if(lB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=g5(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=cB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,p5(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,p5(i),c}}function eWt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,MAe(this,t,e)}function $Ae(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Pt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return $Ae(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function y5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&y5(e,n)}else e.completedSegments.push(t)}function MAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Vy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&y5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(eWt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(y5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function FAe(e){if(e.status!==2){var t=vp,n=EO.current;EO.current=mee;var r=BS;BS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){p5(s.context);try{qs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(oB),s.abortSet.delete(s),c.status=1,MAe(a,s.blockedBoundary,c)}catch(v){if(lB(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=zx(a,f);if(d===null?v5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&uB(e,e.destination)}catch(v){zx(e,v),v5(e,v)}finally{BS=r,EO.current=n,n===mee&&p5(t)}}}function i2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ze(t,YHt),Ze(t,e.placeholderPrefix),e=Mt(r.toString(16)),Ze(t,e),sr(t,qHt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Ze(t,r[i]);o=bA(e,t,o)}for(;i<r.length-1;i++)Ze(t,r[i]);return i<r.length&&(o=sr(t,r[i])),o;default:throw Error(Pt(390))}}function bA(e,t,n){var r=n.boundary;if(r===null)return i2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,sr(t,XHt),Ze(t,JHt),r&&(Ze(t,tUt),Ze(t,Mt(ri(r))),Ze(t,eUt)),sr(t,nUt),i2(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=$e(o.boundaryPrefix+i.toString(16)),r=r.id=o,aee(t,e.responseState,r),i2(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),aee(t,e.responseState,r.id),i2(e,t,n);else{if(sr(t,GHt),n=r.completedSegments,n.length!==1)throw Error(Pt(391));bA(e,t,n[0])}return sr(t,QHt)}function xee(e,t,n){return SUt(t,e.responseState,n.formatContext,n.id),bA(e,t,n),EUt(t,n.formatContext)}function wee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)LAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ze(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ze(t,IUt):(e.sentCompleteBoundaryFunction=!0,Ze(t,DUt)),r===null)throw Error(Pt(395));return n=Mt(n.toString(16)),Ze(t,r),Ze(t,PUt),Ze(t,e.segmentPrefix),Ze(t,n),sr(t,OUt)}function LAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Pt(392));return xee(e,t,r)}return xee(e,t,r),e=e.responseState,Ze(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ze(t,jUt):(e.sentCompleteSegmentFunction=!0,Ze(t,kUt)),Ze(t,e.segmentPrefix),o=Mt(o.toString(16)),Ze(t,o),Ze(t,TUt),Ze(t,e.placeholderPrefix),Ze(t,o),sr(t,AUt)}function uB(e,t){Ws=new Uint8Array(512),Ys=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){bA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ze(t,r[n]);n<r.length&&sr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Ze(r,a.startInlineScript),a.sentClientRenderFunction?Ze(r,$Ut):(a.sentClientRenderFunction=!0,Ze(r,RUt)),c===null)throw Error(Pt(395));Ze(r,c),Ze(r,MUt),(u||d||f)&&(Ze(r,_O),Ze(r,Mt(SO(u||"")))),(d||f)&&(Ze(r,_O),Ze(r,Mt(SO(d||"")))),f&&(Ze(r,_O),Ze(r,Mt(SO(f)))),sr(r,FUt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)wee(e,t,p[i]);p.splice(0,i),XJ(t),Ws=new Uint8Array(512),Ys=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!LAe(o,s,v,g[a])){a++,g.splice(0,a);var y=!1;break e}g.splice(0,a),y=!0}if(!y){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)wee(e,t,x[i]);x.splice(0,i)}finally{XJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Cee(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return $Ae(r,e,t)}),n.clear(),e.destination!==null&&uB(e,e.destination)}catch(r){zx(e,r),v5(e,r)}}tB.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=JUt(e,$Ht(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),MHt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,gAe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{uB(a,f)}catch(p){zx(a,p),v5(a,p)}}},cancel:function(){Cee(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){Cee(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}FAe(a)})};tB.version="18.2.0";var r1,BAe;r1=n1,BAe=tB;r1.version;var tWt=r1.renderToString;r1.renderToStaticMarkup;r1.renderToNodeStream;r1.renderToStaticNodeStream;BAe.renderToReadableStream;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:fe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:fe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:fe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:fe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:fe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:fe.purple[300].hex})]})});const nWt={light:[fe.red[200].hex,fe.red[300].hex,fe.red[500].hex],dark:[fe.gray[500].hex,fe.gray[300].hex,Ea.hex]},rWt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=nWt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),oWt={bg1:fe.red[500].hex,bg2:fe.red[200].hex,fg:Ea.hex},iWt=h.forwardRef(function(t,n){const{color:r=oWt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var sWt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),aWt=()=>{try{return!!(sWt&&import.meta.webpackHot)}catch{return!1}};function lWt(e){if(aWt)return typeof import.meta.webpackHot>"u"?uWt(e):cWt(e)}function cWt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function uWt(e){h.useEffect(()=>{},[e])}function dWt(e){return typeof e=="function"}function _ee(e){return dWt(e)?e():e}const fWt=()=>{};function hWt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ne.useContext(e),c=ne.useRef();ne.useLayoutEffect(()=>{if(n===null)return fWt;const u=_ee(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),ne.useLayoutEffect(()=>{const u=_ee(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function pWt(){const e=new Map,{publish:t,subscribe:n}=OF(),r=dw(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let d0=!1;const kO=e=>{d0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),d0=!0};function mWt(){return d0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),d0=!0,[]}const gWt=()=>(d0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),d0=!0,()=>{}),vWt={add:kO,update:kO,remove:kO,subscribe:gWt,read:mWt};let yWt=0;const bWt=()=>++yWt;function NAe(){const e=ne.createContext(vWt);function t(){const o=ne.useContext(e),[i,s]=ne.useState(o.read());return ne.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ne.useMemo(()=>pWt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=hWt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ne.useRef(bWt()).current),o,i)}}}const Ls=4,xWt=16,See=8,ft=8,Da=2,s2=4,ki=12,cg=2,wWt=!1,CWt=!1,dB=NAe(),_Wt=dB.Tracker,fB=dB.useReportedValues,zAe=dB.useReporter,Nm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),SWt=e=>{const t=ne.useRef(null),{onSetFocus:n}=ne.useContext(Nm),[r,o]=ne.useState(!1),i=ne.useCallback(()=>{o(!0)},[]),s=ne.useCallback(()=>{o(!1)},[]);zAe("change-".concat(zr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),PF);const a=h.useCallback(c=>{EWt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function EWt(e,t,n){e.stopPropagation(),t(n)}function ti(e){const t=h.useRef(e);return Ut(t.current,e)||(t.current=e),t.current}function ph(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=ti(i),a=bo(()=>ve(s).pipe(rt(c=>Wr(ve({type:"loading"}),e(c).pipe(ce(u=>({type:"value",value:u}))))),sa((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Jn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),ce(c=>({type:"tuple",tuple:c})),Rn(c=>ve({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function yo(e){return e!=null}const kWt="drafts",hB="".concat(kWt,".");function pB(e){return e.startsWith(hB)}function VAe(e){return{draftId:fi(e),publishedId:$n(e)}}function fi(e){return pB(e)?e:hB+e}function $n(e){return pB(e)?e.slice(hB.length):e}function xA(e){const t=e.reduce((n,r)=>{const o=$n(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function jWt(e){return xA(e).map(t=>t.draft||t.published).filter(yo)}const TWt=Object.freeze({}),fn=Object.freeze([]);function AWt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const DWt=AWt();function Eee(e){return Array.isArray(e)}function bt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function kv(e){return typeof e=="string"}const IWt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:j_e,PWt=()=>{const e=OF(),t=new IWt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},OWt=PWt(),RWt=["sanity.imageAsset","sanity.fileAsset"];function $Wt(e){return e.type==="document"&&RWt.includes(e.name)}function N$n(e){return e.type==="document"&&!$Wt(e)}const MWt=["match","in","asc","desc","true","false","null"],FWt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,HAe=e=>!FWt.test(e)||MWt.includes(e),mB=e=>'["'.concat(e,'"]'),LWt=e=>"@".concat(mB(e)),BWt=e=>Array.isArray(e)&&e.length===0,NWt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(BWt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;HAe(r)?t=o?LWt(r):"".concat(t).concat(mB(r)):t=o?r:"".concat(t,".").concat(r)}return t},sm=zWt();function zWt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const VWt={isLoading:!0,value:void 0,error:null};function UAe(e,t){return bo(()=>e.pipe(HWt()),[e],typeof t>"u"?VWt:{isLoading:!1,value:t,error:null})}function HWt(){return e=>e.pipe(ce(t=>({isLoading:!1,value:t,error:null})),Rn(t=>ve({isLoading:!1,value:void 0,error:t})))}function UWt(e,t,n){return h.useMemo(()=>hT(e,t,n),[e,n,t])}function WAe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var kee=Object.freeze,WWt=Object.defineProperty,Su=(e,t)=>kee(WWt(e,"raw",{value:kee(t||e.slice())})),jee,Tee,Aee,Dee,Iee,Pee,Oee,Ree,$ee;const YWt=250,qWt=O.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?de(jee||(jee=Su([`
        `,` {
          display: none;
        }
      `])),l4):de(Dee||(Dee=Su([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&de(Tee||(Tee=Su([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),l4),r&&de(Aee||(Aee=Su([`
        `,` {
          opacity: 0;
        }
      `])),YAe))}),GWt=O.div(Iee||(Iee=Su([`
  flex-grow: 1;
  min-width: 0;
`]))),l4=O.div(Pee||(Pee=Su([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),KWt=O.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return de(Oee||(Oee=Su([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),YAe=O.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return de($ee||($ee=Su([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),YWt,r,n&&de(Ree||(Ree=Su([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function ZWt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ne.useContext(Nm),{zIndex:a}=pa(),c=h.useMemo(()=>n||!r?null:l.jsxs(l4,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(KWt,{"data-testid":"change-bar__marker"}),l.jsx(YAe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(qWt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(GWt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const XWt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=fn,withHoverEffect:u,...d}=t,f=pa(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),y=h.useRef(null);return zAe(r?null:"field-".concat(zr(c)),()=>({element:y.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),PF),l.jsx("div",{...d,ref:y,onMouseEnter:v,onMouseLeave:g,children:l.jsx(ZWt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function hi(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(XWt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ne.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const c4=ne.createContext(null);function QWt(e){const t=ne.useContext(c4);ne.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const Mee=()=>{},wA=ne.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=fr(n),a=h.useContext(c4),c=h.useMemo(()=>OF(),[]);return h.useEffect(()=>o?c.subscribe(o):Mee,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):Mee,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(c4.Provider,{value:c,children:ne.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function JWt(e){let{onScroll:t,children:n}=e;return QWt(t),l.jsx(l.Fragment,{children:n})}function Fee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Il(r),i="".concat(e,"-").concat(zr(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=B4e(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&Dl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function eYt(e){return e[0]!=="changePanel"}function qAe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function tYt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&qAe(e)}const nYt=-15;function Lee(e){let n=e.element;for(;!tYt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+nYt,left:0,behavior:"smooth"})}const Bee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),qAe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function a2(e,t,n){return["M ".concat(e-s2," ").concat(t-s2*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+s2," ").concat(t-s2*n)].join("")}function jO(e,t){return"M".concat(e," ").concat(t)}function oo(e,t){return"L".concat(e," ").concat(t)}function rYt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function ds(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function oYt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Ls,Math.abs(o-s)/2);return t.isAbove?a.push(jO(r+ft,o-ki+Da),oo(r+ft,o-Ls),ds(r+ft,o,r+ft+Ls,o)):t.isBelow?a.push(jO(r+ft,o+ki-Da),oo(r+ft,o+Ls),ds(r+ft,o,r+ft+Ls,o)):a.push(jO(r,o)),n.isAbove?o<n.bounds.top?a.push(oo(n.bounds.left-8-c,o),ds(n.bounds.left-8,o,n.bounds.left-8,o+c),oo(n.bounds.left-8,s-c),ds(n.bounds.left-8,s,n.bounds.left-8+c,s),oo(n.bounds.left+ft-Ls,s),ds(n.bounds.left+ft,s,n.bounds.left+ft,s-Ls),oo(n.bounds.left+ft,s-ki+Da)):a.push(oo(n.bounds.left+ft-Ls,o),ds(n.bounds.left+ft,o,n.bounds.left+ft,o-Ls),oo(n.bounds.left+ft,s-ki+Da)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(oo(n.bounds.left-ft-c,o),ds(n.bounds.left-ft,o,n.bounds.left-ft,o-c),oo(n.bounds.left-ft,s+c),ds(n.bounds.left-ft,s,n.bounds.left-ft+c,s),oo(n.bounds.left+ft-Ls,s),ds(n.bounds.left+ft,s,n.bounds.left+ft,s+Ls),oo(n.bounds.left+ft,s+ki-Da)):a.push(oo(n.bounds.left+ft-Ls,o),ds(n.bounds.left+ft,o,n.bounds.left+ft,o+Ls),oo(n.bounds.left+ft,s+ki-Da)):o<s?a.push(oo(n.bounds.left+ft-c,o),ds(n.bounds.left+ft,o,n.bounds.left+ft,o+c),oo(n.bounds.left+ft,s-c),ds(n.bounds.left+ft,s,n.bounds.left+ft+c,s),oo(i,s)):a.push(oo(n.bounds.left+ft-c,o),ds(n.bounds.left+ft,o,n.bounds.left+ft,o-c),oo(n.bounds.left+ft,s+c),ds(n.bounds.left+ft,s,n.bounds.left+ft+c,s),oo(i,s)),rYt(a)}function Nee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Da,o=e.top>t.top+t.height-Da;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+See,endY:e.top+e.height-See,isAbove:r,isBelow:o,outOfBounds:r||o}}function iYt(e){const t={top:e.from.bounds.top+ki,bottom:e.from.bounds.top+e.from.bounds.height-ki,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-ki*2},n=Nee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+ki,bottom:e.to.bounds.top+e.to.bounds.height-ki,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-ki*2},o=Nee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function sYt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var zee=Object.freeze,aYt=Object.defineProperty,CA=(e,t)=>zee(aYt(e,"raw",{value:zee(t||e.slice())})),Vee,Hee,Uee,Wee;O.rect(Vee||(Vee=CA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const iy=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Hee||(Hee=CA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),lYt=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Uee||(Uee=CA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),cYt=O(sYt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Wee||(Wee=CA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),uYt=h.memo(function(t){let{from:n,to:r}=t;const o=iYt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=oYt(o);return l.jsxs(l.Fragment,{children:[l.jsx(lYt,{d:i,strokeWidth:xWt}),l.jsx(iy,{d:i,strokeWidth:cg}),l.jsx(cYt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:cg,bounds:r.bounds}),o.from.isAbove&&l.jsx(iy,{d:a2(o.from.left+ft,o.from.bounds.top-ki+Da,-1),strokeWidth:cg}),o.from.isBelow&&l.jsx(iy,{d:a2(o.from.left+ft,o.from.bounds.top+o.from.bounds.height+ki-Da,1),strokeWidth:cg}),o.to.isAbove&&l.jsx(iy,{d:a2(o.to.bounds.left+ft,o.to.bounds.top-ki+Da,-1),strokeWidth:cg}),o.to.isBelow&&l.jsx(iy,{d:a2(o.to.bounds.left+ft,o.to.bounds.top+o.to.bounds.height+ki-Da,1),strokeWidth:cg}),wWt]})});function dYt(e,t){h.useEffect(()=>OWt.observe(e,t),[e,t])}var Yee=Object.freeze,fYt=Object.defineProperty,hYt=(e,t)=>Yee(fYt(e,"raw",{value:Yee(t||e.slice())})),qee;const pYt=O.svg(qee||(qee=hYt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Gee(e,t,n,r){const o=[],i=[];for(const u of e){if(!eYt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=Fee("field",d,n),p=Fee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(yo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...Bee(d.element,r)},change:{...f,...Bee(f.element,r)}}}),isHoverConnector:s}}function mYt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ne.useState(null),i=fB(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>Gee(i,r,s,t)),u=h.useMemo(()=>Im(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(Gee(i,r,s,t))},[s,i,r,t]);return dYt(t,d),l.jsx(JWt,{onScroll:d,children:l.jsx(pYt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(gYt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function gYt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{Lee(n),Lee(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(uYt,{from:c,to:u})}),CWt]})}function vYt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=ne.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Nm.Provider,{value:u,children:l.jsx(_Wt,{children:l.jsxs(wA,{...s,ref:c,className:n,children:[t,a&&l.jsx(mYt,{rootElement:a,onSetFocus:i})]})})})}const yYt=vYt;function bYt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function gB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&bYt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Kee=Object.freeze,xYt=Object.defineProperty,_A=(e,t)=>Kee(xYt(e,"raw",{value:Kee(t||e.slice())})),Zee,Xee,Qee,Jee;const wYt="data-active",TO="a,button",CYt=O.div(e=>{let{theme:t,offset:n}=e;return de(Zee||(Zee=_A([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ge(t.sanity.radius[1]),-n,-n,-n,GAe,gB({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),_Yt=O.div(Xee||(Xee=_A([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),GAe=O(M)(Qee||(Qee=_A([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),SYt=O(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Jee||(Jee=_A([`
  position: relative;
  width: 100%;
`]))),mh=h.forwardRef(function(t,n){let{activeItemDataAttr:r=wYt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[P,$]=h.useState(!1),[R,z]=h.useState(null),[B,H]=h.useState(null),W=h.useCallback(Ae=>{if(!b)return;const[Ge]=[...Ae.getVirtualItems()].reverse();if(!Ge)return;Ge.index>=x.length-w-1&&k.current&&b()},[b,x.length,w]),V=G_e({count:x.length,getItemKey:f,getScrollElement:()=>B,estimateSize:()=>y,onChange:W,overscan:_}),G=h.useMemo(()=>{let Ae=-1;return x.reduce((Ge,Ye,tt)=>{var xt,Ee;const Be=(xt=d==null?void 0:d(tt))!=null?xt:!1,ct=(Ee=p==null?void 0:p(tt))!=null?Ee:!1;return Be||(Ae+=1),Ge[tt]={activeIndex:Be?null:Ae,disabled:Be,selected:ct},Ge},[])},[d,p,x]),te=h.useMemo(()=>G.filter(Ae=>!Ae.disabled).length,[G]),N=h.useCallback(Ae=>R==null?void 0:R.setAttribute("data-enabled",(!Ae).toString()),[R]),Y=h.useCallback(Ae=>"".concat(T.current,"-item-").concat(Ae),[]),q=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const Ae=[g,B].some(Ye=>document.activeElement===Ye);if(C&&!Ae&&!P)return;const Ge=Array.from((D==null?void 0:D.children)||[]);Ge==null||Ge.forEach(Ye=>{var tt,xt,Ee;const Be=Number((tt=Ye.dataset)==null?void 0:tt.index),ct=(xt=G[Be])==null?void 0:xt.activeIndex;(Ee=Ye.querySelector(TO))==null||Ee.toggleAttribute(r,ct===A.current)})},[r,D==null?void 0:D.children,P,g,G,C,B]),se=h.useCallback(()=>{const Ae=Array.from((D==null?void 0:D.children)||[]);Ae==null||Ae.forEach(Ge=>{var Ye;(Ye=Ge.querySelector(TO))==null||Ye.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),re=h.useMemo(()=>hT(Z,200),[Z]),K=h.useCallback(()=>{const Ae=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",Y(Ae)),B==null||B.setAttribute("aria-activedescendant",Y(Ae))):(g==null||g.removeAttribute("aria-activedescendant"),B==null||B.removeAttribute("aria-activedescendant"))},[Y,g,x.length,B]),Q=h.useCallback(()=>{var Ae,Ge;const Ye=D==null?void 0:D.parentElement;if(D&&Ye){const tt=Ye.getBoundingClientRect().top-D.getBoundingClientRect().top;return(Ge=(Ae=V.getVirtualItemForOffset(tt))==null?void 0:Ae.index)!=null?Ge:-1}return-1},[D,V]),le=h.useCallback(Ae=>{let{index:Ge,scrollAlign:Ye,scrollIntoView:tt=!0}=Ae;if(A.current=Ge,K(),Z(),tt){const xt=G.findIndex(Ee=>Ee.activeIndex===Ge);xt>-1&&V.scrollToIndex(xt,Ye?{align:Ye}:{})}},[K,G,Z,V]),me=h.useCallback(Ae=>{let Ge=-1;const Ye=te-1;if(Ae==="next"){const tt=E?0:Ye;Ge=A.current<te-1?A.current+1:tt}if(Ae==="previous"){const tt=E?Ye:0;Ge=A.current>0?A.current-1:tt}le({index:Ge,scrollIntoView:!0}),N(!1)},[te,N,le,E]),ae=h.useCallback(Ae=>{switch(Ae){case"input":g==null||g.focus();break;case"list":B==null||B.focus();break}},[g,B]),Ce=h.useCallback(()=>{g==null||g.focus()},[g]),_e=h.useCallback(()=>{B==null||B.focus()},[B]),he=h.useCallback(Ae=>()=>{le({index:Ae,scrollIntoView:!1})},[le]),be=h.useCallback(()=>{Z()},[Z]),Le=h.useCallback(Ae=>Ge=>{const Ye=Array.from((D==null?void 0:D.children)||[]);if(Ye.length&&(Ge.key==="ArrowDown"&&(Ge.preventDefault(),ae(Ae),me("next")),Ge.key==="ArrowUp"&&(Ge.preventDefault(),ae(Ae),me("previous")),Ge.key==="Enter")){Ge.preventDefault(),ae(Ae);const tt=Ye.find(xt=>Number(xt.dataset.index)===G.findIndex(Ee=>Ee.activeIndex===A.current));if(tt){const xt=tt==null?void 0:tt.querySelector(TO);xt==null||xt.click()}}},[D==null?void 0:D.children,ae,G,me]),Re=h.useCallback(Ae=>Le("input")(Ae),[Le]),lt=h.useCallback(Ae=>Le("list")(Ae),[Le]),ot=h.useCallback(()=>{C&&(Z(),$(!0))},[C,Z]),Bt=h.useCallback(()=>{C&&(se(),$(!1))},[se,C]);h.useImperativeHandle(n,()=>({focusInputElement(){Ce()},focusListElement(){_e()},getTopIndex(){return Q()},scrollToIndex(Ae){le({index:Ae}),N(!0)}}),[N,Ce,_e,Q,le]),h.useEffect(()=>{typeof m<"u"&&!k.current&&le({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,le]),h.useEffect(()=>{function Ae(){N(!0)}return B==null||B.addEventListener("mousemove",Ae),B==null||B.addEventListener("wheel",Ae,{passive:!0}),()=>{B==null||B.removeEventListener("mousemove",Ae),B==null||B.removeEventListener("wheel",Ae)}},[N,B]),h.useEffect(()=>(g==null||g.addEventListener("focus",be),g==null||g.addEventListener("keydown",Re),B==null||B.addEventListener("focus",be),B==null||B.addEventListener("keydown",lt),()=>{g==null||g.removeEventListener("focus",be),g==null||g.removeEventListener("keydown",Re),B==null||B.removeEventListener("focus",be),B==null||B.removeEventListener("keydown",lt)}),[a,be,Le,Re,lt,se,g,Z,B]),h.useEffect(()=>{K()},[K,x]),h.useEffect(()=>{const Ae=new MutationObserver(re);return D&&Ae.observe(D,{childList:!0,subtree:!0}),()=>{Ae.disconnect()}},[D,re]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",q()),g==null||g.setAttribute("role","combobox")},[q,g]),h.useEffect(()=>{s&&ae(s)},[s,a,_e,Ce,ae]);const Rt=a?0:-1;return l.jsxs(GAe,{id:q(),onMouseEnter:ot,onMouseLeave:Bt,ref:H,sizing:"border",tabIndex:Rt,...j,children:[a&&l.jsx(CYt,{offset:u}),l.jsx(_Yt,{"aria-hidden":"true","data-enabled":!0,ref:z}),V&&l.jsx(SYt,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:V.getVirtualItems().map(Ae=>{const Ge=Ae.index,{activeIndex:Ye,disabled:tt,selected:xt}=G[Ge],Ee=S(x[Ge],{activeIndex:Ye,disabled:tt,selected:xt,virtualIndex:Ge}),Be=h.cloneElement(Ee,{tabIndex:-1}),ct=typeof Ye=="number"&&!tt?{"aria-posinset":Ye+1,...i?{"aria-selected":xt.toString()}:{},"aria-setsize":te,id:Y(Ye),role:"option",onMouseEnter:he(Ye)}:{};return l.jsx(ee,{as:"li","data-index":Ge,ref:c?void 0:V.measureElement,style:{flex:1,...c?{height:"".concat(Ae.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(Ae.start,"px)"),width:"100%"},tabIndex:-1,...ct,children:Be},Ae.key)})})]})}),ete=new WeakMap;let EYt=0;function tte(e){const t=ete.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(EYt++);return ete.set(e,n),n}function kYt(e){const t=h.useRef(void 0);return qu(e,t.current)||(t.current=e),[t.current]}function jYt(e,t){h.useEffect(e,kYt(t))}const TYt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return jYt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),AYt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},DYt=e=>clearTimeout(e),IYt=typeof requestIdleCallback>"u"?AYt:requestIdleCallback,PYt=typeof cancelIdleCallback>"u"?DYt:cancelIdleCallback,OYt={trailing:!0};function KAe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&PYt(d.current),d.current=IYt(()=>{d.current=null,a(x=>x+1)})},[]),p=UWt(f,60,OYt),m=h.useCallback((x,b)=>{if(b===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:b}}},[]),v=h.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>tte(x)),[t]),y=h.useMemo(()=>g.map(x=>{var b;return(b=i.current[x])==null?void 0:b.value}).filter(yo),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const b=tte(x),w=c[b]||0;return l.jsx(TYt,{hook:x,id:b,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(b,"-").concat(w))}),r({states:y})]})}function vB(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(RYt):n;return l.jsx(W6,{...r,keys:o})}const nte=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function RYt(e){const t=e.toLowerCase();return t==="alt"&&nte?rte(e,"option"):t==="option"&&!nte?rte(e,"alt"):e}function rte(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Mc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(Kt,{space:2,children:[l.jsx(L,{size:1,children:l.jsx(Of,{})}),l.jsx(L,{weight:"semibold",children:n})]}),l.jsx(Kt,{marginTop:4,children:l.jsx(L,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",$Yt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function $Yt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const MYt=O(eo)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return mt(r,e.$width,o=>({width:o==="auto"?"none":ge(n[o]),maxWidth:"100%"}))}),FYt=ne.forwardRef(function(t,n){const{width:r,...o}=t,i=ye(r);return l.jsx(MYt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var ote=Object.freeze,LYt=Object.defineProperty,ZAe=(e,t)=>ote(LYt(e,"raw",{value:ote(t||e.slice())})),ite,ste;const BYt=O(tn)(()=>de(ite||(ite=ZAe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),NYt=O(is)(e=>{const t=e.theme.sanity.radius[3];return de(ste||(ste=ZAe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function zYt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(FYt,{width:s,children:l.jsx(lh,{autoFocus:!0,children:l.jsxs(ee,{ref:i,children:[l.jsx(NYt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(oe,{icon:Ii,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(BYt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var ate=Object.freeze,VYt=Object.defineProperty,HYt=(e,t)=>ate(VYt(e,"raw",{value:ate(t||e.slice())})),lte;const UYt=O(X)(()=>de(lte||(lte=HYt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),XAe=h.createContext({selected:!1});function WYt(){const e=h.useContext(XAe);if(!e)throw new Error("PreviewCard: missing context value");return e}const Pp=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(UYt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(XAe.Provider,{value:{selected:o},children:r})})}),ns={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},YYt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var cte=Object.freeze,qYt=Object.defineProperty,GYt=(e,t)=>cte(qYt(e,"raw",{value:cte(t||e.slice())})),ute;const QAe=O.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=YYt[n];return de(ute||(ute=GYt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ge(i),o?"100%":ge(s),o?void 0:ge(i),c=>{let{theme:u}=c;return ge(u.sanity.radius[r])},a)});QAe.displayName="MediaWrapper";function lC(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(QAe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[KYt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function KYt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Sr.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function ZYt(e,t,n){return Sr.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Vo(e,t,n){return typeof e=="string"?e:Sr.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var dte=Object.freeze,XYt=Object.defineProperty,yB=(e,t)=>dte(XYt(e,"raw",{value:dte(t||e.slice())})),fte,hte,pte;const QYt={...ns.default,aspect:1,fit:"crop",dpr:Om()},mte=O(U)(fte||(fte=yB([`
  height: `,`;
`])),ge(ns.default.height)),JYt=O(Oi).attrs({animated:!0,radius:1})(hte||(hte=yB([`
  max-width: `,`;
  width: 80%;
`])),ge(160)),eqt=O(Oi).attrs({animated:!0,radius:1,size:1})(pte||(pte=yB([`
  max-width: `,`;
  width: 60%;
`])),ge(120));function JAe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=dgt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Vo(o,"default")});return i?l.jsxs(mte,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx($0,{animated:!0,marginRight:2,radius:2,style:ns.default}),l.jsxs(ee,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(JYt,{}),l.jsx(eqt,{})]}),u]}):l.jsxs(mte,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(lC,{dimensions:QYt,layout:"default",media:r,styles:a}),l.jsxs(ee,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Vo(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Vo(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var gte=Object.freeze,tqt=Object.defineProperty,zm=(e,t)=>gte(tqt(e,"raw",{value:gte(t||e.slice())})),vte,yte,bte,xte,wte,Cte,_te;const Ste=O(U).attrs({align:"center"})(vte||(vte=zm([`
  height: `,`;
`])),ge(ns.detail.height)),nqt=O(M)(yte||(yte=zm([`
  white-space: nowrap;
`]))),rqt=O($0).attrs({animated:!0,radius:2})(bte||(bte=zm([`
  width: `,`;
  height: `,`;
`])),ge(ns.detail.width),ge(ns.detail.height)),oqt=O(Oi).attrs({animated:!0,radius:1})(xte||(xte=zm([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ge(160)),iqt=O(Oi).attrs({animated:!0,radius:1,size:1})(wte||(wte=zm([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ge(120)),sqt=O(Oi).attrs({animated:!0,radius:1,size:1})(Cte||(Cte=zm([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ge(180)),aqt=O(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return de(_te||(_te=zm([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ge(i),o)}),lqt={...ns.detail,fit:"crop",aspect:1,dpr:Om()};function cqt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=lqt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(nqt,{marginLeft:3,paddingRight:1,children:Vo(s,"detail")});return c?l.jsxs(Ste,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(rqt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(ee,{flex:1,space:2,children:[l.jsx(oqt,{}),l.jsx(iqt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(sqt,{})})]})]}):l.jsxs(Ste,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(lC,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(ee,{flex:1,space:2,children:[l.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Vo(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(aqt,{muted:!0,size:1,children:Vo(r,"detail")})})]}),a]})}var Ete=Object.freeze,uqt=Object.defineProperty,bB=(e,t)=>Ete(uqt(e,"raw",{value:Ete(t||e.slice())})),kte,jte,Tte;const hl=43,xB=3,dqt=O.svg(kte||(kte=bB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),hl,hl),fqt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(jte||(jte=bB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),fe.gray[n.dark?900:100].hex,xB)}),hqt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(Tte||(Tte=bB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),fe.blue[n.dark?400:500].hex,xB)});function pqt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=hl/2-xB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(hl/2," ").concat(hl/2," ").concat(hl," ").concat(hl);return l.jsxs(dqt,{viewBox:s,children:[l.jsx(fqt,{cx:hl,cy:hl,r}),l.jsx(hqt,{cx:hl,cy:hl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var Ate=Object.freeze,mqt=Object.defineProperty,eDe=(e,t)=>Ate(mqt(e,"raw",{value:Ate(t||e.slice())})),Dte,Ite;const gqt=.5,vqt=O(X)(Dte||(Dte=eDe([`
  overflow: hidden;
  overflow: clip;
`]))),yqt=O(X)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(Ite||(Ite=eDe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),gqt,fe.blue[n.dark?400:500].hex)});function bqt(e){const{value:t}=e;return l.jsx(vqt,{radius:5,children:l.jsx(yqt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var Pte=Object.freeze,xqt=Object.defineProperty,cC=(e,t)=>Pte(xqt(e,"raw",{value:Pte(t||e.slice())})),Ote,Rte,$te,Mte,Fte;const wqt=O(M)(Ote||(Ote=cC([`
  position: relative;
`]))),Cqt=O(U).attrs({align:"center",justify:"center"})(Rte||(Rte=cC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),_qt=O($0).attrs({animated:!0,radius:2})($te||($te=cC([`
  width: 100%;
  height: 100%;
`]))),Sqt=O(U).attrs({align:"center",justify:"center"})(Mte||(Mte=cC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),Eqt=O(ee).attrs({padding:2,space:2})(Fte||(Fte=cC([`
  max-width: `,`;
`])),ge(200)),kqt={...ns.media,aspect:1,fit:"crop",dpr:Om()};function jqt(e){const{media:t,mediaDimensions:n=kqt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(Eqt,{children:[a&&l.jsx(L,{align:"center",size:1,weight:"semibold",children:Vo(a,"media")}),s&&l.jsx(L,{align:"center",muted:!0,size:1,children:Vo(s,"media")})]}),[s,a]);return l.jsxs(wqt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(it,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(Cqt,{children:[o?l.jsx(_qt,{}):l.jsx(lC,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(Sqt,{children:l.jsx(pqt,{value:i})})]})}),r]})}var Lte=Object.freeze,Tqt=Object.defineProperty,wB=(e,t)=>Lte(Tqt(e,"raw",{value:Lte(t||e.slice())})),Bte,Nte,zte;const Aqt=O(U).attrs({align:"center"})(Bte||(Bte=wB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ge(ns.block.height)),Dqt=O(X)(Nte||(Nte=wB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),Iqt=O(M).attrs({overflow:"hidden"})(zte||(zte=wB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),Pqt={...ns.blockImage,fit:"fillmax",dpr:Om()},Oqt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function Rqt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=Pqt,media:a,children:c,status:u}=e;return l.jsxs(Iqt,{children:[l.jsxs(ee,{children:[l.jsxs(Aqt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(ee,{flex:1,space:2,children:[(n||i)&&l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Vo(n,"block"):i}),r&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(r,"block")})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Vo(u,"block")}),t]})]}),l.jsx(Dqt,{$ratio:Oqt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(lC,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(L,{muted:!0,size:1,children:Vo(o,"block")})}),c&&l.jsx("div",{children:c})]})}var Vte=Object.freeze,$qt=Object.defineProperty,Mqt=(e,t)=>Vte($qt(e,"raw",{value:Vte(t||e.slice())})),Hte;const Fqt={...ns.block,aspect:1,fit:"crop",dpr:Om()},Lqt=O(U).attrs({align:"center"})(Hte||(Hte=Mqt([`
  min-height: `,`;
`])),ge(ns.block.height));function Bqt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=Fqt,media:s,status:a,children:c}=e;return l.jsxs(ee,{"data-testid":"block-preview",space:1,children:[l.jsxs(Lqt,{"data-testid":"block-preview__header",children:[s&&l.jsx(lC,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Vo(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(o,"block")})})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Vo(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var Ute=Object.freeze,Nqt=Object.defineProperty,CB=(e,t)=>Ute(Nqt(e,"raw",{value:Ute(t||e.slice())})),Wte,Yte,qte;const zqt=O.span(Wte||(Wte=CB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),Vqt=O.span(Yte||(Yte=CB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])},e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),Hqt=O(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return de(qte||(qte=CB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),Uqt={...ns.inline,fit:"crop",aspect:1,dpr:Om()};function Wqt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=Uqt}=e;return l.jsxs(zqt,{"data-testid":"inline-preview",children:[r&&l.jsxs(Vqt,{"data-testid":"inline-preview-media",children:[ZYt(r,"inline",o),l.jsx("span",{})]}),l.jsx(Hqt,{"data-testid":"inline-preview-title",size:1,children:Vo(t,"inline",n)})]})}var Gte=Object.freeze,Yqt=Object.defineProperty,SA=(e,t)=>Gte(Yqt(e,"raw",{value:Gte(t||e.slice())})),Kte,Zte,Xte,Qte;({...ns.default,dpr:Om()});O(M)(Kte||(Kte=SA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));O(U).attrs({align:"center"})(Zte||(Zte=SA([`
  height: `,`;
`])),ge(ns.default.height));O(Oi).attrs({animated:!0,radius:1})(Xte||(Xte=SA([`
  max-width: `,`;
  width: 80%;
`])),ge(160));O(Oi).attrs({animated:!0,radius:1,size:1})(Qte||(Qte=SA([`
  max-width: `,`;
  width: 60%;
`])),ge(120));const qqt=["aria-hidden","disabled","href"],Gqt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Kqt(e){return[...e.querySelectorAll(Gqt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function tDe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const b=Kqt(s);d(b)}},[s]),y=h.useCallback(b=>{c(b)},[]),x=h.useCallback(b=>{if(i)return;const w=()=>{b.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{b.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};b.key==="Tab"&&o.includes("tab")&&(b.shiftKey?w():C()),o.includes("arrows")&&(b.key===v&&w(),b.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0,attributeFilter:qqt}),()=>{b.disconnect()}},[u,g,s]),h.useEffect(()=>{var b;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>y(C),w.onblur=()=>y(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?p:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const Zqt=O(M)({position:"relative"}),Xqt=O.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),gh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=Os(),g=f&&v.sanity.color.solid[f],y=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,b=typeof r=="object"?l.jsx(L,{size:1,children:r.reason}):l.jsxs(U,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(L,{size:1,children:a}),i&&l.jsx(vB,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(it,{padding:2,placement:"bottom",...p,content:b,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(oe,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(U,{gap:u,children:[l.jsxs(Zqt,{children:[l.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,Sr.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(Xqt,{style:y})]}),d&&l.jsx(M,{flex:1,children:l.jsx(L,{size:o,children:d})})]})})})})});var Jte=Object.freeze,Qqt=Object.defineProperty,Jqt=(e,t)=>Jte(Qqt(e,"raw",{value:Jte(t||e.slice())})),ene;const eGt=O(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return de(ene||(ene=Jqt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),cr=ne.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(eGt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),uC=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(it,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),_B=h.forwardRef((e,t)=>{const{push:n}=qo();return h.useImperativeHandle(t,()=>({push:n})),null});_B.displayName="ImperativeToast";const tGt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},nGt=h.createContext(tGt);function nDe(){return h.useContext(nGt)}function td(e){let{children:t,zOffset:n}=e;const o=nDe()[n];return l.jsx(Wu,{zOffset:o,children:t})}function rGt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const rDe=h.createContext(null);function oGt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||rGt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(rDe.Provider,{value:n,children:t})}function wd(){const e=h.useContext(rDe);if(!e)throw new Error("Could not find `cache` context");return e}class SB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const EB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),kB={};function oDe(e,t){EB?localStorage[e]=t:kB[e]=t}function iGt(e){return EB?localStorage[e]:kB[e]}function iDe(e){EB?localStorage.removeItem(e):delete kB[e]}function sGt(e){const t=typeof window>"u"?ve():Ri(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new _r,o=an(r,t.pipe(ht(s=>s.key===n),ce(s=>s.newValue),ht(yo),ce(s=>JSON.parse(s)))).pipe(Io(1));function i(s){try{oDe(n,JSON.stringify(s)),iDe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const tne=/sid=([^&]{20,})&?/;function aGt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(tne)||[];if(!t)return null;const n=e.replace(tne,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let nne=aGt();const lGt=()=>{const e=nne;return e&&(nne=null),e};var rne=Object.freeze,cGt=Object.defineProperty,sDe=(e,t)=>rne(cGt(e,"raw",{value:rne(t||e.slice())})),one,ine;const uGt=O.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return de(one||(one=sDe([`
    fill: `,`;
  `])),n)}),dGt=O.img(ine||(ine=sDe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),fGt=()=>l.jsx(uGt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),hGt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function pGt(e){const{provider:t}=e;return t.logo?l.jsx(dGt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const mGt={google:hGt,github:fGt};async function gGt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function sne(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function vGt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=ph(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&gGt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&sne({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),y=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),y?l.jsxs(U,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(hr,{muted:!0})]}):l.jsxs(ee,{space:4,children:[l.jsx(Yo,{align:"center",size:1,children:"Choose login provider"}),l.jsx(ee,{space:2,children:d.map((x,b)=>l.jsx(oe,{as:"a",icon:mGt[x.name]||l.jsx(pGt,{provider:x}),href:sne({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return s}const jB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},ane=e=>{try{const t=iGt(jB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},aDe=e=>{try{iDe(jB(e))}catch(t){console.error(t)}},yGt=e=>{let{token:t,projectId:n}=e;try{oDe(jB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},lne=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return aDe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new SB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function bGt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=sGt("dual_mode_auth_".concat(n)),u=t??TSe,d=c.pipe(ci(i==="dual"?ane(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ce(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),rt(x=>mo(async()=>{const b=await lne(x,a);return{currentUser:b,client:x,authenticated:!!b}})),Jn((x,b)=>Ut(x.currentUser,b.currentUser)),Io(1));async function m(){const x=lGt();if(!x){a(i==="cookie"?null:ane(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await lne(b,a)),w||i==="cookie"){a(null);return}const C=await v(b,x);a(C??null)}async function v(x,b){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return yGt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});aDe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=vGt({...s,getClient:()=>p.pipe(ce(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:y,logout:g}}function lDe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,lDe(r)]})))}const xGt=pT(bGt,lDe);function wGt(e){return bt(e)&&"state"in e&&bt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function cDe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function CGt(e){return t=>{let n=[];const r=Rn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(Cn(()=>{n=[]}),r)}}const cne=typeof window>"u"?ve({}):Ri(window,"online"),_Gt=typeof window>"u"?ve({}):Ri(window,"offline"),SGt=e=>Math.pow(2,e)*100,EGt={type:"connecting"},uDe=o_e(),kGt=uDe[0];uDe[1];const jGt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function TGt(e){let{bifur:t}=e;return{connectionStatus$:an(t.heartbeats,_Gt.pipe(Zp(Yu(new Error("The browser went offline"))))).pipe(ce(r=>({type:"connected",lastHeartbeat:r})),CGt((r,o,i)=>{const s=Math.min(24e4,SGt(o)),a=new Date(new Date().getTime()+s),c=Wo(a),u=!navigator.onLine,d=jGt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=r8.pipe(a8(u?cne:an(c,cne,kGt)));return Wr(ve(d),f.pipe(Ti(1)),i)}),ci(EGt))}}const AGt=E0e(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}}),dDe=h.createContext(null);function TB(){const e=h.useContext(dDe);if(!e)throw new Error("UserColorManager: missing context value");return e}function DGt(e){const t=TB();return bo(e?t.listen(e):ont(),[e],t.get(null))}const IGt="purple",PGt=["green","red","gray"],OGt=k0e.filter(e=>!PGt.includes(e)),fDe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},RGt=e=>{const{background:t,border:n,text:r}=fDe(e);return OGt.reduce((o,i)=>(o[i]={name:i,background:fe[i][t].hex,border:fe[i][n].hex,text:fe[i][r].hex,tints:fe[i]},o),{})},$Gt=e=>{const{background:t,border:n,text:r}=fDe(e);return{name:"gray",background:fe.gray[t].hex,border:fe.gray[n].hex,text:fe.gray[r].hex,tints:fe.gray}};function MGt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||RGt(o),s=t||$Gt(o),a=r||IGt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:y};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function y(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function b(k,T){p.delete(k),f[T]--}function w(){return c.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new pt(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),b(k,T)}}).pipe(Io({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function FGt(e){let{children:t,manager:n}=e;const{scheme:r}=Kc(),o=h.useMemo(()=>n||MGt({scheme:r}),[n,r]);return l.jsx(dDe.Provider,{value:o,children:t})}function une(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(CT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function hDe(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return une(r),r}}return une(e),()=>e}const LGt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},BGt=[];const kf=class pDe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new pDe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function NGt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function AB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Dl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function zGt(e){return e!==null||e!==void 0}function Db(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>Db(i,t,n)).filter(zGt);if(typeof e=="string")return Db(new kf(e),t,n);if(!(e instanceof kf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(AB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return Db(new kf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const VGt={}.toString,dne=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function HGt(e){for(let t=0;t<dne.length;t++)if(dne[t]===e)return!0;return!1}function mDe(e){const t=VGt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!HGt(n)?n.name:t}function Vx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Vx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Vx(e[o],t[o]))return!1}return!0}return!1}const fne=5e3,hne=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new kf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Vm={type:(e,t,n)=>{const r=mDe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?hne({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:hne({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Vx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(AB(r.path)," has taken more than ").concat(fne,"ms to respond"))},fne);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},UGt={...Vm,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},WGt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,YGt={...Vm,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(WGt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},AO="http://sanity",qGt=e=>/^\.*\//.test(e),GGt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,KGt={...Vm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,AO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==AO)return n||"Only relative URLs are allowed";if(!a&&c.origin===AO&&qGt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||GGt.test(r)?!0:n||"Must be a valid email address"}},ZGt={...Vm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>Vx(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new kf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];Vx(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new kf(n||"Can't be a duplicate",{paths:o}):!0}},XGt=["_key","_type","_weak"],QGt={...Vm,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!XGt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!ad(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function pne(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const JGt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,mne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?oi(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",oi(new Date(t),r))};function l2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const eKt={...Vm,type:(e,t,n)=>!"".concat(t)||JGt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=l2(t);if(!o||!t||o>=l2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=pne(r.type.options)?r.type.options:{},s=mne(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=l2(t);if(!o||!t||o<=l2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=pne(r.type.options)?r.type.options:{},s=mne(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var wo;const tKt={Boolean:UGt,Number:YGt,String:KGt,Array:ZGt,Object:QGt,Date:eKt},gDe=e=>e&&e.type?gDe(e.type):e,nKt=e=>typeof e!="object"||!e?!1:e.type===u4.FIELD_REF,rKt=[],gne=Symbol("FIELD_REF"),oKt=["Array","Boolean","Date","Number","Object","String"],u4=(wo=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=wo.valueOfField.bind(wo),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new wo;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=$Et(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!oKt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(NGt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=gDe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return rKt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&tKt[this._type]||Vm;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;nKt(c)&&(c=Yn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new kf("".concat(AB(t.path),": Exception occurred while validating value: ").concat(d.message));return Db(f,"error",t)}return Db(u,this._level,t)}))).flat()}},wo.FIELD_REF=gne,wo.array=e=>new wo(e).type("Array"),wo.object=e=>new wo(e).type("Object"),wo.string=e=>new wo(e).type("String"),wo.number=e=>new wo(e).type("Number"),wo.boolean=e=>new wo(e).type("Boolean"),wo.dateTime=e=>new wo(e).type("Date"),wo.valueOfField=e=>({type:gne,path:e}),wo),iKt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},sKt=function(t){return window.clearTimeout(t)},b5=typeof window>"u"?void 0:window,aKt=(b5==null?void 0:b5.requestIdleCallback)||iKt,lKt=(b5==null?void 0:b5.cancelIdleCallback)||sKt,cKt=pT(dKt);function uKt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function vne(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Dl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const yne=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=uKt(r._id),d=r._type,f=vne(o.concat("current"));!a&&f.includes("[]")&&cKt(vne(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function dKt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const fKt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||yne,s={...t,parent:t.parent,type:t.type,defaultIsUnique:yne};return await i(r,s)?!0:"Slug is already in use"},hKt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},pKt=e=>e in hKt;function vDe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?vDe(e.type,t):[],e]):[]}function mKt(e,t){let n=e;pKt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>gKt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(fKt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function yDe(e){return e?!("fields"in e)&&e.type?yDe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function gKt(e,t){return t.jsonType==="object"&&yDe(t)||e.value===void 0?e:e.value}function Hx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Hx({...e,validation:r}));if(t instanceof u4)return[t];const n=Object.values(vDe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(mKt,new u4(e));return t?Hx({...e,validation:t(n)}):[n]}const bne=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),vKt=e=>e!=null;function yKt(e,t){if(t.length===1)return t[0];const n=_F(e)&&e._type,r=e==null||!n&&mDe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const bKt=[];function xKt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),ve(bKt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return d4(i).pipe(Rn(s=>(console.error(s),ve([{type:"validation",level:"error",path:[],item:new kf(s==null?void 0:s.message)}]))))}function d4(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Hx(n),a=s.map(p=>mo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(vKt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const y=p[v];return Hx({...y,validation:g}).map(x=>{const b=bne(t)?t[v]:void 0;return mo(()=>x.validate(b,{...i,parent:t,path:r.concat(v),type:y}))})})),c=c.concat(n.fields.map(m=>d4({...i,parent:t,value:bne(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>d4({...i,parent:t,value:p,path:r.concat(Dl(p)?{_key:p._key}:m),type:yKt(p,n.of)})))),mo(()=>an([...a,...c])).pipe(dt(p=>Wr(wKt(),p),40),Jj(),WCe(),ce(Pn),ce(p=>s.some(m=>m._fieldRules)?Wf(p,m=>JSON.stringify(m)):p))}function wKt(e){return new pt(t=>{const n=aKt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>lKt(n)})}function CKt(e){return NS(e,new Set),e}function NS(e,t){if(!t.has(e)){if(t.add(e),e.validation=Hx(e),"fields"in e)for(const n of e.fields)NS(n.type,t);if("of"in e)for(const n of e.of)NS(n,t);if(e.annotations)for(const n of e.annotations)NS(n,t)}}function _Kt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&CKt(r)}),e}var SKt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},EKt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},kKt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},jKt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},TKt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},AKt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},DKt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},IKt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},PKt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},OKt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},RKt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const $Kt=e=>e.severity==="error",MKt=[TKt,SKt,EKt,AKt,RKt,kKt,jKt,OKt,PKt,DKt,IKt];function FKt(e){const t=kEt(e.types).getTypes(),n=kSt(t),r=n.some(i=>i.problems.some($Kt)),o=r9.compile({name:e.name,types:r?[]:[...e.types,...MKt].filter(Boolean)});return o._validation=n,_Kt(o)}function Op(e){return typeof e.title=="string"?e.title:e.type?Op(e.type):e.name||e.jsonType}const cn={apiVersion:"2022-09-09"};var xne=Object.freeze,LKt=Object.defineProperty,BKt=(e,t)=>xne(LKt(e,"raw",{value:xne(t||e.slice())})),wne;const NKt=O(is)(wne||(wne=BKt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function zKt(){return l.jsx(NKt,{children:l.jsx(U,{height:"fill",align:"center",justify:"center",children:l.jsx(hr,{})})})}function VKt(e){const{text:t}=e;return l.jsxs(U,{direction:"row",justify:"center",align:"center",children:[l.jsx(hr,{}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{children:t})})]})}const Cne={referringDocuments:[],isLoading:!0};function HKt(e){const t=il();return bo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ce(n=>({referringDocuments:n,isLoading:!1})),ci(Cne)),[t,e],Cne)}const UKt=()=>h.createElement(h.Fragment);function WKt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:UKt})}}function ql(e){const{options:t}=Ln().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...eD(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return WKt(n,s)},[n,t,r])}function _c(e,t){return t.name===e||!!(t.type&&_c(e,t.type))}const YKt={default:JAe,media:jqt,detail:cqt,inline:Wqt,block:Bqt,blockImage:Rqt};function qKt(){return l.jsx(Rf,{className:"sanity-studio__preview-fallback-icon"})}function vh(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=mr(cn),c=h.useMemo(()=>IT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:kv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||qKt),[t]),f=h.useMemo(()=>t===!1?!1:Sr.isValidElementType(r)||h.isValidElement(r)?r:bb(r)?u:kv(o)?l.jsx("img",{src:o,alt:kv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=YKt[n||"default"];return h.createElement(m,p)}const GKt=typeof window>"u"?Qn:Ri(window,"resize").pipe(Io(1)),KKt=typeof window>"u"?Qn:Ri(window,"scroll",{passive:!0,capture:!0}).pipe(Io(1)),ZKt=typeof window>"u"?Qn:Ri(window,"orientationchange").pipe(Io(1)),bDe=150;function XKt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const QKt=XKt()?JKt():eZt();function JKt(){const e=new _r,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(bDe,"px")});return function(r){return new pt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(dt(()=>e.asObservable()),ht(o=>o.target===r),ce(o=>({isIntersecting:o.isIntersecting})))}}function eZt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),bDe)}return function(o){const i=n(o);return an(ve(i()),GKt,KKt,ZKt).pipe(ce(i),ce(s=>({isIntersecting:s})))}}const tZt=typeof window>"u"?Qn:Ri(document,"visibilitychange").pipe(Io(1));function nZt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Wr(ve(!document.hidden),tZt.pipe(ce(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Jn()),s=QKt(t).pipe(ce(u=>u.isIntersecting)),c=i.pipe(rt(u=>u?s:ve(!1)),rt(u=>u?ve(!0):ve(!1).pipe(GCe(n))),Jn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const rZt={isLoading:!0},oZt={isLoading:!1};function DB(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=zi();return bo(()=>!t||!o||!r?ve(oZt):i(o,r,{ordering:n}).pipe(ce(s=>({isLoading:!1,value:s.snapshot||void 0})),Rn(s=>ve({isLoading:!1,error:s}))),[t,i,n,r,o],rZt)}function iZt(e){return sZt(e==null?void 0:e._upload)}function sy(e){return kv(e)?e:void 0}function sZt(e){var t,n;if(!bt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=sy(e.initiated||e.createdAt),i=sy(e.updated||e.updatedAt),s=sy((t=e==null?void 0:e.file)==null?void 0:t.name),a=sy((n=e==null?void 0:e.file)==null?void 0:n.type),c=sy(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const aZt=1e3*2;function IB(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=nZt({element:s?null:c,hideDelay:aZt}),f=DB({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>iZt(n),[n]),v=h.useMemo(()=>{var g,y;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(y=f==null?void 0:f.value)==null?void 0:y.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function PB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const lZt=e=>e.liveEdit===!0;function EA(e,t,n,r){const o=lZt(t)?ve({snapshot:null}):e.observeForPreview({_type:"reference",_ref:fi(n)},t),i=e.observeForPreview({_type:"reference",_ref:$n(n)},t);return Uo([o,i]).pipe(ce(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),ci({draft:null,isLoading:!0,published:null}))}const cZt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx(Lr,{})}),OB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?sNt({},o,t,(i,s)=>typeof s>"u"?i:s):cZt(t)},xDe=["_id","_rev","_type"],uZt=[...xDe,"_key"],_ne={available:!0,reason:"READABLE"},dZt={available:!1,reason:"PERMISSION_DENIED"},fZt={available:!1,reason:"NOT_FOUND"},hZt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx(Lr,{})};function pZt(e){return Array.isArray(e)&&(e.length===0||e.some(Ou))}function mZt(e){const t=Array.isArray(e)&&e.find(Ou);return!t||!t.children?"":t.children.filter(Js).map(n=>n.text).join("")}function wDe(e){return Object.keys(e)}const gZt=["_id","_type","_upload","_createdAt","_updatedAt"],f0=[],f4=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),vZt=dw(()=>{const e=f4.getAll(),n=Pn(Object.keys(e).map(r=>{const o=e[r];return Wf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Wf(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),f4.clear())},1e3),ay=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?f0:[$B("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(RB(t))))]},yZt={media:()=>f0,title:ay("title"),subtitle:ay("subtitle"),description:ay("description"),imageUrl:ay("imageUrl"),date:ay("date")};function RB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(bt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>RB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function bZt(e,t){if(typeof t>"u")return f0;const n=yZt[e];return n&&n(t)||f0}function $B(e,t){return Object.assign(t,{type:e})}function xZt(e){return!kr(e)||e===null?[$B("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(RB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...bZt(r,o)]},f0)}function wZt(e){return{...e,errors:[...e.errors||[],...xZt(e.returnValue)]}}function CZt(e){return wDe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:pZt(r)?mZt(r):r}},{})}function h4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):CZt(t),errors:f0}}catch(i){return{returnValue:null,errors:[$B("prepareError",i)]}}}function Sne(e,t,n){return e.errors.forEach(r=>f4.add(t,n,r)),vZt(),hZt}function _Zt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function SZt(e){return _Zt(e)?e.options.list.map(n=>kF(n)?n:{title:n,value:n}):void 0}function x5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],y=(m=v==null?void 0:v.fields)==null?void 0:m.find(b=>b.name===g),x=y&&SZt(y.type);if(!i&&x){const b=x&&x.find(w=>w.value===Yn(e,s[p]));f[p]=b?b.value:Yn(e,s[p])}else f[p]=Yn(e,s[p]);return f},{}),u=h4(t,c,n);if(u.errors.length>0)return Sne(u,t,c);const d=wZt(h4(t,c,n));return d.errors.length>0?Sne(d,t,c):{..._t(e,gZt),...u.returnValue}}function zS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new pt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(yo);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const EZt=11164;function kZt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=EZt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function jZt(e,t){return e.push(...t),e}function CDe(e,t){function n(s){const a=fi(s),c=$n(s);return Uo([r(a),r(c)]).pipe(Jn(qu),ce(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ce(a=>bt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Jn(),rt(a=>a?ve(_ne):o(s)))}const o=zS(function(a){const c=[...new Set(Pn(a))];return Er(kZt(c)).pipe(dt(i,10),UCe(jZt,[]),ce(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return mo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ce(c=>{const u=S9(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return _ne;if(f.reason==="existence")return fZt;if(f.reason==="permission")return dZt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function Ene(e,t,n){return{...e,[t]:n}}function TZt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new pt(n=>t.subscribe(n)).pipe(rt(n=>{const r=wDe(n).map(o=>{const i=n[o];return bnt(i)?Er(i).pipe(ce(s=>[o,s])):ve([o,i])});return e.wait?Uo(r).pipe(ce(o=>o.reduce((i,s)=>{let[a,c]=s;return Ene(i,a,c)},{}))):Er(r).pipe(Jj(),sa((o,i)=>{let[s,a]=i;return Ene(o,s,a)},{}))}))}function AZt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function DZt(e,t){return t.filter(n=>!(n[0]in e))}function IZt(e){return ad(e)?e._ref:"_id"in e?e._id:void 0}function p4(e,t,n,r){if(!e||typeof e!="object")return ve(e);const o=IZt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=DZt(i,t);if(o&&s.length>0){const u=go(s.map(f=>f[0])),d=Ove(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(rt(f=>f===null?ve(null):p4({...AZt(u),...ad(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=bt(e)?e[d]:void 0:u[d]=p4(e[d],f,n,r),u},i);return ve(c).pipe(TZt({wait:!0}))}function PZt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function OZt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return p4(n,PZt(r),t,o)}}}function RZt(e){return kr(e)}function $Zt(e){return kr(e)}function MZt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(EF(i)){if(!Ove(o))return ve({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(rt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return ve({snapshot:void 0})}))}if(Ru(i))return $Zt(o)?t(o._ref).pipe(rt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return ve({snapshot:void 0})})):ve({snapshot:void 0});const c=PB(i.preview);return c?n(o,c,a).pipe(ce(u=>({type:i,snapshot:u&&x5(u,i,s)}))):ve({type:i,snapshot:o&&RZt(o)?h4(i,o,s).returnValue:null})}}function FZt(e,t){const{observeDocumentPairAvailability:n}=CDe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=VAe(i);return n(a).pipe(rt(u=>{if(!u.draft.available&&!u.published.available)return ve({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Uo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(ce(f=>{let[p,m]=f;const v=bt(p)&&"_type"in p&&p._type||bt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function LZt(e){return hNt(e.reduce((t,n,r)=>{let[o,i]=n;const s=Im(i.join(","),L_e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function BZt(e){return JSON.stringify(e)}const NZt=e=>HAe(e)?'"'.concat(e,'": @').concat(mB(e)):e;function zZt(e){let{ids:t,fields:n}=e;const r=[...xDe,...n];return"*[_id in [".concat(t.map(BZt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(NZt).join(","),"}")}function VZt(e){return"[".concat(e.map(zZt).join(","),"][0...").concat(e.length,"]")}function HZt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function UZt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const WZt=e=>e;function YZt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WZt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function qZt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=Er(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(aa()),C=w.pipe(ht(S=>S.type==="welcome"),Io({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(ht(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return an(C.welcome$,C.mutations$.pipe(ht(_=>_.documentId===w)))}function s(w){return function(_){const S=LZt(_);return w.observable.fetch(VZt(S),{},{tag:"preview.document-paths"}).pipe(ce(E=>HZt(E,S)))}}const a=zS(s(n),100),c=zS(s(n),1e3);function u(w,C){return i(w).pipe(rt(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(dt(S=>Wr(ve(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=pT(function(C){const _=n.withConfig(C),S=s(_);return zS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Ri(document,"visibilitychange").pipe(ci(0),ce(()=>document.visibilityState==="visible"),rt(w=>w?Wo(0,p):Qn),aa());function v(w,C,_){return m.pipe(ci(0)).pipe(rt(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=an(mo(()=>S===null?Qn:ve(S)),_?v(w,C,_):u(w,C)).pipe(Cn(j=>S=j),Io({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function y(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];Xp(C,Pn(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Uo(k).pipe(ce(T=>T.filter(Boolean)),ht(T=>YZt(T,A=>A._rev)),ce(T=>T.length===0?null:x(T,C)),Jn(UZt(C)))}return{observeFields:y};function x(w,C){return[...uZt,...C].reduce((_,S)=>{const E=b(w,S);return E!==void 0&&(_[S]=E),_},{})}function b(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function GZt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=qZt({observePaths:r,versionedClient:n}),{observePaths:i}=OZt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ce(p=>bt(p)&&typeof p._type=="string"?p._type:void 0),Jn())}const a=MZt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=CDe(n,i),{observePathsDocumentPair:u}=FZt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const KZt=e=>!!(e.type&&e.type.name==="document"),ZZt=e=>e.name.startsWith("sanity."),XZt=e=>e.getTypeNames().map(t=>e.get(t)).filter(yo).filter(t=>KZt(t)).filter(t=>!ZZt(t)),QZt=(e,t)=>{const{phrases:n,words:r}=rXt(e),[o,i]=tXt(n,t),[s,a]=nXt(r,t);return[o+s,[a,i].join(", ")]},JZt=e=>typeof e=="string"?e:JSON.stringify(e);function eXt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=S9(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=JZt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=QZt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function tXt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function nXt(e,t){const n=go(PT(USe(yv(t)))),r=ek(e,n),o=bke(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function rXt(e){const t=go(e.map(yv)),[n,r]=l9(t,o=>/^".*"$/.test(o));return{phrases:go(n).map(yv).map(oXt),words:go(r.map(yv))}}function oXt(e){return e.replace(/^"(.*)"$/,"$1")}const iXt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,sXt=/(^[.]+)|([.]+$)/;function aXt(e){return(e.match(iXt)||[]).map(t=>t.replace(sXt,""))}const lXt=4,cXt=1e3,uXt=UAt([Pn,bke,PT]);function kne(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:NWt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const _De=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function dXt(e,t){const n=uXt(t.map(o=>(o.paths||[]).map(i=>_De(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function fXt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>USe(i).length>1?(t.push(i),""):i),r=t.map(i=>iDt(yv(i))),o=go(PT(aXt(yv(n))));return[...r,...o]}function hXt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function SDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=kne(e.types,!1),u=fXt(e.query),d=c?kne(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...dXt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(_De(k)))," }");return"".concat(E).concat(j)}),m=hXt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",y=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(lXt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=b?"".concat(b,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:cXt)+C;return{query:w,params:{...pXt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const pXt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function mXt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function MB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=mXt(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=SDe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?ce(jWt):Cn(),ce(p=>eXt(d,p,f)),i!=null&&i.skipSortByScore?Cn():ce(p=>Im(p,m=>-m.score)))}}const gXt={available:!0,reason:"READABLE"},jne={available:!1,reason:"PERMISSION_DENIED"},Tne={available:!1,reason:"NOT_FOUND"};function EDe(e,t,n){const{publishedId:r,draftId:o}=VAe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(rt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?jne:Tne;return ve({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return Uo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ce(d=>{let[f,p]=d;return f||p})).pipe(rt(d=>{if(!d)return ve({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return ve({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...PB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ce(y=>y?{_id:o,...x5(y,f)}:void 0),ci(void 0)),v=e.observePaths(c,p).pipe(ce(y=>y?{_id:r,...x5(y,f)}:void 0),ci(void 0));return Uo([m,v]).pipe(ce(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(ce(y=>{const x=s.draft.available||s.published.available?gXt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?jne:Tne;return{type:d,id:r,availability:x,preview:{draft:bt(y.draft)?y.draft:void 0,published:bt(y.published)?y.published:void 0}}}))}))}))}function vXt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:fi(t.id))}function yXt(e,t){return t.length===0?ve([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function kDe(e,t,n,r){return MB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ce(i=>i.map(s=>s.hit)),ce(xA),ce(i=>i.slice(0,100)),dt(i=>yXt(e,vXt(i)).pipe(ce(s=>i.map(a=>{const c=fi(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function bXt(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const am=Symbol.for("sanity.patch");function es(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:am,type:"setIfMissing",path:t,value:e}}function cf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:am,type:"insert",path:n,position:t,items:e}}function yt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:am,type:"set",path:t,value:e}}function Je(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:am,type:"unset",path:e}}function xXt(e,t){return{...e,path:[t,...e.path]}}class ut{static from(t){return t instanceof ut?t:new ut(Array.isArray(t)?Pn(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut.from([...Pn(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut.from([...this.patches,...Pn(n)])}prefixAll(t){return ut.from(this.patches.map(n=>xXt(n,t)))}}var Ane=Object.freeze,wXt=Object.defineProperty,CXt=(e,t)=>Ane(wXt(e,"raw",{value:Ane(t||e.slice())})),Dne;const _Xt={warning:"caution",error:"critical"},SXt=O(M)(Dne||(Dne=CXt([`
  border-top: 1px solid var(--card-border-color);
`])));function qc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(X,{radius:2,tone:_Xt[n],...i,"data-ui":"Alert",children:[l.jsxs(U,{padding:4,children:[l.jsx(M,{children:l.jsxs(L,{size:1,children:[n==="warning"&&l.jsx(Lr,{}),n==="error"&&l.jsx(da,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx(SXt,{children:r})]})}function FB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Ni(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qu;const r=FB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function jDe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const EXt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kXt=/_key\s*==\s*['"](.*)['"]/;function _n(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if($r(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Va(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(El(n))return Va(Array.isArray(e)?e[n]:void 0,r);if($r(n))return Va(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return Va(bt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function jXt(e,t){return typeof t!="number"&&!$r(t)?-1:typeof t=="number"?t:e.findIndex(n=>Dl(n)&&n._key===t._key)}function TXt(e){const t=e.match(EXt);if(!t)throw new Error("Invalid path string");return t.map(AXt)}function AXt(e){return El(e)?DXt(e):$r(e)?IXt(e):Mp(e)?PXt(e):e}function DXt(e){return Number(e.replace(/[^\d]/g,""))}function IXt(e){const t=e.match(kXt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function PXt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function TDe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return $r(n)&&$r(o)?n._key===o._key:El(n)?Number(n)===Number(o):Mp(n)&&Mp(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function ADe(e){return Dl(e)?e._key:void 0}function m4(e){const t=ADe(e);return t?{_key:t}:void 0}function OXt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function DDe(e,t){return e.get((t==null?void 0:t.author)||null)}function dC(e,t){const n=Array.isArray(t)?t:TXt(t);return RXt(e,n)}function RXt(e,t){const n=g4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function g4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Mp(r))throw new Error("Index tuples are not supported in diff paths");if(El(r)||$r(r)){const s=El(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(_n(n)," (not an array)");return}const a=e.items.find(El(r)?c=>c.toIndex===r:c=>$Xt(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(_n(n)," (item missing)");return}return g4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(_n(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(_n(n)," (field did not exist)");return}return g4(i,o,n.concat(r))}function $Xt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function kA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){MXt(e,t,n);return}if(e.type==="object"){FXt(e,t,n);return}e.type==="string"&&LXt(e,t,n)}}function MXt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:BXt(r);kA(r.diff,t,n.concat(s))})}function FXt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];kA(o,t,n.concat(r))})}function LXt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{kA(r,t,n)})}function BXt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function IDe(e){const t=TB();return DDe(t,e)}function h0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=TB(),r=h.useMemo(()=>dC(e,t),[e,t]);return h.useMemo(()=>DDe(n,r),[r,n])}function ts(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=dC(t,n);return l.jsx(Ine,{...r,annotations:o?[o]:[]})}return l.jsx(Ine,{...e})}function Ine(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(ee,{padding:3,space:2,children:[l.jsx(Ht,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(ee,{space:2,children:t.map((s,a)=>l.jsx(NXt,{annotation:s},a))})]});return l.jsx(td,{zOffset:"paneFooter",children:l.jsx(it,{content:i,portal:!0,...o,children:n})})}function NXt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=m1(n),i=IDe(t),s=ni(r,{minimal:!0});return l.jsxs(Kt,{space:2,children:[l.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Ga,{user:n}),l.jsx(Kt,{paddingLeft:2,children:l.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),l.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var Pne=Object.freeze,zXt=Object.defineProperty,VXt=(e,t)=>Pne(zXt(e,"raw",{value:Pne(t||e.slice())})),One;const HXt=O(X)(One||(One=VXt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),UXt=[],Di=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=UXt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||dC(a,u),[r,a,u]),v=IDe(m),g=l.jsx(HXt,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(ts,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var Rne=Object.freeze,WXt=Object.defineProperty,PDe=(e,t)=>Rne(WXt(e,"raw",{value:Rne(t||e.slice())})),$ne,Mne;const LB=O.div($ne||($ne=PDe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),w5=O(L)(Mne||(Mne=PDe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function YXt(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(qXt,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(GXt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(KXt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function qXt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?dC(n.diff,[]):void 0)||t;return c?l.jsx(Di,{annotation:c,tooltip:{description:i},as:LB,children:l.jsx(w5,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(L,{size:1,weight:"semibold",children:s})}function GXt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(Di,{annotation:t||null,as:LB,tooltip:{description:o},children:l.jsxs(w5,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function KXt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(w5,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(Di,{annotation:t,as:LB,tooltip:{description:a},children:l.jsxs(w5,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function ODe(e){const{change:t,titlePath:n}=e;return l.jsx(U6,{maxLength:4,separator:l.jsx(L,{muted:!0,size:1,children:l.jsx(Lc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(YXt,{change:t,segment:r},o):null)})}function ZXt(e){return bt(e)&&typeof(e==null?void 0:e.then)=="function"}function XXt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return ZXt(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const v4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=ti(i),a=Go();return XXt(t,n,{currentUser:a,document:r,parent:o,value:s})},nd=h.createContext({path:[]});function y4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(QXt(t)&&JXt(e))for(const o of t.fields){const i=y4(e[o.name],o.type);if(i)return i}}}function QXt(e){return e.jsonType==="object"}function JXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function eQt(e){return _F(e)?e._type:nQt(e)}function tQt(e,t){return e.action==="added"?{toType:ly(t,e.toValue)}:e.action==="changed"?{fromType:ly(t,e.fromValue),toType:ly(t,e.toValue)}:e.action==="removed"?{fromType:ly(t,e.fromValue)}:{toType:ly(t,e.toValue)}}function ly(e,t){const n=eQt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function nQt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const o1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],jA="",i1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],rQt="↲",C5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],oQt=" ",RDe="⁠";function iQt(e){return e.of.some(MDe)}const sQt=i1.map(e=>e[0]).concat(o1.map(e=>e[0])),aQt=i1.map(e=>e[1]).concat(o1.map(e=>e[1])),$De=sQt.concat(aQt).concat(C5).concat(jA).concat(RDe),Fne=new RegExp("".concat($De.join("|")),"g"),lQt=new RegExp("".concat($De.join("|"),`|
`),"g");function MDe(e){return e.jsonType==="object"&&e.name==="block"}function cQt(e){return Ou(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Lne(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function b4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function BB(e){return e.decorators?Z0(e.decorators,["value"],["asc"]):[]}function FDe(e,t){return BB(t).some(n=>n.value===e)}function Bne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Js(i)?(s=i.text)==null?void 0:s.replace(Fne,""):"";if(Js(i)){const c=NB(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Fne,"")).join(RDe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(jA).concat(a)}).join(""):""}function uQt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=b4(t.fields,{_key:"bogus",_type:"span"});a&&BB(a).forEach((g,y)=>{i[g.value]=i1[y]}),NDe(r.origin).forEach((g,y)=>{o[g._key]=o1[y]}),LDe(r.origin).forEach((g,y)=>{s[g._key]=C5[y]});const d=Bne(r.origin,r.fromValue,i,o,s),f=Bne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:dQt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function dQt(e,t){const n=[],r=t7(Xw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case Et:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case In:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Xn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return Pn(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(lQt)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function LDe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),Z0(t,["_key"],["asc"])}function NB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function fQt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function BDe(e){return e&&Ut(Object.keys(e),["_key","_type"])||!1}function hQt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function NDe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),Z0(t,["_key"],["asc"])}const pQt=[];function mQt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function gQt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const vQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?mQt:gQt,c=h0(t,[]),u=o!=null;return l.jsxs(U,{align:"center",children:[l.jsx(ts,{diff:t,children:l.jsxs(U,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(qB,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i})})]})};var Nne=Object.freeze,yQt=Object.defineProperty,bQt=(e,t)=>Nne(yQt(e,"raw",{value:Nne(t||e.slice())})),zne;const xQt="YYYY-MM-DD",wQt="HH:mm",CQt=O.div(zne||(zne=bQt([`
  display: inline-block;
  word-wrap: break-word;
`]))),_Qt=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:CQt,paddingX:2,paddingY:1,children:SQt(n,r)})};function SQt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||xQt,i=(n==null?void 0:n.timeFormat)||wQt;return oA(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const Vne=e=>{let{diff:t,schemaType:n}=e;return l.jsx(fC,{align:"center",diff:t,layout:"grid",previewComponent:_Qt,schemaType:n})},zDe=h.createContext(null);function TA(){const e=h.useContext(zDe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Hne(e){const[t,n]=h.useState(void 0),r=mr(cn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function EQt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Une=Object.freeze,kQt=Object.defineProperty,jQt=(e,t)=>Une(kQt(e,"raw",{value:Une(t||e.slice())})),Wne;const TQt=O.div(Wne||(Wne=jQt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),AQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=Hne(s==null?void 0:s._ref),u=Hne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=EQt(m,v),y=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,b=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(Di,{as:"del",diff:t,path:"asset._ref",style:b,children:l.jsx(S4,{title:c.originalFilename||"Untitled",icon:Rf,children:l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&l.jsx(Di,{as:"ins",diff:t,path:"asset._ref",style:b,children:l.jsx(S4,{title:u.originalFilename||"Untitled",icon:Rf,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(X,{radius:2,padding:1,as:TQt,marginLeft:2,children:l.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(ts,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(ts,{diff:t,path:"asset._ref",children:l.jsx(GB,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(ts,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(hC,{diff:t,schemaType:n,fields:p})})]})};function Yne(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function DQt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function IQt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function PQt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=h0(n,"crop"),u=h0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(qne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(ts,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(OQt,{crop:t,fill:Yne(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(ts,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(qne,{hotspot:o,fill:Yne(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function OQt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function qne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var Gne=Object.freeze,RQt=Object.defineProperty,zB=(e,t)=>Gne(RQt(e,"raw",{value:Gne(t||e.slice())})),Kne,Zne,Xne;const $Qt=["originalFilename"],Qne=()=>l.jsx(X,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(U,{align:"center",justify:"center",height:"fill",children:l.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),MQt=O.div(Kne||(Kne=zB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),fe.gray[100].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex),FQt=O.img(Zne||(Zne=zB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),LQt=O.div(Xne||(Xne=zB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function DO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=mr(cn),[p,m]=ne.useState(),{value:v}=Qxn(i,$Qt),g=PTt(i),y=h.useMemo(()=>IT(f),[f]),x=v===null,b=v&&v.originalFilename||"Untitled",w=y.image(i).height(190).dpr(IQt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(U,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(U,{as:MQt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(FQt,{src:w.toString()||"",alt:b,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(LQt,{children:l.jsx(PQt,{crop:u&&!yTt(u)?u:void 0,diff:a,hash:DQt("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!bTt(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(S4,{title:b,icon:Pl,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[g.width," × ",g.height]})})]})}const BQt=["crop","hotspot"],NQt=["asset",...BQt],IO={flex:1},zQt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=dC(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!NQt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),y=p.includes("crop"),x=p.includes("hotspot"),b=y||x,w=g||b,C=b&&!g,_=i&&u?l.jsx(Di,{annotation:f,style:IO,children:l.jsx(DO,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&y?i.crop:void 0})}):l.jsx(Qne,{}),S=s&&d?l.jsx(Di,{annotation:f,style:IO,children:l.jsx(DO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):l.jsx(Qne,{});if(!_&&!S)return l.jsx(X,{padding:4,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(Di,{annotation:f,style:IO,children:l.jsx(DO,{id:d,is:"to",diff:t})}):null;const E=l.jsx(GB,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(ts,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(hC,{diff:t,schemaType:n,fields:m})})]})};var Jne=Object.freeze,VQt=Object.defineProperty,HQt=(e,t)=>Jne(VQt(e,"raw",{value:Jne(t||e.slice())})),ere;const UQt=O.div(ere||(ere=HQt([`
  display: inline-block;
  word-break: break-all;
`]))),WQt=e=>{const{value:t}=e;return l.jsx(M,{as:UQt,paddingX:2,paddingY:1,children:t})},YQt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(fC,{diff:t,schemaType:n,previewComponent:WQt,layout:"inline"})};var tre=Object.freeze,qQt=Object.defineProperty,GQt=(e,t)=>tre(qQt(e,"raw",{value:tre(t||e.slice())})),nre;const KQt=O.blockquote(nre||(nre=GQt([`
  margin: 0;
`])));function ZQt(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(KQt,{children:t})})}var rre=Object.freeze,XQt=Object.defineProperty,QQt=(e,t)=>rre(XQt(e,"raw",{value:rre(t||e.slice())})),ore;const JQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},eJt=O(Yo)(ore||(ore=QQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function tJt(e){let{style:t,children:n}=e;return l.jsx(eJt,{size:JQt[t],children:n})}var ire=Object.freeze,nJt=Object.defineProperty,rJt=(e,t)=>ire(nJt(e,"raw",{value:ire(t||e.slice())})),sre;const oJt=O.div(sre||(sre=rJt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function iJt(e){let{children:t}=e;return l.jsx(oJt,{children:t})}const sJt=[];function aJt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=h0(o,sJt),{path:c}=h.useContext(nd),{onSetFocus:u}=h.useContext(Nm),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(ZQt,{children:f}):i.style&&cQt(i)?f=l.jsx(tJt,{style:i.style,children:f}):f=l.jsx(iJt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(X,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(ee,{space:2,children:[l.jsx(ts,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var are=Object.freeze,lJt=Object.defineProperty,AA=(e,t)=>are(lJt(e,"raw",{value:are(t||e.slice())})),lre,cre,ure,dre;const s1=O(M)(lre||(lre=AA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),VDe=O(L)(cre||(cre=AA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),VB=O(M)(ure||(ure=AA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),s1),HDe=O(M)(dre||(dre=AA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var fre=Object.freeze,cJt=Object.defineProperty,uJt=(e,t)=>fre(cJt(e,"raw",{value:fre(t||e.slice())})),hre;const x4=O.div(hre||(hre=uJt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),VB);function dJt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(fJt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(x4,{children:t}):l.jsx(x4,{...s,children:"Unknown schema type"})}function fJt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Nm),{path:c}=h.useContext(nd),[u,d]=h.useState(null),f=h0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),y=r&&BDe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),b=h.useMemo(()=>c.slice(0,c.findIndex(I=>$r(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>b.concat(i),[i,b]),C=h.useMemo(()=>b.concat(x),[x,b]),_="field-".concat(zr(C)),S=fB(),E=h.useMemo(()=>S.filter(I=>{let[P]=I;return P.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);dr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(nd.Provider,{value:{path:C},children:l.jsx(HDe,{padding:3,children:l.jsxs("div",{children:[y&&l.jsxs(Ht,{size:1,muted:!0,children:["Empty ",o.title]}),!y&&l.jsx(hC,{diff:t,schemaType:o})]})})});return l.jsx(x4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(tn,{content:D,open:v,ref:d,portal:!0,children:l.jsx(VB,{paddingLeft:1,children:l.jsx(ts,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(s1,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(VDe,{size:0,children:l.jsx(el,{})})})]})})})})})}var pre=Object.freeze,hJt=Object.defineProperty,pJt=(e,t)=>pre(hJt(e,"raw",{value:pre(t||e.slice())})),mre;const mJt=O.span(mre||(mre=pJt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function gJt(e){let{mark:t,children:n}=e;return l.jsx(mJt,{decoration:t,children:n})}var gre=Object.freeze,vJt=Object.defineProperty,yJt=(e,t)=>gre(vJt(e,"raw",{value:gre(t||e.slice())})),vre;const w4=O(X)(vre||(vre=yJt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),s1);function bJt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(xJt,{...o,diff:t,object:n,schemaType:r}):l.jsx(w4,{children:l.jsx(wC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(w4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function xJt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(nd),{onSetFocus:a}=h.useContext(Nm),c=h0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&BDe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>$r(k)&&k._key===n._key)).concat(r),y="field-".concat(zr(g)),b=fB().filter(k=>{let[T]=k;return T.startsWith(y)}).length>0,w=s.slice(0,-1).concat(r).concat([Gve]);h.useEffect(()=>{b&&(f(!0),a(w))},[w,b,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(nd.Provider,{value:{path:g},children:l.jsx(wJt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return l.jsx(w4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(tn,{content:S,open:d,portal:!0,children:l.jsx(VB,{children:l.jsx(ts,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(s1,{children:[l.jsx(wC,{schemaType:o,value:n,layout:"inline"}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(VDe,{size:0,children:l.jsx(el,{})})})]})})})})})}function wJt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return dr(a,[i]),l.jsxs(HDe,{ref:s,padding:3,children:[n&&l.jsxs(Ht,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(hC,{diff:t,schemaType:o})]})}function CJt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(_Jt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(s1,{children:r})}function _Jt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ne.useContext(Nm),{path:c}=ne.useContext(nd),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(b=>$r(b)&&$r(u)&&b._key===u._key)).concat(o),m=h.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(b=>b.text===i.text)||t||n,y=g&&g.action!=="unchanged"&&g.annotation||null,x=y&&i.action!=="unchanged"?l.jsx(Di,{annotation:y,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(hn(i.action)," text")},children:r}):null;return l.jsx(s1,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const HB=i1.map(e=>e[0]),UB=i1.map(e=>e[1]),VS=o1.map(e=>e[0]),C4=o1.map(e=>e[1]),SJt=HB.concat(VS),UDe=UB.concat(C4),EJt=HB.concat(UB),kJt=new RegExp("".concat(EJt.concat(UDe).join("|")),"g");function jJt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?LDe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=b4(n.fields,s);let c=[];if(a){c=BB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(DJt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const b=Lne(t.origin,r.children[0])||t.origin;if(b&&b.action!=="unchanged")return l.jsx(Di,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(hn(b.action)," empty text")},children:l.jsx("span",{children:rQt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let y;const x=NDe(t.origin);return d.forEach(b=>{var w,C,_;v++;const S=C5.includes(b.text),E=SJt.includes(b.text),j=UDe.includes(b.text),k=b.text===jA,T=b.action==="removed";if(k)T||m++;else if(E||j){if(E&&VS.includes(b.text)){const A=x[VS.indexOf(b.text)];A&&g.push({mark:A._key,symbols:[b.text,C4[VS.indexOf(b.text)]],object:A})}j&&C4.includes(b.text)&&(y=g.pop())}else if(S){const A=C5.findIndex(P=>P===b.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const P=b4(n.fields,I),$=Lne(t.origin,I);f.push(l.jsx(bJt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:P},"inline-object-".concat(I._key)))}}else if(b.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(z=>z.text&&z.text.match(hQt(b.text)))},D=r.children[m]||A(),I=D&&NB(t.origin,D);if(!D)throw new Error("Could not find child");const P=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(CJt,{diff:P,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:b,children:TJt({diff:t,child:D,decoratorTypes:c,seg:b,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),y){const R="annotation-".concat(y.object._key),z=f[f.length-1];if(z&&z.key!==R){const B=fQt(t.origin,y.mark),H=y&&a.annotations&&a.annotations.find(W=>y&&y.object&&W.name===y.object._type);f.push(l.jsx(dJt,{object:y.object,diff:B,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:l.jsx(l.Fragment,{children:p[y.mark]})},R))}y=void 0}g.length===0&&f.push($)}}),ne.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(aJt,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function TJt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,oQt)},"text-".concat(i));const c=n&&NB(t.origin,n),u=Js(n)?n.marks||[]:[];return c&&(a=AJt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{FDe(d,s)&&(a=l.jsx(gJt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function AJt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(jA).filter(S=>!!S).join(""),b=x.substring(0,x.indexOf(i.text)+i.text.length),w=b.substring(0,b.indexOf(i.text)),C=[];return[...w.matchAll(kJt)].forEach(S=>{var E;const j=S[0],k=i1.concat(o1).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?HB.indexOf(j):UB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=_8t(t,go(C)),v&&g.length>0&&g.some(S=>FDe(S,c))&&(d=l.jsx(Di,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function DJt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const IJt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>uQt(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(jJt,{diff:r,schemaType:n})})};var yre=Object.freeze,PJt=Object.defineProperty,OJt=(e,t)=>yre(PJt(e,"raw",{value:yre(t||e.slice())})),bre;const RJt=O.div(bre||(bre=OJt([`
  word-wrap: break-word;
`]))),$Jt=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:RJt,padding:2,children:l.jsx(wC,{schemaType:n,value:t,layout:"default"})})},MJt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(fC,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:$Jt,schemaType:n})};var xre=Object.freeze,FJt=Object.defineProperty,LJt=(e,t)=>xre(FJt(e,"raw",{value:xre(t||e.slice())})),wre;const BJt=O.div(wre||(wre=LJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),NJt=e=>{const{value:t}=e;return l.jsx(M,{as:BJt,paddingX:2,paddingY:1,children:t})};var Cre=Object.freeze,zJt=Object.defineProperty,VJt=(e,t)=>Cre(zJt(e,"raw",{value:Cre(t||e.slice())})),_re;const HJt=O.div(_re||(_re=VJt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),UJt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(fC,{diff:t,previewComponent:NJt,schemaType:n}):l.jsx(HJt,{children:l.jsx(Men,{diff:t})})},Sre={block:IJt,boolean:{component:vQt,showHeader:!1},date:Vne,datetime:Vne,file:AQt,image:zQt,number:YQt,reference:MJt,string:UJt};function WDe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||WJt(r,t)||Sre[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return Sre[i]}function WJt(e,t){const n=pQt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function YJt(e){const t=Ere(e.fromValue),n=Ere(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function YDe(e){return e.type==="field"}function Ere(e){return e!==null&&typeof e<"u"&&e!==""}function WB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!WDe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return qDe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return KJt(e,t,n,r)}return GDe(e,t,n,r,o)}function qDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...qJt(c.field,t,n,r,s)):i.push(...GJt(c,t,n,r,s));return i.length<2?i:[{type:"group",key:_n(n)||"root",path:n,titlePath:r,changes:YB(i,r.length),schemaType:e}]}function qJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return WB(e.type,a,c,u,s)}function GJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const y of i){const x=t.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),w=v.concat([y.type.title||y.name]);g.push(...WB({readOnly:m,hidden:p,...y.type},x,b,w,f))}return g.length<2?g:[{type:"group",key:_n(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:YB(g,v.length),readOnly:m,hidden:p}]}function KJt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=iQt(e),s=[],a=o.reduce((c,u)=>{const d=tQt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",_n(n)),c;const p=m4(u.diff.fromValue)||m4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&TDe(m,b.path)&&(b.itemDiff=u),b),x=WB(f,u.diff,m,g,v).map(y);return i&&x.filter(YDe).forEach((b,w,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...GDe(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:_n(n)||"root",path:n,titlePath:r,changes:YB(a,r.length),schemaType:e}]:a}function GDe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&kre(a)&&kre(c))return[];let d;typeof a<"u"&&(d=y4(a,e)),!d&&typeof c<"u"&&(d=y4(c,e));let f=!0,p;const m=WDe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:_n(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function YB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function kre(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const jre=e=>e.type==="field"&&e.diff.action==="added",KDe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...KDe(n))}),t},ZDe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},ZJt=(e,t)=>{const n=e[t],r=ADe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},XJt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function DA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=KDe(e),i=o.filter(jre);o.filter(s=>!jre(s)).forEach(s=>DA(s,t,n)),r.push(...Tre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...Tre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...JJt(e.itemDiff,e.parentDiff,e.path)):r.push(...een(e.diff,t,e.path));n.patch.execute(r)}function QJt(e,t,n){const r=e.toValue;return XDe(r,t,n)}function Tre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>ZDe(t[r],i))||n.push(QJt(e,t[r],t));return[{unset:[...new Set(n.map(_n))]}]}function XDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=Va(e,o),s=[o,...n.filter(a=>!ZDe(a,o))];return QDe(i,o,n)?XDe(e,o,s,r):t}function JJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=ren(t,e);let a;if(i===0)a={before:_n([...r,0])};else{const c=i-1,d=m4(o[c])||c;a={after:_n([...r,d])}}return[{unset:[_n(n)]},{insert:{...a,items:[s]}}]}function een(e,t,n){const r=uA(e.toValue,e.fromValue,XJt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:_n(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(_n(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...ten(f.path,t,s)),d[_n(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function ten(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=_n(a);if(n.has(c))continue;const u=e[s],d=$r(u)||El(u),f=Va(r,a),p=Are(f);if(d&&Array.isArray(f)&&!Va(o,e.slice(0,s+1))){const m=jXt(f,u),v=f[m-1],g=Va(r,a.concat(u)),y=Dl(v)?{_key:v._key}:m-1,x=_n(a.concat(m<1?0:y));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[Are(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function nen(e,t,n){if(!bt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,ZJt(e,r)];if(!QDe(e[r],o,n))return!1}return!0}function QDe(e,t,n){const r=n==null?void 0:n.some(i=>_n(i)===_n(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||OXt(e)||nen(e,t,n)}function Are(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Dl(e)&&(t._key=e._key),_F(e)&&(t._type=e._type),t}function ren(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const Gc=!1;class oen extends ne.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(X,{padding:3,radius:2,tone:"critical",children:l.jsxs(U,{children:[l.jsx(L,{size:1,children:l.jsx(da,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),Gc]})]})}):this.props.children}}const ien={down:j0e,right:T0e};function qB(e){const{direction:t="right",...n}=e,r=ien[t];return l.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var Dre=Object.freeze,sen=Object.defineProperty,JDe=(e,t)=>Dre(sen(e,"raw",{value:Dre(t||e.slice())})),Ire,Pre;const PO=O.pre(Ire||(Ire=JDe([`
  overflow-x: auto;
  position: relative;
`]))),aen=O.div(Pre||(Pre=JDe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function len(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(cen,{change:r}):t})}const OO=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:aen,children:l.jsx(Ht,{size:1,muted:!0,children:t})})};function cen(e){let{change:t}=e;var n,r,o;return l.jsxs(ee,{space:3,children:[l.jsxs(X,{padding:3,tone:"transparent",as:PO,radius:1,children:[l.jsx(OO,{title:"meta"}),l.jsx(lr,{language:"json",size:1,children:uen({path:_n(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(X,{as:PO,tone:"critical",padding:3,radius:1,children:[l.jsx(OO,{title:"from"}),l.jsx(lr,{language:"json",size:1,children:Ore(t.diff.fromValue)})]}),l.jsx(X,{children:l.jsx(qB,{direction:"down",align:"center"})}),l.jsxs(X,{as:PO,tone:"positive",padding:3,radius:1,children:[l.jsx(OO,{title:"to"}),l.jsx(lr,{language:"json",size:1,children:Ore(t.diff.toValue)})]})]})}function Ore(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function uen(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const den={flexShrink:0},fen={alignItems:"stretch"},Rre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},GB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=Os(),d=o==="inline"?U:en,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ge(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?den:fen;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(U,{align:Rre[r],style:p,children:i}),l.jsx(U,{align:"center",justify:"center",padding:2,children:l.jsx(qB,{})})]}),l.jsx(U,{align:Rre[r],style:p,children:s})]})}),RO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function fC(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=YJt(r);if(c==="unchanged")return l.jsx(Di,{className:n,style:RO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(Di,{as:"del",className:n,diff:r,path:i,style:RO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(Di,{as:"ins",className:n,diff:r,path:i,style:RO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(ts,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(ts,{description:u,diff:r,path:i,children:f}):l.jsx(ts,{description:u,diff:r,path:i,children:l.jsx(GB,{align:t,from:d,layout:o,to:f})})}const hen=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(wC,{schemaType:n,value:t,layout:"default"})})},pen=e=>{const{diff:t,schemaType:n}=e;return l.jsx(fC,{diff:t,schemaType:n,previewComponent:hen,layout:"grid"})};var $re=Object.freeze,men=Object.defineProperty,gen=(e,t)=>$re(men(e,"raw",{value:$re(t||e.slice())})),Mre;const ven=O(oe)(Mre||(Mre=gen([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),eIe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(ven,{icon:KF,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function yen(e){let{error:t}=e;return l.jsx(X,{tone:"critical",padding:3,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(L,{children:l.jsx(da,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Fre=Object.freeze,ben=Object.defineProperty,KB=(e,t)=>Fre(ben(e,"raw",{value:Fre(t||e.slice())})),Lre,Bre,Nre;const xen=O.div(Lre||(Lre=KB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),wen=O.div(Bre||(Bre=KB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),Cen=O(tn)(Nre||(Nre=KB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function _en(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||pen,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=ne.Fragment}=TA(),f=Zl(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[y,x]=h.useState(null),[b,w]=xh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{DA(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=ne.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);dr(k,[y]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(ee,{space:1,as:xen,children:[n.showHeader&&l.jsx(ODe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs(len,{change:n,as:wen,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(yen,{error:n.error}):l.jsx(oen,{children:l.jsx(nd.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(b==null?void 0:b.granted)&&l.jsx(Cen,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(en,{columns:2,gap:2,marginTop:2,children:[l.jsx(oe,{mode:"ghost",onClick:S,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(oe,{tone:"critical",onClick:C,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx(eIe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,b,v,A])}function Sen(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var zre=Object.freeze,Een=Object.defineProperty,ZB=(e,t)=>zre(Een(e,"raw",{value:zre(t||e.slice())})),Vre,Hre,Ure;const ken=O.div(Vre||(Vre=ZB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),jen=O.div(Hre||(Hre=ZB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),Ten=O(tn)(Ure||(Ure=ZB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function Aen(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(nd),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=TA(),v=s.every(I=>YDe(I)&&MDe(I.schemaType)),g=TDe(c,a),[y,x]=Sen(),b=Zl(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=xh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>DA(t,p,b),[t,p,b]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);dr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(ee,{space:1,as:jen,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(ee,{as:ken,space:5,children:s.map(I=>l.jsx(tIe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&l.jsx(Ten,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(en,{columns:2,gap:2,marginTop:2,children:[l.jsx(oe,{mode:"ghost",onClick:A,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(oe,{tone:"critical",onClick:k,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx(eIe,{onClick:T,ref:y,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,y]);return r?null:l.jsxs(ee,{space:1,...o,children:[l.jsx(ODe,{titlePath:i}),g||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function tIe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=TA(),a=v4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=v4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(_en,{change:r,readOnly:c}):r.type==="group"?l.jsx(Aen,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(L,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function _4(){return l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Wre=Object.freeze,Den=Object.defineProperty,nIe=(e,t)=>Wre(Den(e,"raw",{value:Wre(t||e.slice())})),Yre,qre;const Ien=O.div(Yre||(Yre=nIe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),Pen=O(tn)(qre||(qre=nIe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function hC(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=TA(),a=Zl(o,r.name),{path:c}=h.useContext(nd),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=v4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,y]=xh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>qDe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),b=h.useMemo(()=>n&&n.length===0?[]:Oen(x),[x,n]),w=x[0],C=h.useCallback(()=>{DA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(dr(A,[k]),b.length===0)return u?l.jsx(_4,{}):null;const D=u&&b.length>1;return l.jsx(X,{children:l.jsxs(ee,{space:5,children:[l.jsx(ee,{as:Ien,space:5,children:b.map(I=>l.jsx("div",{children:l.jsx(tIe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!y&&(g==null?void 0:g.granted)&&l.jsx(Pen,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",b.length," changes?",l.jsxs(en,{columns:2,gap:2,marginTop:2,children:[l.jsx(oe,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(oe,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(ee,{children:l.jsx(oe,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:KF,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function Oen(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Gre=Object.freeze,Ren=Object.defineProperty,rIe=(e,t)=>Gre(Ren(e,"raw",{value:Gre(t||e.slice())})),Kre,Zre;const Xre=O.span(Kre||(Kre=rIe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),Qre=O(L)(Zre||(Zre=rIe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function $en(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(Di,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Xre,children:l.jsx(Qre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(Di,{annotation:t.annotation,as:Xre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(Qre,{as:"del",children:n})}):l.jsx(X,{as:"span",radius:2,style:{display:"inline"},children:n})}function Men(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx($en,{segment:n},r))})}var Jre=Object.freeze,Fen=Object.defineProperty,Len=(e,t)=>Jre(Fen(e,"raw",{value:Jre(t||e.slice())})),eoe;const $O=O(L)(eoe||(eoe=Len([`
  color: inherit;
`])));function S4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(U,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx($O,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(ee,{space:2,paddingLeft:2,children:[l.jsx($O,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx($O,{size:0,textOverflow:"ellipsis",children:o})]})]})}var toe=Object.freeze,Ben=Object.defineProperty,Nen=(e,t)=>toe(Ben(e,"raw",{value:toe(t||e.slice())})),noe;O.div(noe||(noe=Nen([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const oIe=h.createContext(null);function zen(e){const t=h.useMemo(()=>({value:e.value}),[e.value]);return l.jsx(oIe.Provider,{value:t,children:e.children})}function XB(e){const t=Pc(e),n=h.useContext(oIe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return Va(n==null?void 0:n.value,t)}const iIe=h.createContext(null);function Ven(e){const t=h.useRef(e.value);t.current=e.value;const n=h.useCallback(r=>Va(t.current,r),[t]);return l.jsx(iIe.Provider,{value:n,children:e.children})}function Hen(){const e=h.useContext(iIe);if(!e)throw new Error("useFormValue must be used within a FormValueProvider");return e}const sIe=h.createContext(null),Uen={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function QB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=ne.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(en,{children:l.jsx(oe,{icon:Do,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(en,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(oe,{icon:Do,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(nn,{button:l.jsx(oe,{icon:Do,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Nt,{children:t.of.map((u,d)=>{var f,p;const m=Ru(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Ne,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:Uen}),r]})}function Cd(){const e=h.useContext(sIe);if(!e)throw new Error("FormBuilder: missing context value");return e}var roe=Object.freeze,Wen=Object.defineProperty,Yen=(e,t)=>roe(Wen(e,"raw",{value:roe(t||e.slice())})),ooe;const qen=e=>e==="error"?l.jsx(da,{}):e==="warning"?l.jsx(Lr,{}):l.jsx(vm,{}),Gen=O(L)(e=>{let{theme:t}=e;return de(ooe||(ooe=Yen([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function aIe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=Cd().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(ee,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(Gen,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:qen(c)})}),l.jsx(M,{children:l.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function Ken(){return l.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const JB=ne.createContext(null),pC=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(JB.Provider,{value:f,children:t.children})});function ol(){const e=h.useContext(JB);if(!e)throw new Error("Form context not provided");return e}function eN(e,t){return E4(e,t,new WeakSet)}function E4(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=E4(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return n.delete(t),i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=E4(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return n.delete(t),s?e:a}return t}const lIe=h.createContext([]);function Zen(e){return l.jsx(lIe.Provider,{value:e.presence,children:e.children})}function Xen(){const e=h.useContext(lIe);if(!e)throw new Error("Form context not provided");return e}function a1(e,t){const n=Xen(),r=h.useRef(n),o=eN(r.current,n.filter(i=>Si(e,i.path)&&(t||!wn(e,i.path))));return r.current=o,o}const cIe=h.createContext([]);function Qen(e){return l.jsx(cIe.Provider,{value:e.validation,children:e.children})}function Jen(){const e=h.useContext(cIe);if(!e)throw new Error("Form context not provided");return e}function tN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Jen();return h.useMemo(()=>n.filter(r=>Si(e,r.path)&&(t||!wn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function etn(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(L,{size:1,children:t.disabled.reason});return l.jsx(uC,{content:r,placement:"left",children:l.jsx(Ne,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?ra:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const ttn={placement:"right",fallbackPlacements:["top","bottom"]};function ntn(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Ht,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(k4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(Y6,{fontSize:1,icon:t.icon,padding:3,popover:ttn,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(k4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function k4(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(Or,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(Or,{}),l.jsx(ntn,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(Or,{}),l.jsx(etn,{action:t})]})}const uIe={placement:"top"};function ioe(e){return"renderAsButton"in e&&e.renderAsButton}const rtn=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(ioe),[n]),u=h.useMemo(()=>n.filter(p=>!ioe(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Po,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(otn,{node:p,onOpen:s,onClose:a,open:o},m))})}),otn=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(X,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(gh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:uIe}):l.jsx(stn,{node:n,onOpen:r,onClose:o,open:i})}),itn={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function stn(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(nn,{button:l.jsx(gh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:uIe}),id:h.useId(),menu:l.jsx(Nt,{children:t.children.map((i,s)=>{var a;return l.jsx(k4,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:itn})}function dIe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:dIe(t.children)}:t)}const mC=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(y=>{const x=[...y];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(dIe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(atn,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),atn=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=ti(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),fIe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function soe(){return h.useContext(fIe)}const hIe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function gC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=soe(),a=soe().hoveredStack[0],c=sm||(a?_n(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(hIe.Provider,{value:f,children:n})}function nN(){return h.useContext(hIe)}function ltn(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=_n(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=_n(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(fIe.Provider,{value:s,children:t})}const pIe=h.createContext(null);function ctn(e){const t=h.useMemo(()=>({id:e.id}),[e.id]);return l.jsx(pIe.Provider,{value:t,children:e.children})}function utn(){const e=h.useContext(pIe);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function IA(){return $n(utn())}const dtn={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function ftn(e){const{__internal_fieldActions:t=fn,__internal_patchChannel:n=dtn,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_,presence:S,readOnly:E,renderAnnotation:j,renderBlock:k,renderField:T,renderInlineBlock:A,renderInput:D,renderItem:I,renderPreview:P,schemaType:$,unstable:R,validation:z}=e,B=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:QB,CustomMarkers:(R==null?void 0:R.CustomMarkers)||Ken,Markers:(R==null?void 0:R.Markers)||aIe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},onChange:g}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,g,n,R==null?void 0:R.CustomMarkers,R==null?void 0:R.Markers]),H=h.useMemo(()=>({__internal:B,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,readOnly:E,renderAnnotation:j,renderBlock:k,renderField:T,renderInlineBlock:A,renderInput:D,renderItem:I,renderPreview:P,schemaType:$}),[B,r,o,s,a,d,f,p,m,E,j,k,T,A,D,I,P,$]);return l.jsx(sIe.Provider,{value:H,children:l.jsx(pC,{onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetPathCollapsed:_,onSetFieldSetCollapsed:C,children:l.jsx(ctn,{id:m,children:l.jsx(Zen,{presence:S,children:l.jsx(Qen,{validation:z,children:l.jsx(ltn,{children:i})})})})})})}function htn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S}=e,{file:E,image:j}=Ln().form,k=vOe(),T=yOe(),A=PN(),D=bOe(),I=xOe(),P=wOe(),$=COe(),R=h.useCallback(te=>l.jsx(k,{...te}),[k]),z=h.useCallback(te=>l.jsx(T,{...te}),[T]),B=h.useCallback(te=>l.jsx(D,{...te}),[D]),H=h.useCallback(te=>l.jsx(IB,{component:A,...te}),[A]),W=h.useCallback(te=>l.jsx(I,{...te}),[I]),V=h.useCallback(te=>l.jsx(P,{...te}),[P]),G=h.useCallback(te=>l.jsx($,{...te}),[$]);return l.jsx(ftn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:E,focusPath:c,focused:u,groups:d,id:f,image:j,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:w,readOnly:C,renderAnnotation:G,renderBlock:W,renderField:z,renderInlineBlock:V,renderInput:R,renderItem:B,renderPreview:H,schemaType:_,validation:S,children:i})}const mIe=h.createContext(null);function ptn(e){const t=h.useMemo(()=>({actions:e.actions||fn}),[e.actions]);return l.jsx(mIe.Provider,{value:t,children:e.children})}function PA(){const e=ne.useContext(mIe);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function mtn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e,j=h.useCallback(ae=>b([ae],!0),[b]),k=h.useCallback(ae=>b([ae],!1),[b]),T=h.useCallback(()=>m(fn),[m]),A=h.useCallback(()=>v(fn),[v]),D=h.useCallback(ae=>p(ut.from(ae)),[p]),I=h.useRef(null),P=h.useCallback(ae=>y(fn,ae),[y]),$=h.useCallback(ae=>g([ae]),[g]),R=h.useCallback(()=>g([]),[g]),z=h.useCallback(ae=>x([ae],!0),[x]),B=h.useCallback(ae=>x([ae],!1),[x]),H=vOe(),W=yOe(),V=PN(),G=bOe(),te=xOe(),N=wOe(),Y=COe(),q=h.useCallback(ae=>l.jsx(H,{...ae}),[H]),Z=h.useCallback(ae=>l.jsx(W,{...ae}),[W]),se=h.useCallback(ae=>l.jsx(G,{...ae}),[G]),re=h.useCallback(ae=>l.jsx(IB,{component:V,...ae}),[V]),K=h.useCallback(ae=>l.jsx(te,{...ae}),[te]),Q=h.useCallback(ae=>l.jsx(N,{...ae}),[N]),le=h.useCallback(ae=>l.jsx(Y,{...ae}),[Y]),me={focusPath:a,elementProps:{ref:I,id:d,onBlur:T,onFocus:A,"aria-describedby":void 0},changed:f.some(ae=>ae.kind==="field"&&ae.field.changed),focused:c,groups:u,id:d,level:0,members:f,onChange:D,onFieldClose:R,onFieldCollapse:j,onFieldSetCollapse:z,onFieldExpand:k,onFieldSetExpand:B,onPathFocus:v,onFieldOpen:$,onFieldGroupSelect:P,path:fn,presence:fn,readOnly:C,renderAnnotation:le,renderBlock:K,renderField:Z,renderInlineBlock:Q,renderInput:q,renderItem:se,renderPreview:re,schemaType:_,validation:fn,value:E};return l.jsx(htn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,children:l.jsx(Ven,{value:E,children:l.jsx(zen,{value:E,children:l.jsx(ptn,{actions:t,children:q(me)})})})})}const gIe=h.createContext({});function vIe(){return h.useContext(gIe)}function gtn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(gIe.Provider,{value:s,children:t})}h.createContext(null);function OA(e,t){return Ni(t,h.useCallback((n,r)=>{e.current&&!n&&r&&r0(e.current,{scrollMode:"always"})},[e]))}function vtn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return T9(t),t}const ytn=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Ux(e){const t=ytn();return vtn(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var aoe=Object.freeze,btn=Object.defineProperty,yIe=(e,t)=>aoe(btn(e,"raw",{value:aoe(t||e.slice())})),loe,coe;const xtn={portal:!0},wtn=O(X)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return de(loe||(loe=yIe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),Ctn=O(M)(coe||(coe=yIe([`
  max-width: 150px;
`]))),uoe=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function rN(e){const{presence:t}=e,{color:n}=_0e().sanity,r=n.dark?"light":"dark",{selected:o}=WYt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(yo),[t]),s=h.useMemo(()=>l.jsx(Ctn,{padding:2,children:l.jsx(L,{align:"center",size:1,children:uoe(i)})}),[i]);return l.jsx(it,{content:s,...xtn,children:l.jsx(wtn,{scheme:o?r:void 0,$selected:o,children:l.jsx(Wj,{maxLength:2,"aria-label":uoe(i),children:i.map(a=>l.jsx(Ga,{user:a.user},a.user.id))})})})}const _tn=3,bIe=3,_5=-4,Wx=23,doe=4,Stn=[0,.25,.75,1],c2=23,Etn=8,ktn=8,xIe=20,wIe=20,MO=!1,jtn=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function Ttn(e){return-_5+(Wx+_5)*e}var foe=Object.freeze,Atn=Object.defineProperty,CIe=(e,t)=>foe(Atn(e,"raw",{value:foe(t||e.slice())})),hoe,poe;const _Ie=O(U)(hoe||(hoe=CIe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),Dtn=O(U)(poe||(poe=CIe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Itn=ne.createContext([]);function Ptn(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(ee,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(U,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Ga,{user:o.user,status:"online"})}),l.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(it,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Otn,useReporter:Rtn,useReportedValues:$tn}=NAe(),SIe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=bIe,stack:s=!0}=t;const a=Wf(n||[],p=>p.user.id),c=Im(a,p=>p.lastActiveAt),[u,d]=s?jtn(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Ga,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(i$,{count:u.length})}:null].filter(Boolean);return l.jsxs(_Ie,{children:[l.jsx("div",{}),l.jsx(Dtn,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Wx+_5),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Mtn(e){const t=h.useContext(Itn),{presence:n=t,maxAvatars:r=bIe}=e,o=h.useRef(null);Rtn(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Wf(n||[],s=>s.user.id),[n]);return l.jsx(Ptn,{items:i,children:l.jsx(_Ie,{ref:o,style:{minHeight:Wx,minWidth:Wx}})})}const vC=Mtn,Ftn=e=>{const t=new _r,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new pt(o=>{const i=t.pipe(ht(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},oN=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ne.useRef(null);return ne.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(Cn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var moe=Object.freeze,Ltn=Object.defineProperty,lm=(e,t)=>moe(Ltn(e,"raw",{value:moe(t||e.slice())})),goe,voe,yoe,boe,xoe,woe,Coe;const Btn=O.div(goe||(goe=lm([`
  position: relative;
`]))),Ntn=O.div(voe||(voe=lm([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),iN=de(yoe||(yoe=lm([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),ztn=O(oN)(e=>{let{$debug:t,margins:n}=e;return de(boe||(boe=lm([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),iN,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),Vtn=O(oN)(e=>{let{$debug:t}=e;return de(woe||(woe=lm([`
    `,`

    visibility: none;

    `,`
  `])),iN,t&&de(xoe||(xoe=lm([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),Htn=O(oN)(e=>{let{$debug:t}=e;return de(Coe||(Coe=lm([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),iN,t?"blue":"transparent")}),Utn=e=>"".concat(e,"px"),Wtn=e=>0-e,Ytn=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Ftn({rootMargin:c.map(Wtn).map(Utn).join(" "),threshold:Stn}),[c]),[d,f]=h.useState({}),p=h.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-c2):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(b-(x.intersectionRect.bottom+c2)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Etn?"top":E<=ktn?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:y,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(Btn,{ref:n,children:[l.jsx(ztn,{$debug:MO,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(Ntn,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return l.jsx(Vtn,{$debug:MO,io:u,onIntersection:p,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-c2,height:y.rect.height+c2*2}},y.id)}),l.jsx(Htn,{$debug:MO,id:"::bottom",io:u,onIntersection:p})]})}),EIe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},qtn=e=>e.top+e.height;function Gtn(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?qtn(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const u2=e=>Z0(e,t=>t.region.rect.top),Ktn=(e,t)=>e+t,_oe=e=>e.reduce(Ktn,0);function Ztn(e){const t=Gtn(u2(e)),n={top:[],inside:[],bottom:[],...E7(t,r=>r.position)};return{top:u2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:u2(n.inside).map(r=>({...r,indent:0})),bottom:u2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const Soe=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},Xtn=[0,0,0,0],Qtn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function Jtn(e,t){return{...Qtn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function enn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:Jtn(o.element,t)}})}function tnn(e){const{children:t,margins:n=Xtn}=e,r=$tn(),o=ne.useRef(null),i=ne.useMemo(()=>o.current?enn(r,o.current):j4,[r]),s=ne.useCallback((a,c)=>{const u=Ztn(a.filter(m=>m.region.presence.length>0)),d=_oe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=_oe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:y}=v,x=g<=xIe,b=y<=wIe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(b?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(Eoe,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(Soe,{height:d}),l.jsx(nnn,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(Soe,{height:f}),l.jsx(Eoe,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(Ytn,{ref:o,margins:n,regions:i,render:s,children:t})}const j4=[],Eoe=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?Pn(Im(i,g=>g.region.rect.top*s).map(g=>g.region.presence||j4)):j4,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Wx+_5):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...EIe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:doe+1+m,bottom:doe+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(SIe,{position:o,maxAvatars:_tn,presence:a})},"sticky-".concat(o))});function nnn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=xIe,c=s<=wIe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(ne.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...EIe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(onn,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:l.jsx(SIe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const rnn=e=>e.children,onn=rnn,inn=[0,0,0,0];function snn(e){let{children:t,margins:n}=e;return l.jsx(Otn,{children:l.jsx(tnn,{margins:n||inn,children:t})})}const yC=snn;var koe=Object.freeze,ann=Object.defineProperty,l1=(e,t)=>koe(ann(e,"raw",{value:koe(t||e.slice())})),joe,Toe,Aoe,Doe,Ioe,Poe;const lnn={open:500},cnn=O(U)(joe||(joe=l1([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),unn=O(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return de(Toe||(Toe=l1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),dnn=O(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return de(Aoe||(Aoe=l1([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),fnn=O(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return de(Doe||(Doe=l1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),hnn=O(X)(e=>{let{theme:t}=e;const n=t.sanity.space[1]/2;return de(Ioe||(Ioe=l1([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;

    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default
      // and only show it when it has focus within or when the field is hovered or focused.
      opacity: 0;
      pointer-events: none;

      [data-ui='FieldActionsFlex'] {
        opacity: 0;
        width: 0;
      }

      &[data-actions-visible='false']:not(:focus-within) {
        // Remove the shadow when the field actions are not visible
        box-shadow: none;

        // Since the field actions always will be present in the DOM (to make them focusable) –
        // they will always affect the width of the floating card, even when they are not visible.
        // Therefore, we remove the background of the floating card when the field actions are not visible.
        background: transparent;
      }

      // Remove the shadow when the field has comments but no actions
      &[data-has-comments='true']:not([data-has-actions='true']) {
        box-shadow: none;
      }

      // Show the floating card when it has focus within (ie when field actions are focused).
      &:focus-within {
        opacity: 1;
        pointer-events: auto;
        width: max-content;

        [data-ui='FieldActionsFlex'] {
          opacity: 1;
          pointer-events: auto;
          width: max-content;
        }
      }
    }

    &[data-visible='true'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }

    &[data-actions-visible='true'] {
      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  `])),n,n)}),pnn=O(U)(Poe||(Poe=l1([`
  gap: inherit;
`]))),Ooe=4;function kIe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[y,x]=h.useState(0),{hasComments:b=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,E=(t==null?void 0:t.button)||_,j=S||b,k=h.useCallback(()=>{if(d){const{width:I}=d.getBoundingClientRect();m(I||0)}},[d]),T=h.useCallback(k,[k]),A=h.useCallback(k,[k]);h.useEffect(()=>{k()},[k,S]),h.useEffect(()=>{if(v){const{width:I}=v.getBoundingClientRect();x(I||0)}},[v]);const D=h.useMemo(()=>n?l.jsx(fnn,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(cnn,{align:"flex-end",children:[l.jsx(dnn,{flex:1,paddingY:2,$presenceMaxWidth:Ttn(Ooe),children:o}),a&&a.length>0&&l.jsx(unn,{flex:"none",paddingBottom:1,$right:p+y,children:l.jsx(vC,{maxAvatars:Ooe,presence:a})}),D,(E||b)&&l.jsx(rCe,{delay:lnn,children:l.jsxs(hnn,{"data-actions-visible":S?"true":"false","data-has-actions":_?"true":"false","data-has-comments":b?"true":"false","data-visible":j?"true":"false",display:"flex",onBlurCapture:A,onFocusCapture:T,radius:2,ref:f,shadow:2,sizing:"border",children:[_&&l.jsx(pnn,{align:"center","data-ui":"FieldActionsFlex",children:l.jsx(rtn,{nodes:r,onMenuOpenChange:u})}),w]})})]})}function yh(e,t){if(!(!t||!e))return"desc_".concat(e)}var Roe=Object.freeze,mnn=Object.defineProperty,gnn=(e,t)=>Roe(mnn(e,"raw",{value:Roe(t||e.slice())})),$oe;const vnn=[],jv={error:fe.red[500].hex,warning:fe.yellow[500].hex,info:fe.blue[500].hex},Tv={error:l.jsx(da,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx(Lr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(vm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},ynn=O(ee)($oe||($oe=gnn([`
  max-width: 200px;
`])));function c1(e){const{validation:t=vnn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return Tv.error;if(u)return Tv.warning;if(d)return Tv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return jv.error;if(u)return jv.warning;if(d)return jv.info},[c,d,u]);return l.jsx(it,{content:l.jsxs(ynn,{padding:3,space:3,children:[n&&l.jsx(xnn,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(bnn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function bnn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return Tv.error;if(t.level==="warning")return Tv.warning;if(t.level==="info")return Tv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return jv.error;if(t.level==="warning")return jv.warning;if(t.level==="info")return jv.info},[t]);return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,children:l.jsx(L,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,children:t.message})})]})}function xnn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(L,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const wnn=[],jIe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=wnn}=t,s=i.length>0;return l.jsxs(ee,{space:2,children:[l.jsxs(U,{children:[l.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(c1,{fontSize:1,validation:i})})]}),n&&l.jsx(L,{muted:!0,size:1,id:yh(r,n),children:n})]})}),Moe=[],u1=h.memo(function(t){const{__unstable_headerActions:n=Moe,__unstable_presence:r=Moe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:y}=nN();return l.jsxs(ee,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:y,space:1,children:[d&&l.jsx(kIe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(jIe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var Foe=Object.freeze,Cnn=Object.defineProperty,sN=(e,t)=>Foe(Cnn(e,"raw",{value:Foe(t||e.slice())})),Loe,Boe,Noe;const zoe=O.legend(Loe||(Loe=sN([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),_nn=O(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return de(Boe||(Boe=sN([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ge(r[1]),gB({base:o,focusRing:n}))}),Snn=O(M)(Noe||(Noe=sN([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),Enn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(L,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(zoe,{children:l.jsxs(_nn,{type:"button",onClick:o,children:[l.jsx(Snn,{children:l.jsx(L,{muted:!0,size:1,children:l.jsx(hj,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(zoe,{children:s})});var Voe=Object.freeze,knn=Object.defineProperty,TIe=(e,t)=>Voe(knn(e,"raw",{value:Voe(t||e.slice())})),Hoe,Uoe;function jnn(e){return typeof e=="function"?e():e}const Tnn=O(M).attrs({forwardedAs:"fieldset"})(Hoe||(Hoe=TIe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Ann=O(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return de(Uoe||(Uoe=TIe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ge(o[1]),gB({base:i,focusRing:{...r,offset:2}}))}),FO=[],RA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=FO,__unstable_presence:s=FO,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:y,title:x,validation:b=FO,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=nN(),k=b.length>0,T=fr(n),A=h.useCallback(P=>{T.current===P.target&&g&&g(P)},[T,g]),D=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),I=h.useMemo(()=>c?null:l.jsx(en,{columns:d,gapX:4,gapY:5,children:jnn(a)}),[a,c,d]);return l.jsxs(Tnn,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[l.jsx(kIe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(ee,{space:2,children:[l.jsxs(U,{children:[l.jsx(Enn,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),k&&l.jsx(M,{marginLeft:2,children:l.jsx(c1,{fontSize:1,validation:b})})]}),f&&l.jsx(L,{muted:!0,size:1,id:yh(w,f),children:f})]})}),l.jsx(Ann,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof y=="number"&&y>-1?A:void 0,ref:T,tabIndex:y,children:!c&&I})]})});var Woe=Object.freeze,Dnn=Object.defineProperty,Inn=(e,t)=>Woe(Dnn(e,"raw",{value:Woe(t||e.slice())})),Yoe;const Pnn=O.div(Yoe||(Yoe=Inn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Onn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(Pnn,{"data-max-avatars":n,"data-position":r,children:t})}var qoe=Object.freeze,Rnn=Object.defineProperty,$nn=(e,t)=>qoe(Rnn(e,"raw",{value:qoe(t||e.slice())})),Goe;const Mnn=O(oe)(Goe||(Goe=$nn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),AIe=ne.createContext(null),DIe=function(t){const n=h.useContext(AIe),{listeners:r,attributes:o}=iTe({id:n});return l.jsx(Mnn,{icon:B0e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Fnn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Lnn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Fnn(o,r,n,e)};var Koe=Object.freeze,Bnn=Object.defineProperty,Zoe=(e,t)=>Koe(Bnn(e,"raw",{value:Koe(t||e.slice())})),Xoe,Qoe;const aN="moving",IIe=O(M)(Qoe||(Qoe=Zoe([`
  `,`
`])),e=>e.$moving&&de(Xoe||(Xoe=Zoe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Nnn={threshold:{x:0,y:.02}},znn={coordinateGetter:g7t},Vnn={duration:200,easing:"ease"};function Hnn(e){return e==="x"?y7t:b7t}function Unn(e){return e==="x"?r7t:i7t}const Wnn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=U8t(YQ(O7),YQ(I7,znn)),d=h.useCallback(p=>{var m,v,g,y;const{active:x,over:b}=p;x.id!==(b==null?void 0:b.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(y=(g=b==null?void 0:b.data.current)==null?void 0:g.sortable)==null?void 0:y.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Lnn({y:4}),...r?[Hnn(r)]:[]],[r]);return l.jsx(Y9t,{sensors:u,autoScroll:Nnn,modifiers:f,collisionDetection:Y8t,onDragEnd:d,onDragStart:i,children:l.jsx(a7t,{items:n,strategy:r?Unn(r):void 0,children:l.jsx(en,{...c,children:a})})})}),Ynn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=iTe({id:r,transition:i?null:Vnn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Ox.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(IIe,{ref:p,style:f,$moving:d,className:d?aN:"","data-index":t["data-index"],children:o})});function lN(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(Wnn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(en,{...i})}const cN=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(AIe.Provider,{value:t.id,children:r?l.jsx(Ynn,{ref:n,...o}):l.jsx(IIe,{ref:n,...o})})});var Joe=Object.freeze,qnn=Object.defineProperty,Gnn=(e,t)=>Joe(qnn(e,"raw",{value:Joe(t||e.slice())})),eie;const Knn=O(X)(eie||(eie=Gnn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),aN);function $A(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return Ni(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(Knn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(ee,{space:1,children:[l.jsxs(U,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(DIe,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(U,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var tie=Object.freeze,Znn=Object.defineProperty,MA=(e,t)=>tie(Znn(e,"raw",{value:tie(t||e.slice())})),nie,rie,oie,iie;const Xnn=O.button(nie||(nie=MA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),Qnn=O(hj)(rie||(rie=MA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),Jnn=O(U)(oie||(oie=MA([`
  cursor: default;
`]))),ern=O(M)(iie||(iie=MA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Hm(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(Xnn,{type:"button",onClick:c,children:l.jsx(Jnn,{align:"center",children:l.jsxs(Kt,{children:[l.jsx(ern,{"data-open":s?"":void 0,children:l.jsx(L,{size:1,children:l.jsx(Qnn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(L,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const trn={warning:"caution",error:"critical",info:"positive"},nrn={warning:l.jsx(Lr,{}),error:l.jsx(da,{}),info:l.jsx(vm,{})};function jf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(X,{radius:2,tone:trn[n],...o,"data-ui":"Alert",children:l.jsx(U,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Hm,{icon:nrn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function uN(e){if(Za(e))return e.name==="object"?{}:{_type:e.name};if(zl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function d1(e){if(!Za(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...uN(e),_key:Gw(12)}}const rrn={portal:!0,tone:"default",placement:"left",constrainSize:!0},FA=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(sie,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:W0e}),l.jsx(sie,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:Y0e})]})});function sie(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Ne,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(Y6,{text:o,popover:rrn,children:t==null?void 0:t.map(s=>l.jsx(Ne,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const PIe=()=>{},LO={isLoading:!0,result:void 0,error:void 0,retry:PIe},orn={isLoading:!1,result:void 0,error:void 0,retry:PIe};function LA(e,t){const n=h.useMemo(()=>new _r,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=bo(()=>Wr(ve(null),r).pipe(ce(()=>e),S$(a=>a?t(a).pipe(ce(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ci(LO),Rn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o})))):ve(orn))),[t,e,r,o],LO),s=FB(e,e);return e&&s!==e?LO:i}function OIe(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=I0(),v=kC(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,y=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:y}),[c,y,d]),b=ni(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=ni(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Kt,{space:3,children:[p&&l.jsx(Ht,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(rN,{presence:v}),l.jsxs(Kt,{space:4,children:[l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(b):"Not published"})}),children:l.jsx(cr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(S0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(cr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Mu,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function RIe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(vh,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(lie,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(Kt,{space:4,children:f&&l.jsx(Ht,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(Kt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(M,{children:l.jsx(it,{portal:!0,content:m?l.jsxs(aie,{title:"Not found",icon:Nv,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(aie,{title:"Insufficient permissions",icon:Of,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(cr,{tone:"default",children:l.jsx(Nv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,y=u.to.find(x=>x.name===g);return y?l.jsx(OIe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:y,renderPreview:c,showTypeLabel:f}):l.jsx(lie,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function aie(e){const t=e.icon;return l.jsxs(U,{padding:3,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function lie(e){return l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsxs(ee,{space:3,padding:3,children:[l.jsxs(L,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",irn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(cr,{tone:"default",children:l.jsx(Nv,{})})})})})]})}const irn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var cie=Object.freeze,srn=Object.defineProperty,arn=(e,t)=>cie(srn(e,"raw",{value:cie(t||e.slice())})),uie;const lrn=O(X)(uie||(uie=arn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),$Ie=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(lrn,{...s,...a,ref:n})}),MIe=h.createContext(null);function crn(){const e=h.useContext(MIe);return e||{menuRef:{current:null},containerRef:{current:null}}}function urn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(MIe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function drn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const frn={portal:!0,tone:"default"},hrn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function prn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:y,value:x,open:b,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:P}}=e,$=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,z=h.useRef(null),B=h.useRef(null),H=h.useRef(null),{EditReferenceLink:W,getReferenceInfo:V,selectedState:G,isCurrentDocumentLiveEdit:te}=jN({path:v,schemaType:p,value:x});OA(z,b),Ni(j,(Ee,Be)=>{var ct;!Ee&&Be&&z.current&&((ct=z.current)==null||ct.focus())});const N=e.validation.some(Ee=>Ee.level==="error"),Y=e.validation.some(Ee=>Ee.level==="warning"),q=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:Ux()}],position:"after"})},[w,x]),se=h.useCallback((Ee,Be)=>{w({items:[{...d1(Be),_key:Ux()}],position:Ee})},[w]),re=LA(x==null?void 0:x._ref,V),K=x._ref,Q=((n=re.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),le=K&&((s=(i=(o=re.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),me=h.useCallback(()=>{T([p.weak===!0?yt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[T,p.weak]),ae=Q?p.to.find(Ee=>Ee.name===Q):void 0,Ce=G==="pressed",_e=G==="selected",he=drn({readOnly:g,hasErrors:N,hasWarnings:Y}),be=!K||A[0]==="_ref",Le=h.useMemo(()=>h.forwardRef(function(Be,ct){return l.jsx(Pm,{...Be,intent:"edit",params:{id:x==null?void 0:x._ref,type:ae==null?void 0:ae.name},target:"_blank",rel:"noopener noreferrer",ref:ct})}),[ae==null?void 0:ae.name,x==null?void 0:x._ref]),Re=h.useCallback(()=>{D(K&&be?[]:["_ref"])},[K,be,D]),lt=h.useMemo(()=>g?null:l.jsx(M,{marginLeft:1,children:l.jsx(nn,{button:l.jsx(oe,{paddingY:3,paddingX:2,mode:"bleed",icon:Po}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Nt,{ref:B,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:vo,onClick:y}),l.jsx(Ne,{text:K&&be?"Cancel replace":"Replace",icon:K&&be?Ii:E0,onClick:Re}),l.jsx(Ne,{text:"Duplicate",icon:$u,onClick:Z}),l.jsx(FA,{onInsert:se,types:R})]}),!g&&!be&&K&&l.jsx(Or,{}),!be&&K&&l.jsx(Ne,{as:Le,"data-as":"a",text:"Open in new tab",icon:Qf})]}),popover:frn})}),[g,S,y,K,be,Re,Z,se,R,Le]),ot=h.useCallback(()=>{T(p.weak===!0?yt(!0,["_weak"]):Je(["_weak"]))},[T,p]),Bt=x!=null&&x._weak?"weak":"strong",Rt=p.weak===!0?"weak":"strong",Ae=K&&!re.isLoading&&(x==null?void 0:x._strengthenOnPublish),Ge=!re.isLoading&&((a=re.result)==null?void 0:a.availability.available)&&K&&Bt!==Rt&&!Ae,Ye=((c=re.result)==null?void 0:c.preview.draft)||((u=re.result)==null?void 0:u.preview.published),tt=l.jsxs(l.Fragment,{children:[te&&le&&x._strengthenOnPublish&&l.jsx(jf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=re.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(oe,{onClick:me,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ge&&l.jsx(jf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Bt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Rt,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",Ye!=null&&Ye.title?l.jsxs(l.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",Ye!=null&&Ye.title?l.jsxs(l.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(oe,{onClick:ot,text:l.jsxs(l.Fragment,{children:["Convert to ",Rt," reference"]}),tone:"caution"})]})}),re.error&&l.jsx(jf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",re.error.message]}),l.jsx(oe,{onClick:re.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),xt=l.jsx(urn,{menuRef:B,containerRef:H,children:l.jsx($A,{dragHandle:$,presence:!be&&C.length>0&&l.jsx(vC,{presence:C,maxAvatars:1}),validation:!be&&_.length>0&&l.jsx(c1,{validation:_}),menu:lt,footer:be?void 0:tt,tone:be?void 0:he,focused:j,children:be?l.jsx(M,{padding:1,ref:H,children:l.jsx(RA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):l.jsxs($Ie,{as:W,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ae==null?void 0:ae.name,disabled:q,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:_e,pressed:Ce,"data-selected":_e?!0:void 0,"data-pressed":Ce?!0:void 0,...P,children:[l.jsx(RIe,{value:x,referenceInfo:re,renderPreview:I,type:p}),q&&l.jsx(X,{style:hrn,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(hr,{muted:!0})}),l.jsx(L,{children:"Resolving initial value…"})]})})]})})});return l.jsx(hi,{path:v,isChanged:E,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:xt})})}function die(e){return Za(e.schemaType)}function fie(e){return zl(e.schemaType)}function mrn(e){return e._key!==void 0}function HS(e){return mrn(e)?e:{...e,_key:Ux(12)}}const FIe=4;function hie(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function grn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FIe;const n=vrn(t);return function(){return Er(n(e(...arguments)))}}function vrn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FIe;const t=[],n=[],r=new _r;return o;function o(a){return new pt(c=>{if(t.length>=e)return i(a).pipe(dt(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{hie(t,u),hie(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(QCe(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const yrn=4;function brn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return Srn(n).pipe(Rn(()=>ve(null)),dt(f=>f?Crn(e,"sanity.".concat(t,"Asset"),f):ve(null)),dt(f=>f?ve({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(ce(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const LIe=grn(brn,yrn),xrn=(e,t,n)=>LIe(e,"image",t,n),wrn=(e,t,n)=>LIe(e,"file",t,n);function BIe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function NIe(e,t){return BIe(e,t)}function zIe(e,t){return BIe(e,t)}function Crn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function _rn(e){return new pt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Srn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?ve(null):_rn(e).pipe(dt(t=>crypto.subtle.digest("SHA-1",t)),ce(Ern))}function Ern(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function krn(e,t){return new pt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const jrn=/(invalid image format)|(No exif data)/i,Trn=128e3;function Arn(e){return Er(krn(e,Trn)).pipe(ce(t=>TBt(t)),Rn(t=>(jrn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),ve({}))))}function pie(e){return[5,6,7,8].indexOf(e)>-1}function Drn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function mie(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Irn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Prn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Orn="top-left",Rrn=120;function $rn(e,t){const n=Irn[t-1],r=e.height/e.width;e.width=Rrn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(pie(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&mie(o,!0,!1),n.op==="flip-y"&&mie(o,!1,!0),n.degrees&&(Drn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),pie(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Mrn(e,t){return new pt(n=>{const r=Prn.indexOf(t)+1,o=$rn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Frn(e){return new pt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Lrn(e,t){return Frn(window.URL.createObjectURL(e)).pipe(dt(n=>Mrn(n,t)))}const bl="_upload",Brn=Je([bl]);function Rp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const VIe=Rp([Brn]);function HIe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Rp([yt(n,[bl])])}function Nrn(e,t,n){const r=xrn(e,t,n).pipe(ht(i=>i.stage!=="download"),ce(i=>({...i,progress:2+i.percent/100*98})),ce(i=>i.type==="complete"?Rp([yt({_type:"reference",_ref:i.asset._id},["asset"]),yt(100,[bl,"progress"]),yt(new Date().toISOString(),[bl,"updatedAt"])]):Rp([yt(i.percent,[bl,"progress"]),yt(new Date().toISOString(),[bl,"updatedAt"])]))),o=Arn(t).pipe(dt(i=>Lrn(t,i.orientation||Orn)),Rn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),ve(null))),ht(Boolean),ce(i=>Rp([yt(i,[bl,"previewImage"])])));return Wr(ve(HIe(t)),an(r,o),ve(VIe))}function UIe(e,t,n){const r=wrn(e,t,n).pipe(ce(o=>o.type==="complete"?Rp([yt({_type:"reference",_ref:o.asset._id},["asset"]),yt(100,[bl,"progress"]),yt(new Date().toISOString(),[bl,"updated"])]):Rp([yt(o.percent,[bl,"progress"]),yt(new Date().toISOString(),[bl,"updated"])])));return Wr(ve(HIe(t)),r,ve(VIe))}const zrn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Nrn(e,t,r)},Vrn={type:"file",accepts:"",upload:(e,t,n,r)=>UIe(e,t,r)},Hrn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>UIe(e,t,r).pipe(ce(o=>({type:"uploadProgress",patches:[yt(o)]})))},Urn=[zrn,Hrn,Vrn].map((e,t)=>({...e,priority:t}));function T4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function dN(e,t){return Urn.find(n=>{var r;return _c(n.type,e)&&T4(t,n.accepts)&&T4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const Wrn=["_key","_type","_weak"];function WIe(e){return Object.keys(e).every(t=>Wrn.includes(t))}const Yrn=(e,t)=>{const n=Ds(t);return e.of.find(r=>r.name===n)};function qrn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return yt(o,[...t,r])})}function YIe(e,t,n){return Er(e).pipe(dt(r=>{const o={_key:r._key};return ve(Yrn(t,r)).pipe(dt(i=>i?ve(i):Qn),dt(i=>!WIe(r)||!n?Qn:Wr(ve({type:"patch",patches:[yt(!0,[o,"_resolvingInitialValue"])]}),mo(()=>n(i,r)).pipe(ht(yo),ce(s=>({type:"patch",patches:qrn(s,[o])})),Rn(s=>ve({type:"error",error:s,item:r,schemaType:i}))),ve({type:"patch",patches:[Je([o,"_resolvingInitialValue"])]}))))}))}const gie="before",vie="after";function Grn(e,t,n){if(t!==gie&&t!==vie)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(gie," or ").concat(vie));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=yie(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...yie(s)),d}function yie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const bie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function Krn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Zrn(e,t){if(typeof t=="number")return t;const n=U9(e,t);return n===-1?!1:n}function Xrn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!bie(t.value,"from")||!bie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return Krn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=Zrn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Grn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=hN(n[i],{...t,path:o}),n}function Qrn(e,t){const n=a5e(e);if(t.path.length===0){if(t.type==="set"){if(!uw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?$i(n,r):(n[r]=hN(n[r],{...t,path:o}),n)}const qIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Jrn=Object.keys(qIe);function eon(e,t){if(!Jrn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return qIe[t.type](e,t.value)}const GIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=V5e(U5e(t),e,{allowExceedingIndices:!0});return n}},ton=Object.keys(GIe);function non(e,t){if(!ton.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return GIe[t.type](e,t.value)}function fN(e,t){return t.reduce(hN,e)}function ron(e,t){return Array.isArray(e)?Xrn(e,t):CT(e)?non(e,t):uw(e)?Qrn(e,t):eon(e,t)}function hN(e,t){return ron(e,t)}function oon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=ol(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,y=PA(),x=h.useRef(),b=h.useRef({});Ni(c.field.focused,(Q,le)=>{var me;!Q&&le&&((me=x.current)==null||me.focus())});const w=h.useCallback(Q=>{Q.currentTarget===Q.target&&Q.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(Q=>{Q.currentTarget===Q.target&&Q.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(Q=>{const le=ut.from(Q).patches;if(le.some(ae=>ae.type==="unset"&&ae.path.length===1)&&(_.current=fN(_.current||[],le),Array.isArray(_.current)&&!_.current.length)){r(ut.from(Je([c.name])));return}r(ut.from(Q).prepend(es([])).prefixAll(c.name))},[r,c.name,_]),E=nz(),j=qo(),k=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(Q=>{o(c.field.path.concat({_key:Q}),!0)},[o,c.field.path]),D=h.useCallback(Q=>{o(c.field.path.concat({_key:Q}),!1)},[o,c.field.path]),I=h.useCallback(Q=>{s(Q),o(Q,!1)},[s,o]),P=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(Q=>{if(Q.items.length===0)throw new Error("Insert event should include at least one item");const le=Q.items.map(_e=>HS(_e));S(ut.from([cf(le,Q.position,[Q.referenceItem])]));const me=le[0]._key,ae=[...c.field.path,{_key:me}];n(ae);const Ce=Q.open!==!1;Q.skipInitialValue?Ce&&I(ae):YIe(le,c.field.schemaType,E).pipe(Cn(_e=>{_e.type==="patch"?S(_e.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(_e.schemaType.title,": ").concat(_e.error.message,"."),status:"error"})})).subscribe({complete:()=>{Ce&&I(ae)}})},[S,I,c.field.path,c.field.schemaType,n,E,j]),R=h.useCallback(Q=>{const le=c.field.value,me=le==null?void 0:le[Q.fromIndex],ae=le==null?void 0:le[Q.toIndex];if(Q.fromIndex!==Q.toIndex){if(!(me!=null&&me._key)||!(ae!=null&&ae._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([Je([{_key:me._key}]),cf([me],Q.fromIndex>Q.toIndex?"before":"after",[{_key:ae._key}])])}},[S,c.field.value]),z=h.useCallback(Q=>{S([es([]),cf([HS(Q)],"before",[0])])},[S]),B=h.useCallback(Q=>{S([es([]),cf([HS(Q)],"after",[-1])])},[S]),H=h.useCallback(Q=>{b.current[Q]&&(b.current[Q].unsubscribe(),delete b.current[Q]),S([Je([{_key:Q}])])},[S]),W=h.useCallback(Q=>{n(c.field.path.concat(Q))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":yh(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),G=mr(cn),te=Cd(),N=te.__internal.image.directUploads,Y=te.__internal.file.directUploads,q=h.useCallback((Q,le)=>_c("image",Q)&&!N||_c("file",Q)&&!Y?null:dN(Q,le),[Y,N]),Z=h.useCallback(Q=>{let{file:le,schemaType:me,uploader:ae}=Q;const Ce=d1(me),_e=Ce._key;$({items:[Ce],position:"after",referenceItem:-1,open:!1});const he=ae.upload(G,le,me).pipe(ce(be=>ut.from(be.patches||[]).prefixAll({_key:_e})),Cn(be=>S(be.patches)));b.current={...b.current,[_e]:he.subscribe()}},[G,S,$]),se=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:P,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:H,onItemAppend:B,onItemPrepend:z,onPathFocus:W,resolveInitialValue:E,onUpload:Z,resolveUploader:q,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:V}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,P,I,S,$,R,H,B,z,W,E,Z,q,u,d,p,m,f,v,g,V]),re=h.useMemo(()=>m(se),[se,m]),K=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:k,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:re,inputProps:se}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,T,re,se]);return l.jsx(pC,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(K),[K,f])})}function KIe(e,t,n){return Fp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function ion(e){const{member:t,renderInput:n,renderField:r}=e,o=PA(),i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=ol();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(ut.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(Fp(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else lw(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Fp(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(ut.from(S?Je():yt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,y=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:KIe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":yh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:y}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,y]),b=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:b,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,b,x]);return l.jsx(l.Fragment,{children:r(w)})}const son=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=ol(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}=t,x=PA(),b=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Ni(u.field.focused,(te,N)=>{var Y;!te&&N&&((Y=b.current)==null||Y.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(te=>{r(u.field.path.concat(te))},[u.field.path,r]),E=h.useCallback(te=>{if(!(u.field.path.length===0)){const Y=ut.from(te).patches;if(w.current=fN(w.current||{},Y),w.current&&hDt(w.current)){o(ut.from(Je([u.name])));return}}o(ut.from(te).prepend(es(uN(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(te=>{s(u.field.path.concat(te),!0)},[s,u.field.path]),A=h.useCallback(te=>{s(u.field.path.concat(te),!1)},[s,u.field.path]),D=h.useCallback(te=>{i(u.field.path.concat(te))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),P=h.useCallback(te=>{a(u.field.path.concat(te),!1)},[a,u.field.path]),$=h.useCallback(te=>{a(u.field.path.concat(te),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),z=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),B=h.useCallback(te=>{c(u.field.path,te)},[c,u.field.path]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:b,"aria-describedby":yh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),W=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:B,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:P,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,B,D,I,T,A,P,$,S,E,d,f,p,m,v,g,y]),V=h.useMemo(()=>v(W),[W,v]),G=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:R,onClose:z,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:V,inputProps:W}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,R,z,V,W]);return l.jsx(pC,{onFieldGroupSelect:c,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(G),[G,p])})};function aon(e,t){return new pt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function lon(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function con(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function uon(e){return/^\d+$/.test(e)}function don(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{lw(i)&&(n=!0),Rve(i)&&(o=!0),Fp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&uon(e)?Number(e):o?e:void 0}function fon(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return aon(n,"utf-8").pipe(ce(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>don(o,e)).filter(o=>o!==void 0)),ht(r=>Array.isArray(r)),ce(r=>({type:"uploadProgress",patches:[cf(r,"after",[-1])]})))}}}function hon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=ol(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,y=PA(),x=h.useRef(),b=h.useRef(),w=mr(cn);Ni(c.field.focused,(N,Y)=>{var q;!N&&Y&&((q=x.current)==null||q.focus())});const C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(N=>{const Y=ut.from(N).patches;if(Y.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=fN(c.field.value||[],Y);if(Array.isArray(Z)&&!Z.length){r(ut.from(Je([c.name])));return}}r(ut.from(N).prepend(es([])).prefixAll(c.name))},[r,c.name,c.field.value]),E=h.useCallback(N=>{i(c.field.path,N)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),k=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(N=>{S(N.length===0?Je():yt(N))},[S]),A=h.useCallback(N=>{const{value:Y=[]}=c.field;N.fromIndex!==N.toIndex&&T(lon(Y,N.fromIndex,N.toIndex))},[c.field,T]),D=h.useCallback(N=>{const{value:Y=[]}=c.field;T(Y.concat(N))},[c.field,T]),I=h.useCallback(N=>{const{value:Y=[]}=c.field;T([N].concat(Y||[]))},[c.field,T]),P=h.useCallback(N=>{const{value:Y=[]}=c.field,q=N.referenceIndex+(N.position==="before"?-1:0);T(con(q,Y,N.items))},[c.field,T]),$=h.useCallback(N=>{S(Je([N]))},[S]),R=h.useCallback(N=>{n(c.field.path.concat([N]))},[c.field.path,n]),z=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":yh(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),B=h.useMemo(()=>fon(c.field.schemaType.of),[c.field.schemaType.of]),H=h.useCallback((N,Y)=>T4(Y,"text/*")?B:null,[B]),W=h.useCallback(N=>{let{file:Y,schemaType:q,uploader:Z}=N;const se=Z.upload(w,Y,q).pipe(ce(re=>ut.from(re.patches||[])),Cn(re=>S(re.patches)));b.current&&b.current.unsubscribe(),b.current=se.subscribe()},[w,S]),V=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:E,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:z,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:P,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:H,onUpload:W,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:R,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,E,z,S,P,A,$,D,I,H,W,u,d,p,m,v,R,g]),G=h.useMemo(()=>m(V),[V,m]),te=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:k,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:G,inputProps:V}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,j,G,V]);return l.jsx(pC,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(te),[te,f])})}function ZIe(e){return Za(e.field.schemaType)}function pon(e){return zl(e.field.schemaType)&&e.field.schemaType.of.every(t=>$ve(t))}function pN(e){return zl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Za(t))}const bC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return ZIe(n)?l.jsx(son,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):pon(n)?l.jsx(hon,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):pN(n)?l.jsx(oon,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(ion,{member:n,renderField:i,renderInput:a})}),XIe=["yes","true","1"],QIe=["false","no","false","0","null"],mon=XIe.concat(QIe),d2=()=>!0,gon=e=>t=>t&&t[e],von=e=>t=>(t&&t._type)===e;function yon(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function bon(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const BO={string:{number:{test:Number,convert:Number},boolean:{test:e=>mon.includes(e.toLowerCase()),convert:e=>XIe.includes(e.toLowerCase())||!QIe.includes(e.toLowerCase())},richDate:{test:e=>Ku(e),convert:e=>({_type:"richDate",local:yon(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:bon(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:von("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:gon("utc"),convert:e=>e.utc}},number:{string:{test:d2,convert:String},boolean:{test:d2,convert:Number}},boolean:{string:{test:d2,convert:e=>e?"Yes":"No"},number:{test:d2,convert:Number}}};function xon(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(ut.from(es(n,["_type"])),o),[o,r,n]);return l.jsx(oe,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function won(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(ut.from(Je()),o),[o,n]);return l.jsx(oe,{onClick:i,tone:"critical",text:"Unset value"})}function Con(e){let{validTypes:t,value:n,onChange:r}=e;const o=jn(),i=t.length===1,s=o.has(t[0]);return l.jsx(qc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Hm,{open:Gc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(ee,{as:"ul",space:2,children:t.map(a=>l.jsx(L,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(ee,{space:2,children:[l.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(X,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(lr,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(en,{columns:[1,2,2],gap:1,children:[i&&l.jsx(xon,{onChange:r,targetType:t[0],value:n}),l.jsx(won,{onChange:r,validTypes:t,value:n})]})]})})})}function _on(e,t,n){return t in BO?Object.keys(BO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...BO[t][r]})).filter(r=>r.test(e)):[]}const JIe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(ut.from(Je()))},[i]),a=h.useCallback(d=>{i(ut.from(yt(d)))},[i]),c=h.useMemo(()=>_on(n,r,o),[n,r,o]);if(kr(n)&&!("_type"in n))return l.jsx(Con,{value:n,validTypes:o,onChange:i});const u=l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(qc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Hm,{marginTop:4,open:Gc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[o.length===1&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(ee,{as:"ul",space:2,children:o.map(d=>l.jsx(L,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(ee,{marginTop:2,space:2,children:[l.jsxs(L,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(X,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(lr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(ee,{space:1,children:c.map(d=>l.jsx(Son,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});JIe.displayName="InvalidValueInput";function Son(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(oe,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function Eon(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ut.from((t.value||[]).map((o,i)=>es(Gw(),[i,"_key"]))))},[t.value,n]);return l.jsx(u1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(qc,{status:"warning",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Hm,{marginTop:4,open:Gc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function kon(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ut.from((t.duplicates||[]).map(o=>{let[i,s]=o;return yt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(u1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(qc,{status:"warning",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Hm,{marginTop:4,open:Gc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function jon(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>kr(s)?[]:[a]).reverse().map(s=>Je([s]));n(ut.from(i))};return l.jsx(u1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(qc,{status:"error",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Hm,{marginTop:4,open:Gc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(ee,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function BA(e){const{member:t}=e,{onChange:n}=ol(),r=h.useCallback(o=>{n(ut.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(JIe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(Eon,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(kon,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(jon,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const mN=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=ol(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(RA,{title:r.fieldSet.title||Rm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(BA,{member:v},r.key):l.jsx(bC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function gN(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=ol(),x=nz();Ni(n.item.focused,(q,Z)=>{var se;!q&&Z&&((se=t.current)==null||se.focus())});const b=h.useCallback(()=>{p(ut.from([Je([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(q=>{m(q),v(q,!1)},[m,v]),C=qo(),_=h.useCallback(q=>{if(q.items.length===0)throw new Error("Insert event should include at least one item");const Z=q.items.map(le=>HS(le));p(ut.from([cf(Z,q.position,[{_key:n.key}])]));const se=Z[0]._key,K=[...n.item.path.slice(0,-1),{_key:se}];f(K);const Q=q.open!==!1;q.skipInitialValue?Q&&w(K):YIe(Z,n.parentSchemaType,x).pipe(Cn(le=>{le.type==="patch"?p(ut.from(le.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(le.schemaType.title,": ").concat(le.error.message,"."),status:"error"})})).subscribe({complete:()=>{Q&&w(K)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(q=>{f(n.item.path.concat(q))},[n.item.path,f]),k=h.useCallback(q=>{p(ut.from(q).prepend(es(uN(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(q=>{v(n.item.path.concat(q),!0)},[v,n.item.path]),I=h.useCallback(q=>{v(n.item.path.concat(q),!1)},[v,n.item.path]),P=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(q=>{m(n.item.path.concat(q))},[m,n.item.path]),R=h.useCallback(q=>{g(n.item.path.concat(q),!1)},[g,n.item.path]),z=h.useCallback(q=>{g(n.item.path.concat(q),!0)},[g,n.item.path]),B=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||WIe(n.item.value),W=h.useCallback(()=>{H&&b();const q=n.item.path.slice(0,-1);m(q),f(q)},[H,m,n.item.path,f,b]),V=h.useCallback(q=>{y(n.item.path,q)},[y,n.item.path]),G=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":yh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),te=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:P,onFieldCollapse:D,onFieldSetCollapse:z,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:V,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:G}),[G,k,P,D,z,I,R,j,$,V,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),N=h.useMemo(()=>a(te),[te,a]),Y=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:B,onClose:W,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:te}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,b,B,W,A,T,E,S,N,te]);return l.jsx(pC,{onFieldGroupSelect:y,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(Y),[Y,c])})}function vN(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Ton(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=ol();Ni(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(ut.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(Fp(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else lw(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Fp(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(yt(S?vN(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Aon(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":yh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),y=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(ut.from([Je([n.index])]))},[n.index,u]),b=h.useCallback(C=>{u(ut.from([cf(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Aon(e,t,n){return Object.is(t,-0)?"":KIe(e,t,n)}var xie=Object.freeze,Don=Object.defineProperty,Ion=(e,t)=>xie(Don(e,"raw",{value:xie(t||e.slice())})),wie;const Pon=O(X)(wie||(wie=Ion([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function ePe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,c]=ne.useState(null);dr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ds(t);return l.jsx(tn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Pon,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(ee,{space:4,children:[l.jsxs(L,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(lj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(ee,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(X,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(X,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(jl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Oon(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(ePe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const Ron=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(bC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(BA,{member:n},n.key):n.kind==="fieldSet"?l.jsx(mN,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function $on(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(Ron,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const cy=e=>{let{children:t}=e;return t};function Mon(e){return"absolutePath"in e}const tPe=h.memo(function(t){const n=h.useMemo(()=>Mon(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(Fon,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Fon=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(y=>{if(wn(y.path,n)||Si(n,y.path))return a(y);if(!die(y)&&!fie(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return l.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(y=>Si(n,y.path)&&(t.includeField||!wn(n,y.path))?i(y):cy(y),[n,i,t.includeField]),p=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!wn(n,y.path))?c(y):cy(y),[n,c,t.includeItem]),m=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!wn(n,y.path))?o(y):cy(y),[n,o,t.includeItem]),v=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!wn(n,y.path))?s(y):cy(y),[n,s,t.includeItem]),g=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!wn(n,y.path))?r(y):cy(y),[n,r,t.includeItem]);if(fie(t)){const y=qy(t.path,n),x=t.members.find(b=>b.kind=="item"&&$r(y[0])&&b.key===y[0]._key);if(!x){const w=qy(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(Oon,{member:x}):l.jsx(gN,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(die(t)){const y=qy(t.path,n),x=t.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return l.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(bC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),nPe=h.createContext(null);function Lon(){const e=h.useContext(nPe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Yx(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(nPe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Bon=[0,0,1,0];function rPe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(yC,{margins:Bon,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(Yx,{scrollElement:u,containerElement:f,children:l.jsx(Fi,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(zYt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(Yx,{scrollElement:u,containerElement:f,children:p})})}function Non(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const zon={portal:!0,tone:"default"},Von={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},Hon={position:"relative"};function Uon(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);OA(j,m),Ni(w,(G,te)=>{var N;!G&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Ux()}],position:"after"})},[v,p]),A=h.useCallback((G,te)=>{v({items:[d1(te)],position:G})},[v]),D=a1(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(vC,{presence:D,maxAvatars:1}),[D]),P=tN(u,!0),$=h.useMemo(()=>P.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(c1,{validation:P,__unstable_showSummary:!0})}),[P]),R=P.some(G=>G.level==="error"),z=P.some(G=>G.level==="warning"),B=h.useMemo(()=>d?null:l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Po}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Nt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:vo,onClick:f}),l.jsx(Ne,{text:"Duplicate",icon:$u,onClick:T}),l.jsx(FA,{types:E,onInsert:A})]}),popover:zon}),[T,A,f,E,e.inputId,d]),H=Non({readOnly:d,hasErrors:R,hasWarnings:z}),W=l.jsx($A,{menu:B,presence:I,validation:$,tone:H,focused:w,dragHandle:S,selected:m,children:l.jsxs(X,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,style:Hon,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&l.jsx(X,{style:Von,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(hr,{muted:!0})}),l.jsx(L,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),V=Op(a);return l.jsxs(l.Fragment,{children:[l.jsx(hi,{path:u,isChanged:b,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:W})}),m&&l.jsx(rPe,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function Won(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Ru(e)?prn:Uon}function Yon(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const qon={portal:!0,tone:"default"};function Gon(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:y,inputProps:x}=e,{readOnly:b,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=IA(),k=h.useCallback(()=>x.onChange(Je()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:P}=jN({path:m,schemaType:p,value:T});OA(f,v),Ni(w,(he,be)=>{!he&&be&&f.current&&f.current.focus()});const $=e.validation.some(he=>he.level==="error"),R=e.validation.some(he=>he.level==="warning"),z=LA(T==null?void 0:T._ref,D),B=((t=z.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=B?p.to.find(he=>he.name===B):void 0,W=I==="pressed",V=I==="selected",G=T==null?void 0:T._ref,te=G&&((i=(o=(r=z.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{_([p.weak===!0?yt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[_,p.weak]),Y=h.useCallback(()=>{_(p.weak===!0?yt(!0,["_weak"]):Je(["_weak"]))},[_,p]),q=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",se=p.weak===!0?"weak":"strong",re=G&&!z.isLoading&&(T==null?void 0:T._strengthenOnPublish),K=!z.isLoading&&((s=z.result)==null?void 0:s.availability.available)&&G&&Z!==se&&!re,Q=Yon({readOnly:b,hasErrors:$,hasWarnings:R}),le=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",me=((a=z.result)==null?void 0:a.preview.draft)||((c=z.result)==null?void 0:c.preview.published),ae=l.jsxs(l.Fragment,{children:[P&&te&&T._strengthenOnPublish&&l.jsx(jf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=z.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(oe,{onClick:N,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),K&&l.jsx(jf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Z}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[se,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",me!=null&&me.title?l.jsxs(l.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",me!=null&&me.title?l.jsxs(l.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(oe,{onClick:Y,text:l.jsxs(l.Fragment,{children:["Convert to ",se," reference"]}),tone:"caution"})]})}),z.error&&l.jsx(jf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",z.error.message]}),l.jsx(oe,{onClick:z.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Ce=h.useMemo(()=>h.forwardRef(function(be,Le){return l.jsx(Pm,{...be,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:Le})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),_e=h.useMemo(()=>b?null:l.jsx(M,{marginLeft:1,children:l.jsx(nn,{button:l.jsx(oe,{paddingY:3,paddingX:2,mode:"bleed",icon:Po}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Nt,{children:[!b&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Clear",tone:"critical",icon:vo,onClick:k}),l.jsx(Ne,{text:"Replace",icon:E0,onClick:q})]}),!b&&(T==null?void 0:T._ref)&&l.jsx(Or,{}),(T==null?void 0:T._ref)&&l.jsx(Ne,{as:Ce,"data-as":"a",text:"Open in new tab",icon:Qf})]}),popover:qon})}),[k,q,g,Ce,b,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(mC,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),l.jsx(gC,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(u1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:le?l.jsx(M,{children:y}):l.jsx(X,{shadow:1,radius:1,padding:1,tone:Q,children:l.jsxs(ee,{space:1,children:[l.jsxs(U,{gap:1,align:"center",children:[l.jsx($Ie,{__unstable_focusRing:!0,as:A,"data-pressed":W?!0:void 0,"data-selected":V?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:W,radius:2,ref:f,selected:V,tone:"inherit",children:l.jsx(RIe,{value:T,referenceInfo:z,renderPreview:C,type:p})}),l.jsx(M,{children:_e})]}),ae]})})})})]})}function oPe(e,t){return Yn(e.options,t)}const Cie=["array","file","image","reference","slug"],Kon=["asset","crop","hotspot","_ref","_weak"],Zon=["tags"],Xon=["slug"];function yN(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?yN(e.type,t):[];return[e,...n]}function Qon(e,t){return zl(e)?ein(e,t):Jon(e,t)}function Jon(e,t){var n,r,o;const{type:i,options:s}=e,a=iPe(i,Cie),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(Xon.includes(u))return 0;const d=Cie.includes(u),f=((n=c==null?void 0:c.filter(m=>!Kon.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function ein(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=Zon.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function iPe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return iPe(e.type,t)}const S5=[];function tin(e){return l.jsx(hi,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function NO(e){const[t,n]=h.useState(S5),r=IA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(mC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(gC,{actions:t,focused:o,path:e.path,children:l.jsx(u1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(hi,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function nin(e){const[t,n]=h.useState(S5),r=IA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(mC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(gC,{actions:t,focused:o,path:e.path,children:l.jsx(RA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function rin(e){const[t,n]=h.useState(S5),r=IA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||S5);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(mC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(gC,{actions:t,focused:o,path:e.path,children:l.jsx(RA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function oin(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(lw(e))return tin;const n=yN(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?rin:n.some(r=>EF(r))||n.some(r=>r.name==="slug")?NO:n.some(r=>Ru(r))?Gon:e.jsonType!=="object"&&e.jsonType!=="array"?NO:nin}function iin(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>Sx(a,{allowedDecorators:t}));const s=[cf(o,"after",[{_key:n._key}])];return r(ut.from(s))}}function sin(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[yt(Sx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(ut.from(i))}}function ain(e){const{block:t,onChange:n}=e;return()=>{const r=[Je([{_key:t._key}])];return n(ut.from(r))}}var _ie=Object.freeze,lin=Object.defineProperty,cin=(e,t)=>_ie(lin(e,"raw",{value:_ie(t||e.slice())})),Sie;const uin=O.div(Sie||(Sie=cin([`
  display: flex;
  pointer-events: all;
`])));function sPe(e){const t=xo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:we.getValue(t),set:sin({allowedDecorators:i,block:n,onChange:r}),unset:ain({block:n,onChange:r}),insert:iin({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(uin,{contentEditable:!1,children:s}):null}var Eie=Object.freeze,din=Object.defineProperty,fin=(e,t)=>Eie(din(e,"raw",{value:Eie(t||e.slice())})),kie;const aPe=O.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=At(o.spot.yellow,.2);return de(kie||(kie=fin([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var jie=Object.freeze,hin=Object.defineProperty,pin=(e,t)=>jie(hin(e,"raw",{value:jie(t||e.slice())})),Tie;const lPe=O(hi)(()=>de(Tie||(Tie=pin([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function NA(e){return e.type?NA(e.type):e.name==="block"}function min(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const gin=["@@_NONEXISTENT_PATH_@@"];function zA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:fn,r=tN((e==null?void 0:e.path)||gin),o=h.useMemo(()=>e!=null&&e.schemaType&&NA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=eN(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const cPe=h.createContext([]);function vin(e){return l.jsx(cPe.Provider,{value:e.markers,children:e.children})}function VA(e){const t=h.useContext(cPe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>wn(r.path,e)),[t,e])}const bN=h.createContext([]);function yin(e){return l.jsx(bN.Provider,{value:e.memberItems,children:e.children})}function HA(e){const t=h.useContext(bN);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function bin(){const e=h.useContext(bN);if(!e)throw new Error("Form context not provided");return e}function xin(e){const t=h.useRef([]);return win({props:e,ref:t}),t.current}const win=e=>{let{props:t,ref:n}=e;var r;const o=[],{members:i,path:s,schemaType:a,renderAnnotation:c,renderField:u,renderBlock:d,renderInput:f,renderItem:p,renderInlineBlock:m,renderPreview:v}=t;for(const y of i)if(y.kind==="item")if(!NA(y.item.schemaType))o.push({kind:"objectBlock",member:y,node:y.item});else{(y.item.validation.length>0||y.item.changed||(r=y.item.presence)!=null&&r.length)&&o.push({kind:"textBlock",member:y,node:y.item});const b=y.item.members.find(C=>C.kind==="field"&&C.name==="children");if(b&&b.kind==="field"&&pN(b))for(const C of b.field.members)C.kind==="item"&&C.item.schemaType.name!=="span"&&o.push({kind:"inlineObject",member:C,node:C.item});const w=y.item.members.filter(min).find(C=>C.name==="markDefs");if(w)for(const C of w.field.members)C.kind==="item"&&C.item.schemaType.jsonType==="object"&&o.push({kind:"annotation",member:C,node:C.item})}const g=o.map(y=>{const x=_n(y.node.path),b=n.current.find(_=>_.key===x),w=y.kind!=="textBlock";let C=null;if(w&&y.member!==(b==null?void 0:b.member)||y.node!==(b==null?void 0:b.node)){const _={absolutePath:Pc(y.node.path),includeField:!1,members:i,path:Pc(s),renderAnnotation:c,renderBlock:d,renderField:u,renderInlineBlock:m,renderInput:f,renderItem:p,renderPreview:v,schemaType:a};C=l.jsx(tPe,{..._})}return b?(b.member=y.member,b.node=y.node,b.input=C||b.input,b):{kind:y.kind,key:x,member:y.member,node:y.node,elementRef:h.createRef(),input:C}});return n.current=g,g};var Aie=Object.freeze,Cin=Object.defineProperty,rd=(e,t)=>Aie(Cin(e,"raw",{value:Aie(t||e.slice())})),Die,Iie,Pie,Oie,Rie,$ie,Mie,Fie,Lie;const _in=O(X)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=de(Die||(Die=rd([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return de(Iie||(Iie=rd([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?fe.purple[950].hex:fe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Sin=O(M)(Pie||(Pie=rd([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),Ein=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(Rie||(Rie=rd([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&de(Oie||(Oie=rd([`
        display: none;
      `]))))}),kin=O(U)($ie||($ie=rd([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),jin=O(M)(Mie||(Mie=rd([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Tin=O(U)(Fie||(Fie=rd([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Ain=O(M)(Lie||(Lie=rd([`
  max-width: 250px;
`]))),Din={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Iin(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>ad(a)?h.forwardRef(function(v,g){return l.jsx(Pm,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Ps(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(U,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(nn,{button:l.jsx(oe,{"aria-label":"Open menu",fontSize:1,iconRight:Po,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Nt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Ne,{as:f,"data-as":"a",icon:$f,text:"Open reference"}),s&&l.jsx(Ne,{icon:V0e,onClick:o,text:"View"}),!s&&l.jsx(Ne,{icon:Mu,onClick:o,text:"Edit"}),!s&&l.jsx(Ne,{icon:vo,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Din})})]})}const uPe=e=>Array.isArray(e)?e.flatMap(uPe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Pin=e=>e==="dialog"||e==="popover"?e:void 0;function Oin(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Pin(n.type),width:uPe(n.width)}:void 0}function Rin(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Fi,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(yC,{margins:[0,0,1,0],children:l.jsx(Yx,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var Bie=Object.freeze,$in=Object.defineProperty,xN=(e,t)=>Bie($in(e,"raw",{value:Bie(t||e.slice())})),Nie,zie,Vie;const Min=O(tn)(Nie||(Nie=xN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Fin=O(M)(zie||(zie=xN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Lin=O(M)(Vie||(Vie=xN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Bin=["top","bottom"];function Nin(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(Min,{content:l.jsx(zin,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Bin,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function zin(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Ps(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),dr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(Yx,{scrollElement:s,containerElement:c,children:l.jsxs(U,{ref:c,direction:"column",height:"fill",children:[l.jsx(Lin,{flex:"none",padding:1,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(L,{weight:"semibold",children:o})}),l.jsx(oe,{autoFocus:!!i,icon:Ii,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Fin,{flex:1,children:l.jsx(yC,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function wN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>Oin(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Nin,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(Rin,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Vin(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=ol(),{Markers:k}=Cd().__internal.components,[T,A]=h.useState(!1),D=VA(c),I=xo(),P=HA(_n(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),z=h.useCallback(()=>A(!0),[]),B=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{P&&(we.blur(I),s(P.node.path))},[I,P,s]),W=h.useCallback(()=>{i(),we.select(I,R),we.focus(I)},[i,I,R]),V=h.useCallback(()=>{if(!$.current)try{we.delete(I,R,{mode:"blocks"})}catch(be){console.error(be)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&we.focus(I)},[I]);const G=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:te,hasError:N,hasWarning:Y,hasInfo:q}=zA(P==null?void 0:P.node),Z=I.schemaTypes.portableText,se=D.length>0,re=a1(c,!0),K=h.useMemo(()=>re.filter(be=>wn(be.path,c)),[c,re]),Q=N||Y||q||se,le=h.useMemo(()=>Q&&l.jsx(Ain,{padding:2,children:l.jsx(k,{markers:D,validation:te,renderCustomMarkers:g})})||null,[k,D,g,Q,te]),me=!!(P!=null&&P.member.open),ae=P==null?void 0:P.input,Ce=(P==null?void 0:P.node.path)||fn,_e=(t=P==null?void 0:P.elementRef)==null?void 0:t.current,he=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:_e||null,children:ae,focused:r,markers:D,onClose:W,onOpen:H,onPathFocus:a,onRemove:V,open:me,parentSchemaType:Z,path:Ce,presence:K,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:dPe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:te,value:E}),[n,_e,ae,r,D,W,H,a,V,me,Z,Ce,K,u,d,p,m,y,x,b,w,C,_,S,te,E]);return h.useMemo(()=>l.jsx(M,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:l.jsx(U,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(kin,{flex:1,children:[l.jsx(it,{placement:"top",portal:"editor",disabled:!Q,content:le,children:l.jsx(Sin,{...G,children:m&&m(he)})}),l.jsx(jin,{marginRight:1,children:l.jsx(Tin,{children:v&&E&&r&&!u&&l.jsx(sPe,{block:E,onChange:j,renderBlockActions:v})})}),o&&P&&l.jsx(Ein,{$hasChanges:P.member.item.changed,onMouseOut:B,onMouseOver:z,children:l.jsx(lPe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),T&&l.jsx(aPe,{})]})})}),[he,r,B,z,G,o,P,j,u,m,v,T,le,Q,E])}const dPe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:y}=e,x=i4e(g),b=y.filter(E=>E.level==="error").length>0,w=y.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(_in,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(Iin,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(wN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},uy=[1,2,3,4,5,6,7,8,9],Hie=["●","○","■"],Uie=["number","lower-alpha","lower-roman"],Hin={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Uin={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function np(e){return"list-level-".concat(e)}var Wie=Object.freeze,Win=Object.defineProperty,Fc=(e,t)=>Wie(Win(e,"raw",{value:Wie(t||e.slice())})),Yie,qie,Gie,Kie,Zie,Xie,Qie,Jie,ese,tse;function Yin(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=Uie[(n-1)%Uie.length],u=Hie[(n-1)%Hie.length];return de(Yie||(Yie=Fc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?fe.purple[950].hex:fe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,np(n),np(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const qin=O.div(Yin),Gin=O(M)(qie||(qie=Fc([`
  position: relative;
  display: flex;
`]))),Kin=O.div(Gie||(Gie=Fc([`
  user-select: none;
  white-space: nowrap;
`]))),Zin=O(M)(Kie||(Kie=Fc([`
  user-select: none;
`]))),Xin=O(M)(Zie||(Zie=Fc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Qin=O(U)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return de(Xie||(Xie=Fc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Jin=O(M)(Qie||(Qie=Fc([`
  max-width: 250px;
`]))),esn=O(U)(Jie||(Jie=Fc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),tsn=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(tse||(tse=Fc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&de(ese||(ese=Fc([`
        display: none;
      `]))))});var nse=Object.freeze,nsn=Object.defineProperty,fPe=(e,t)=>nse(nsn(e,"raw",{value:nse(t||e.slice())})),rse,ose;const _d=O.div(rse||(rse=fPe([`
  display: block;
`]))),CN=e=>{let{children:t,...n}=e;return l.jsx(L,{"data-testid":"text-style--normal",...n,children:l.jsx(_d,{children:t})})},hPe=e=>{let{children:t,...n}=e;return l.jsx(Yo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(_d,{children:t})})},pPe=e=>{let{children:t,...n}=e;return l.jsx(Yo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(_d,{children:t})})},mPe=e=>{let{children:t,...n}=e;return l.jsx(Yo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(_d,{children:t})})},gPe=e=>{let{children:t,...n}=e;return l.jsx(Yo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(_d,{children:t})})},vPe=e=>{let{children:t,...n}=e;return l.jsx(Yo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(_d,{children:t})})},yPe=e=>{let{children:t,...n}=e;return l.jsx(Yo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(_d,{children:t})})},rsn=O.blockquote(ose||(ose=fPe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),bPe=e=>{let{children:t,...n}=e;return l.jsx(rsn,{"data-testid":"text-style--blockquote",...n,children:l.jsx(L,{as:"p",children:t})})},zO={normal:CN,h1:hPe,h2:pPe,h3:mPe,h4:gPe,h5:vPe,h6:yPe,blockquote:bPe};function osn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=Cd().__internal.components,[k,T]=h.useState(!1),A=VA(c),D=HA(_n(c)),I=xo(),{onChange:P}=ol(),$=a1(c,!0),R=h.useMemo(()=>$.filter(ae=>wn(ae.path,c)||ae.path.slice(-3)[1]==="children"&&ae.path.length-c.length===2),[c,$]),z=h.useCallback(()=>T(!0),[]),B=h.useCallback(()=>T(!1),[]),{validation:H,hasError:W,hasWarning:V,hasInfo:G}=zA(D==null?void 0:D.node),te=!!v&&A.length>0,N=W||V||te||G,Y=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),q=h.useCallback(()=>{const ae={path:c.slice(-1),offset:0},Ce={focus:ae,anchor:ae};we.delete(I,Ce,{mode:"blocks"}),we.focus(I)},[c,I]),Z=h.useMemo(()=>l.jsxs(esn,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&l.jsx(Kin,{contentEditable:!1,children:l.jsx(L,{"data-list-prefix":"",children:l.jsx(_d,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),se=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),re=h.useMemo(()=>E.listItem?{paddingY:2}:Uin[E.style||"normal"]||{paddingY:2},[E]),K=!!(D!=null&&D.member.open),Q=I.schemaTypes.portableText,le=h.useMemo(()=>{var ae;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ae=D==null?void 0:D.elementRef)==null?void 0:ae.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:Y,onPathFocus:a,onRemove:q,open:K,parentSchemaType:Q,path:(D==null?void 0:D.node.path)||fn,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:xPe,renderField:g,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:w,schemaType:C,selected:_,validation:H,value:E}},[n,r,K,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,Y,a,q,Q,u,d,p,f,g,y,x,b,w,C,_,Z,R,H,E]),me=h.useMemo(()=>N&&l.jsx(Jin,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:H})})||null,[j,A,v,N,H]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...re,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(Gin,{"data-testid":"text-block__wrapper",children:l.jsxs(U,{flex:1,...se,children:[l.jsx(M,{flex:1,children:l.jsx(it,{content:me,disabled:!N,placement:"top",portal:"editor",children:l.jsx(qin,{$level:E.level||1,"data-error":W?"":void 0,"data-list-item":E.listItem,"data-markers":te?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":V?"":void 0,spellCheck:S,children:f&&f(le)})})}),l.jsxs(Zin,{contentEditable:!1,children:[l.jsx(Xin,{marginRight:1,children:l.jsx(Qin,{children:m&&r&&!u&&l.jsx(sPe,{onChange:P,block:E,renderBlockActions:m})})}),o&&D&&l.jsx(tsn,{$hasChanges:D.member.item.changed,onMouseEnter:z,onMouseLeave:B,children:l.jsx(lPe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&l.jsx(aPe,{})]})})}),[le,r,z,B,W,te,V,se,o,D,P,re,u,f,m,k,S,me,N,E])}const xPe=e=>l.jsx(l.Fragment,{children:e.children});var ise=Object.freeze,isn=Object.defineProperty,ssn=(e,t)=>ise(isn(e,"raw",{value:ise(t||e.slice())})),sse;const asn=O(tn)(sse||(sse=ssn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),lsn=["top","bottom"];function csn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=Os(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Ps(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var y;if(!((y=f.current)!=null&&y.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(Kt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:a})}),l.jsx(oe,{icon:Mu,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(oe,{ref:f,icon:vo,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(asn,{constrainSize:!0,content:v,fallbackPlacements:lsn,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var ase=Object.freeze,usn=Object.defineProperty,_N=(e,t)=>ase(usn(e,"raw",{value:ase(t||e.slice())})),lse,cse,use;const dsn=O(X)(psn),fsn=O.span(lse||(lse=_N([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),hsn=O(M)(cse||(cse=_N([`
  max-width: 250px;
`])));function psn(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return de(use||(use=_N([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?fe.purple[950].hex:fe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const msn=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:w,selected:C,value:_}=e,{Markers:S}=Cd().__internal.components,E=xo(),j=VA(a),k=HA(_n(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=zA(k==null?void 0:k.node),P=E.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),z=h.useCallback(()=>{we.delete(E,R,{mode:"children"}),we.focus(E)},[R,E]),B=h.useCallback(()=>{k&&(we.blur(E),i(k.node.path))},[E,i,k]),H=h.useCallback(()=>{o(),we.select(E,R),we.focus(E)},[o,E,R]),W=!!(k!=null&&k.member.open),V=k==null?void 0:k.input,G=(k==null?void 0:k.node.path)||fn,te=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=a1(a,!0),Y=h.useMemo(()=>N.filter(re=>wn(re.path,a)),[a,N]),q=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:te,children:V,focused:r,onClose:H,onOpen:B,onPathFocus:s,onRemove:z,open:W,markers:j,member:k==null?void 0:k.member,parentSchemaType:P,path:G,presence:Y,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:wPe,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:w,selected:C,value:_,validation:T}),[n,r,V,W,j,k==null?void 0:k.member,G,H,B,s,z,P,c,u,te,f,p,v,y,x,g,b,Y,w,C,T,_]),Z=A||I||D||$,se=h.useMemo(()=>Z&&l.jsx(hsn,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>l.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:l.jsx(it,{placement:"bottom",portal:"editor",disabled:!Z,content:se,children:y&&l.jsx("span",{style:{position:"relative"},children:y(q)})})}),[q,k==null?void 0:k.elementRef,y,se,Z])},wPe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:y}=e,x=s.length>0,[b,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(dsn,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:l.jsx(fsn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&l.jsx(csn,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(wN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var dse=Object.freeze,gsn=Object.defineProperty,vsn=(e,t)=>dse(gsn(e,"raw",{value:dse(t||e.slice())})),fse;const ysn=O(tn)(fse||(fse=vsn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),bsn=["top","bottom"];function xsn(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=Os(),g=h.useRef(null),y=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Ps(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const b=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(ysn,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(Kt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:c})}),l.jsx(oe,{icon:Mu,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(oe,{icon:vo,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:bsn,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:y}):null}var hse=Object.freeze,wsn=Object.defineProperty,CPe=(e,t)=>hse(wsn(e,"raw",{value:hse(t||e.slice())})),pse,mse;const Csn=O.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return de(pse||(pse=CPe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?fe.purple[950].hex:fe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),_sn=O(M).attrs({forwardedAs:"span"})(mse||(mse=CPe([`
  max-width: 250px;
`])));function Ssn(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=aIe}=Cd().__internal.components,j=xo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=HA(_n(k)),{validation:P}=zA(I==null?void 0:I.node),$=VA(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),z=h.useCallback(()=>{I&&(we.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),B=h.useCallback(()=>{s();const K=we.getSelection(j),Q=(K==null?void 0:K.focus.path)&&wn(K.focus.path,D)&&K.focus.offset,le=(K==null?void 0:K.anchor.path)&&wn(K.anchor.path,D)&&K.anchor.offset;we.select(j,{anchor:{path:D,offset:le||0},focus:{path:D,offset:Q||0}}),we.focus(j)},[j,D,s]),H=h.useCallback(()=>{we.removeAnnotation(j,C),we.focus(j)},[j,C]),W=h.useMemo(()=>P.length>0||$.length>0?l.jsx(it,{placement:"bottom",portal:"default",content:l.jsx(_sn,{padding:2,children:l.jsx(E,{markers:$,renderCustomMarkers:v,validation:P})}),children:R}):void 0,[E,$,v,R,P]),V=a1(u,!0),G=h.useMemo(()=>V.filter(K=>wn(K.path,u)),[u,V]),te=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,Y=(I==null?void 0:I.node.path)||fn,q=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:q,__unstable_textElementFocus:r,children:N,focused:i,markers:$,onClose:B,onOpen:z,onPathFocus:c,onRemove:H,open:te,parentSchemaType:j.schemaTypes.block,path:Y,presence:G,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:w,renderItem:b,renderDefault:A4,schemaType:C,selected:_,textElement:W||R,validation:P,value:S}),[j.schemaTypes.block,r,o,i,N,te,$,W,Y,B,z,c,H,d,f,q,p,m,g,y,x,b,w,G,C,_,R,P,S]),se=(t=C.components)==null?void 0:t.annotation,re=h.useCallback(K=>{I!=null&&I.elementRef&&(I.elementRef.current=K),A(K)},[I]);return h.useMemo(()=>l.jsx("span",{ref:re,style:void 0,children:se?l.jsx(se,{...Z}):l.jsx(A4,{...Z})}),[se,Z,re])}const A4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,y=m.name==="link",x=g.filter(_=>_.level==="error").length>0,b=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":b?"caution":y?"primary":"default",[y,x,b]);return l.jsxs(Csn,{$toneKey:C,"data-link":y?"":void 0,"data-error":x?"":void 0,"data-warning":b?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(xsn,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(wN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function Esn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:NA(e)?xPe:dPe}function ksn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:wPe}function jsn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:A4}const Tsn=/^\d+$/;function Asn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Dsn(e){const[t,n]=e.split("==");return{[t]:Asn(n)}}function Isn(e){return Tsn.test(e)?Number(e):e}function Psn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Dsn(t):Isn(t))}function ug(e){return Psn(e)}class z$n extends ne.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function p0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=bo(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function Osn(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):_Pe(Array.from(e.items||[])).then(Pn)}function Rsn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):_Pe(n).then(Pn)}function gse(e){return e===null?[]:[e]}function _Pe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return gse(t.getAsFile())}return n?n.isDirectory?SPe(n):gse(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function SPe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(SPe)).then(Pn))}return Promise.resolve([])}function $sn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const Msn={opacity:0,position:"absolute"};function EPe(e){return ne.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=ne.useState(!1),f=ne.useRef(null),p=fr(r),m=ne.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),y=h.useCallback(S=>{Osn(S.clipboardData).then(E=>f.current?E.length>0?E:Fsn(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&Rsn(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),b=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=ne.useRef(!1);return ne.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Lsn(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:Msn})]})})}function Fsn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>$sn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Lsn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function SN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function EN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&SN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var vse=Object.freeze,Bsn=Object.defineProperty,Nsn=(e,t)=>vse(Bsn(e,"raw",{value:vse(t||e.slice())})),yse;function kPe(e){return O(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return de(yse||(yse=Nsn([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),SN(n),ge(t.theme.sanity.radius[1]),EN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const jPe=kPe(EPe(X));var bse=Object.freeze,zsn=Object.defineProperty,UA=(e,t)=>bse(zsn(e,"raw",{value:bse(t||e.slice())})),xse,wse,Cse,_se;const Vsn=O(X)(xse||(xse=UA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Hsn=O(U)(wse||(wse=UA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Usn=O(ee)(Cse||(Cse=UA([`
  position: relative;
  width: 60%;
`]))),Wsn=O(lr)(_se||(_se=UA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Ysn=1e3*60*2,qsn=e=>new Date().getTime()-new Date(e).getTime();function TPe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{qsn(t.updatedAt)>Ysn&&(r==null||r())},[t.updatedAt,r]),l.jsx(Vsn,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(Hsn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(Usn,{children:[l.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(L,{size:1,children:l.jsxs(Kt,{space:2,children:["Uploading",l.jsx(Wsn,{size:1,children:i||"..."})]})})}),l.jsx(X,{marginTop:3,radius:5,shadow:1,children:l.jsx(bqt,{value:t.progress})})]}),n?l.jsx(oe,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Gsn(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(APe(i.result,t||"".concat(md(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function Ksn(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(APe(e,t||"".concat(md(),".").concat(i)))})}function APe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function DPe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[Je(["hotspot"]),Je(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([es({_type:r.name}),...g,yt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=o(r,a.value);y&&i(y,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":Ksn(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Gsn(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var Sse=Object.freeze,Zsn=Object.defineProperty,Xsn=(e,t)=>Sse(Zsn(e,"raw",{value:Sse(t||e.slice())})),Ese;const Qsn=O(Ne)(Ese||(Ese=Xsn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),Jsn=ne.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=ne.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),b=l.jsxs(U,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Sr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(Qsn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,ref:n,children:[b,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:y,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function IPe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=qo(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Ht,{muted:!0,size:1,children:"Replace"})}),l.jsx(Jsn,{icon:pj,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(Or,{}),a&&l.jsx(Ne,{as:"a",icon:UF,text:"Download",href:a}),c&&l.jsx(Ne,{icon:$u,text:"Copy URL",onClick:d}),l.jsx(Or,{}),l.jsx(Ne,{tone:"critical",icon:Fu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var kse=Object.freeze,ean=Object.defineProperty,tan=(e,t)=>kse(ean(e,"raw",{value:kse(t||e.slice())})),jse;const nan=O(U)(jse||(jse=tan([`
  pointer-events: none;
`])));function PPe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(hw,{}):t&&i>0||!s?l.jsx(Of,{}):a?l.jsx(_0,{}):l.jsx(Pl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(nan,{align:"center",gap:2,justify:"center",children:[l.jsx(L,{muted:!0,children:c}),l.jsx(L,{size:1,muted:!0,children:u})]})}var Tse=Object.freeze,ran=Object.defineProperty,oan=(e,t)=>Tse(ran(e,"raw",{value:Tse(t||e.slice())})),Ase;const ian=O(oe).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return de(Ase||(Ase=oan([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),EN({base:r,border:o,focusRing:n}))}),san=ne.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=Os(),b=ne.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(U,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Sr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(ian,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:y,multiple:c,onChange:b,ref:n,type:"file",value:"",disabled:v})]})});function aan(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=Uj(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(U,{flex:1,justify:"center",children:l.jsx(PPe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(U,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(san,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:pj,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const OPe=ne.memo(aan);var Dse=Object.freeze,lan=Object.defineProperty,can=(e,t)=>Dse(lan(e,"raw",{value:Dse(t||e.slice())})),Ise;const uan=O(oe)(Ise||(Ise=can([`
  width: 100%;
`])));function RPe(e){let{onClearStale:t}=e;return l.jsxs(X,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Lr,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(uan,{icon:Fu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var Pse=Object.freeze,dan=Object.defineProperty,$Pe=(e,t)=>Pse(dan(e,"raw",{value:Pse(t||e.slice())})),Ose,Rse;const fan=O(X)(Ose||(Ose=$Pe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),han=O(U)(Rse||(Rse=$Pe([`
  height: 100%;
`])));function MPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function pan(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);Ps(h.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),dr(h.useCallback(y=>{p!=null&&p.contains(y.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(y=>{u(y),m(y)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(X,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(U,{wrap:"nowrap",align:"center",children:[l.jsx(X,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(L,{muted:o,children:l.jsx(_0,{})})}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:MPe(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(U,{justify:"center",children:l.jsx(tn,{content:l.jsx(Nt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(oe,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Po,mode:"bleed",onClick:v,ref:g})})})})]})}function $se(){return l.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[l.jsx($0,{padding:3,radius:1,animated:!0}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(UE,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(UE,{style:{width:"100%"},radius:1,animated:!0})]})]})}var Mse=Object.freeze,man=Object.defineProperty,gan=(e,t)=>Mse(man(e,"raw",{value:Mse(t||e.slice())})),Fse;const van=O(oe)(Fse||(Fse=gan([`
  width: 100%;
`])));function yan(e){let{onClearValue:t}=e;return l.jsxs(X,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Lr,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(van,{icon:Fu,text:"Reset value",onClick:t,mode:"ghost"})]})}function ban(e){let{children:t}=e;return t}const xan=["asset"];class wan extends ne.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Je([f]));this.props.onChange(ut.from(u&&!s?Je():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(Je(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Yn(s,"options.metadata"),storeOriginalFilename:Yn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(ut.from([es({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(ut.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;DPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(xan)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(ut.from([Je(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(TPe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Yn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(p0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx($se,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!DZ(t)?()=>l.jsx(yan,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(RPe,{onClearStale:this.handleClearUploadState})}),l.jsx(hi,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(jPe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Yn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Ne,{icon:ii,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Ne,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Pl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(p0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx($se,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const y=p||"download.".concat(m);let x,b;return DZ(t)&&(b="".concat(v,"?dl"),x=v),l.jsx(pan,{size:g,originalFilename:y,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(IPe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(fan,{tone:t,children:l.jsx(han,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(PPe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(nn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(oe,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ii}),"data-testid":"input-select-button",menu:l.jsx(Nt,{children:t.map(i=>l.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Pl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(oe,{fontSize:2,text:"Browse",icon:ii,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Yn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(X,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(OPe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(_B,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(bC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?ban:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(mN,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(BA,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Can(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=zi(),{file:o}=Cd().__internal,i=mr(cn),s=h.useCallback((u,d)=>o.directUploads?dN(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>zIe(r,u),[r]);return l.jsx(wan,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var Lse=Object.freeze,_an=Object.defineProperty,San=(e,t)=>Lse(_an(e,"raw",{value:Lse(t||e.slice())})),Bse;const Nse=O(M)(Bse||(Bse=San([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function Ean(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const kan=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let f2=-1;function jan(e){return f2===-1&&(f2=kan.find(t=>t in e)),f2&&e[f2]}function zse(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function Vse(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function VO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Hse(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class D4{constructor(t,n){this.x=t,this.y=n}}class Use{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new D4(this._right,this.y)}get left(){return new D4(this._left,this.y)}get length(){return this._right-this._left}}class Tan{constructor(t){this.rect=t}get top(){return new Use(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Use(this.rect.bottom,this.rect.left,this.rect.right)}}class ao{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new ao(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new ao(t,n,this.width||0,this.height||0)}setSize(t,n){return new ao(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new ao(t-r/2,n-o/2,r||0,o||0)}get center(){return new D4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Tan(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new ao((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new ao(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new ao(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new ao(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const h2=Ss("sanity-imagetool");function Aan(e){return class extends ne.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){h2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=UO(n);h2("Drag started %o",i),r(HO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=UO(n),i=Dan(o,this.currentPos);r(i),h2("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=UO(n);r(HO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,h2("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(HO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){sm?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){sm?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function HO(e,t,n){return{x:e-n.left,y:t-n.top}}function UO(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Dan(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Wse=Object.freeze,Ian=Object.defineProperty,FPe=(e,t)=>Wse(Ian(e,"raw",{value:Wse(t||e.slice())})),Yse,qse;const Pan=Aan("canvas"),Oan=O.div(Yse||(Yse=FPe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Ran=O(Pan)(qse||(qse=FPe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),$an="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Man="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",od={x:.5,y:.5,height:1,width:1},id={top:0,left:0,right:0,bottom:0},dy=8,Fan=12,Lan=10;function Ban(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Nan(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Gse(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||id,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function zan(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Kse=pT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&jan(t)||1;return e/n}),Zse=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Van extends ne.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=zse(o,this.getHotspotRect()),s=Vse(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=VO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Ban(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||od,o=new ao().setSize(r.width,r.height).setCenter(r.x,r.y);return new ao().setSize(n.width,n.height).shrink(dy*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new ao().setSize(n.width,n.height).shrink(dy*this.getScale()).cropRelative(ao.fromEdges(t.crop||id).clamp(new ao(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Fan*this.getScale(),r=n/2,o=new ao(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of Zse)if(VO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Han(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Nan(o,d)&&r(Xse(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=Gse(i,f).value,m=Gse(i,f).delta;o(Xse(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(Uan(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=ao.fromEdges(t.crop||id).clamp(new ao(0,0,1,1)),r=t.hotspot||od,o=new ao(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new ao().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=dy*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),y=g.height/g.width;t.scale(1,y),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/y,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,y,x,b,w,C,_,S){t.save(),t.drawImage(r,g,y,x,b,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),y=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height)}function m(){const g=i.cropRelative(a),y=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(y.left,y.top,y.width,y.height),t.restore()}function v(g){t.save();const y=Lan*c,x=i.shrink(u).multiply(s),b=Hse(g,x);t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Hse(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=dy*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new ao().setSize(n.width,n.height).shrink(dy*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Kse();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();Zse.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return zan(r)||"auto";const o=Vse(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(Man,"), move");const i=zse(t,this.getHotspotRect()),s=VO(t,this.getCropRect());return i||s?"url(".concat($an,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Kse();return l.jsx(Oan,{children:l.jsx(Ran,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Han(e,t){const n=e&&e.hotspot||od;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Uan(e,t){const n=e&&e.hotspot||od;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Xse(e,t){const n=e&&e.crop||id;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function Wan(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const y=i.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function qx(e){return l.jsx(Ean,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(Wan,{image:r,maxHeight:qx.maxHeight,maxWidth:qx.maxWidth,children:i=>l.jsx(Van,{image:i,...e})}):null}})}qx.maxHeight=500;qx.maxWidth=1e3;function Yan(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Qse(e.image)||1,n=e.hotspot||od,r=e.crop||id,o=Qse(e.container)||t*Gan(r),i=e.align||{x:"center",y:"center"},s=qan(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=BPe(LPe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:Ad(s.crop.height),width:Ad(s.crop.width),top:Ad(s.crop.top),left:Ad(s.crop.left)},image:{position:"absolute",height:Ad(s.image.height),width:Ad(s.image.width),top:Ad(s.image.top),left:Ad(s.image.left)}}}function Qse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function LPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function qan(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const y=d<=o;y?g=1:g=d/o;let x,b;if(g>v){x="letterbox";let w;const C=g-v;y?w=1-C:w=v,b={width:w,height:w/d*o,left:0,top:0};const _=f.x*b.width-f.width*b.width/2;switch(i.x){case"left":b.left=y?0:-_;break;case"right":b.left=y?1-b.width:_;break;case"center":b.left=y?(1-b.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*b.height-f.height*b.height/2;switch(i.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),b={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),b={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:b,image:c}}function Gan(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function BPe(e){return e===0?0:"".concat(e,"%")}function Ad(e){return BPe(LPe(e*100))}var Jse=Object.freeze,Kan=Object.defineProperty,Zan=(e,t)=>Jse(Kan(e,"raw",{value:Jse(t||e.slice())})),eae;const Xan=O.div(eae||(eae=Zan([`
  position: relative;
  width: 100%;
`]))),Qan=Ss("sanity-imagetool");function Jan(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const eln=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=id,hotspot:c=od,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,y]=h.useState(null),x=h.useRef(null),b=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);h.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Qan("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?Jan(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>Yan({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx(Xan,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:b,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),tln="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function nln(e){return e.startsWith("blob:")}function rln(e){return new pt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(nln(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=tln)}})}const tae={isLoading:!0};function oln(e){const[t,n]=h.useState(tae);return h.useEffect(()=>{n(tae);const r=rln(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var nae=Object.freeze,iln=Object.defineProperty,sln=(e,t)=>nae(iln(e,"raw",{value:nae(t||e.slice())})),rae;const oae=["hotspot"],iae=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],sae={crop:id,hotspot:od},aln=O.div(rae||(rae=sln([`
  min-height: 6em;
`])));function lln(e){return l.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function cln(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=fn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||sae),{image:g,isLoading:y,error:x}=oln(t),b=h.useCallback(()=>{d(oae)},[d]);h.useEffect(()=>{v(n||sae)},[n]);const w=s[0]==="hotspot";Ni(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||id}:_.crop,k=E?{_type:E.type.name,..._.hotspot||od}:_.hotspot;c([yt(j,["crop"]),yt(k,["hotspot"])])},[c,f,u.fields]);return l.jsx(u1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(X,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:b,children:l.jsx(hi,{path:i.concat(oae),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(Nse,{ratio:3/2,children:[(y||x)&&l.jsx(lln,{children:x?l.jsx(X,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(L,{children:["Error: ",x.message]})}):l.jsx(L,{muted:!0,children:"Loading image… "})}),!y&&g&&l.jsx(M,{margin:1,children:l.jsx(qx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(en,{columns:iae.length,gap:1,children:iae.map(_=>{let[S,E]=_;return l.jsxs("div",{children:[l.jsx(Yo,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(Nse,{ratio:E,children:l.jsx(X,{__unstable_checkered:!0,children:!y&&g?l.jsx(eln,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||od,crop:m.crop||id}):l.jsx(aln,{})})})})]},E)})})})]})})}var aae=Object.freeze,uln=Object.defineProperty,dln=(e,t)=>aae(uln(e,"raw",{value:aae(t||e.slice())})),lae;const fln=O(Kt)(lae||(lae=dln([`
  position: absolute;
  top: 0;
  right: 0;
`])));function hln(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Ps(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),dr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(fln,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(it,{content:l.jsx(L,{size:1,children:"Crop image"}),padding:2,children:l.jsx(oe,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:F0e,mode:"ghost",onClick:t,ref:o})}),l.jsx(tn,{id:"image-actions-menu",content:l.jsx(Nt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(oe,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Po,mode:"ghost",onClick:p,ref:m})})]})}var cae=Object.freeze,pln=Object.defineProperty,WA=(e,t)=>cae(pln(e,"raw",{value:cae(t||e.slice())})),uae,dae,fae,hae;const pae=30,mln=O(X)(uae||(uae=WA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),gln=O(hr)(dae||(dae=WA([`
  position: absolute;
`]))),vln=O(U)(e=>{let{$drag:t,$tone:n}=e;const r=Vf.color.light[n].card.enabled.fg,o=At(Vf.color.light[n].card.enabled.bg,.8);return de(fae||(fae=WA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),yln=O(U)(hae||(hae=WA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),bln=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function xln(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=oh(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=pae*document.documentElement.clientHeight/100,[g,y]=bln(o),x=g/y,w=(g>f?f/x:y)<v?null:"".concat(pae,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(mln,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(X,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(mae,{cardTone:"transparent",drag:!0,content:l.jsx(gln,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(mae,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(Yo,{children:l.jsx(wln,{isRejected:r,readOnly:n})})}),l.jsx(Cln,{isRejected:r,readOnly:n})]})})]})}function wln(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Of,{}):n?l.jsx(hw,{}):l.jsx(Pl,{})}function Cln(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(L,{size:1,children:r})}function mae(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(vln,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(yln,{direction:"column",align:"center",justify:"center",children:r})})}var gae=Object.freeze,_ln=Object.defineProperty,Sln=(e,t)=>gae(_ln(e,"raw",{value:gae(t||e.slice())})),vae;const Eln=O(oe)(vae||(vae=Sln([`
  width: 100%;
`])));function kln(e){let{onClearValue:t}=e;return l.jsxs(X,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Lr,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(Eln,{icon:Fu,text:"Reset value",onClick:t,mode:"ghost"})]})}const jln=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Tln(e){let{children:t}=e;return t}const yae=["asset"],Aln={portal:!0};class Dln extends ne.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Yn(s,"options.metadata"),storeOriginalFilename:Yn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(es({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var y;console.error(g),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Je(["hotspot"]),Je(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>Je([c]));this.props.onChange(s&&!this.valueIsArrayElement()?Je():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(Je());return}o(r.prepend(es({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var r;this.props.onPathFocus([]),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;DPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([Je(["asset"]),Je(["crop"]),Je(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Fi,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(yC,{children:l.jsx(M,{padding:4,children:l.jsx(ee,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(cln,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!bb(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(jln()).auto("format").url();return l.jsx(xln,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(yae)}isImageToolEnabled(){return Yn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(Je(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Yn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Ne,{icon:ii,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Ne,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Pl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(p0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,y,x;if(bb(t)){const b=v||"download.".concat(g);x=s.image(m).forceDownload(b).url(),y=s.image(m).url()}return l.jsx(hln,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(IPe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(nn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(oe,{"data-testid":"file-input-multi-browse-button",icon:ii,iconRight:el,mode:"ghost",text:"Select"}),menu:l.jsx(Nt,{children:t.map(i=>l.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Pl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:Aln}):l.jsx(oe,{fontSize:2,text:"Select",icon:ii,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Yn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(X,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(OPe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(TPe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Yn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(p0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!bb(t)?()=>l.jsx(kln,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(RPe,{onClearStale:this.handleClearUploadState})}),l.jsx(hi,{path:a.path.concat(yae),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(jPe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:t,members:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=this.props,{selectedAssetSource:d}=this.state,f=n.find(p=>p.kind==="field"&&p.name==="hotspot");return l.jsxs(ee,{space:5,"data-testid":"image-input",children:[l.jsx(_B,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?l.jsx(bC,{member:p,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:p.name==="asset"?this.renderAsset():a,renderField:p.name==="asset"?Tln:i,renderItem:c,renderPreview:u},p.key):p.kind==="fieldSet"?l.jsx(mN,{member:p,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u},p.key):p.kind==="error"?l.jsx(BA,{member:p},p.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",p.kind]})),f&&t[0]==="hotspot"&&l.jsx(tPe,{...this.props,absolutePath:f.field.path,renderInput:this.renderHotspotInput}),d&&this.renderAssetSource()]})}}function Iln(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=Cd().__internal,o=zi(),i=mr(cn),s=r.directUploads,a=h.useCallback((f,p)=>s?dN(f,p):null,[s]),c=ne.useMemo(()=>n||r.assetSources,[r,n]),u=ne.useMemo(()=>IT(i),[i]),d=h.useCallback(f=>NIe(o,f),[o]);return l.jsx(Dln,{...e,client:i,assetSources:c,directUploads:s,imageUrlBuilder:u,observeAsset:d,resolveUploader:a})}const NPe=()=>{},WO={isLoading:!0,result:void 0,error:void 0,retry:NPe},Pln={isLoading:!1,result:void 0,error:void 0,retry:NPe};function zPe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=bo(()=>i._id?t(i).pipe(ce(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),ci(WO),Rn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):ve(Pln),[i,t,o,n],WO);return FB(e._id,e._id)!==e._id?WO:s}var bae=Object.freeze,Oln=Object.defineProperty,VPe=(e,t)=>bae(Oln(e,"raw",{value:bae(t||e.slice())})),xae,wae;const Rln=O(U)(xae||(xae=VPe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),HPe=O(U)(wae||(wae=VPe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function Cae(e){return l.jsx(HPe,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(L,{as:"p",size:1,children:e.children})})})})}function UPe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,y=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&bb(g),b=ne.isValidElement(g);return!x&&!b?null:function(C){let{dimensions:_}=C;return b?g:l.jsx("img",{src:IT({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(Rln,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(JAe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):l.jsx(M,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Kt,{space:4,children:[o&&a&&l.jsx(Ht,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(M,{children:l.jsx(it,{portal:!0,content:m?l.jsxs(Cae,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(Cae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(cr,{tone:"default",children:v?l.jsx(Of,{}):l.jsx(Nv,{})})})}),!(m||v)&&i&&l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsx(HPe,{padding:2,children:s?l.jsx(L,{size:1,children:"This document opens in a new tab"}):l.jsxs(L,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(cr,{size:1,tone:"default",muted:!s,children:l.jsx(Qf,{})})})})]})})]})}function kN(){return mr(cn).config().projectId}function $ln(e){var t;const{isLoading:n,result:r,error:o}=zPe(e.document,e.getReferenceInfo),i=kN();if(n)return l.jsxs(ee,{space:2,padding:1,children:[l.jsx(Oi,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Oi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(ee,{space:2,padding:1,children:l.jsxs(qc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(ee,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(UPe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(ee,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function _ae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=kN();if(a.isLoading||a.error)return l.jsxs(ee,{space:2,padding:1,children:[l.jsx(Oi,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(Oi,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(ee,{space:2,padding:2,children:l.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(UPe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var Sae=Object.freeze,Mln=Object.defineProperty,WPe=(e,t)=>Sae(Mln(e,"raw",{value:Sae(t||e.slice())})),Eae,kae;const Fln=O(tn)(Eae||(Eae=WPe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Lln=O(L)(kae||(kae=WPe([`
  word-break: break-word;
`]))),Bln=["top-start","bottom-start"],Nln=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Fln,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Bln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Lln,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(H6,{...t,ref:n,renderPopover:o})});var jae=Object.freeze,zln=Object.defineProperty,Vln=(e,t)=>jae(zln(e,"raw",{value:jae(t||e.slice())})),Tae;const Hln=O(oe)(Tae||(Tae=Vln([`
  width: 100%;
`])));function Uln(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(X,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(U,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Lr,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(Hln,{icon:Fu,text:"Reset value",onClick:n,mode:"ghost"})]})}const Aae={hits:[],isLoading:!1},Wln=()=>!0,Dae=["_ref"],Yln="crossDatasetReferences";function qln(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:y}=e,x=kN(),[b,w]=h.useState(Aae),C=h.useCallback(ae=>{if(!ae){c(Je()),u([]);return}if(!b.hits.find(_e=>_e.id===ae))throw new Error("Selected an item that wasnt part of the result set");c(yt({_type:m.name,_ref:$n(ae),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,b.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(Je())},[c]),S=h.useCallback(ae=>{ae.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ae=>a(ae,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=zPe(j,E),T=M3e(Yln),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=y.ref;Ni({hasFocusAt:D,ref:g==null?void 0:g._ref},(ae,Ce)=>{var _e;const he=(ae==null?void 0:ae.ref)!==Ce.ref;((ae==null?void 0:ae.hasFocusAt)!==Ce.hasFocusAt||he)&&Ce.hasFocusAt&&((_e=I.current)==null||_e.focus())});const P=g!=null&&g._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(g!=null&&g._ref),z=h.useCallback(()=>{c(m.weak===!0?yt(!0,["_weak"]):Je(["_weak"]))},[c,m]),{push:B}=qo(),H=h.useMemo(()=>v.filter(ae=>ae.level==="error"),[v]),W=h.useCallback(ae=>{ae.currentTarget===y.ref.current&&(u==null||u([Gve]))},[y.ref,u]),V=h.useCallback(ae=>{ae.currentTarget===y.ref.current&&(u==null||u(Dae))},[y.ref,u]),G=h.useCallback(()=>{u==null||u(Dae)},[u]),te=h.useId(),N=tT(ae=>ae.pipe(ht(yo),Jn(),rt(Ce=>Wr(ve({isLoading:!0}),d(Ce).pipe(ce(_e=>({hits:_e,searchString:Ce,isLoading:!1})),Rn(_e=>(B({title:"Reference search failed",description:_e.message,status:"error",id:"reference-search-fail-".concat(te)}),console.error(_e),ve({hits:[]})))))),sa((Ce,_e)=>({...Ce,..._e}),Aae),Cn(w)),[te,d,B]),Y=h.useCallback(()=>{N("")},[N]),q=!k.isLoading&&R&&P!==$,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,se=h.useCallback(ae=>l.jsx(Pp,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx($ln,{referenceType:m,document:ae.hit.published,getReferenceInfo:E})})}),[m,E]),re=(r=k.result)==null?void 0:r.preview.published,K=D||!(g!=null&&g._ref),Q=h.useRef(null),le=h.useRef(null),me=h.useRef(null);return jDe([Q,le,me],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(Uln,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(ee,{space:1,children:K?l.jsx(ee,{space:2,ref:Q,children:l.jsx(hi,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(Nln,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:A.current,portalRef:le,id:te||"",options:b.hits.map(ae=>({value:ae.id,hit:ae})),onFocus:V,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:b.searchString,onChange:C,filterOption:Wln,renderOption:se,openButton:{onClick:Y}})})})}):l.jsx(hi,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(X,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||H.length>0?"critical":"default",children:[l.jsxs(U,{align:"center",padding:1,children:[Z?l.jsx(Pp,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:y.ref,children:l.jsx(_ae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):l.jsx(Pp,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:y.ref,children:l.jsx(_ae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),l.jsx(Kt,{paddingX:1,children:l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Po,"data-testid":"menu-button"}),id:"".concat(te,"-menuButton"),menu:l.jsx(Nt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Clear",tone:"critical",icon:Fu,"data-testid":"menu-item-clear",onClick:_}),l.jsx(Ne,{text:"Replace",icon:E0,"data-testid":"menu-item-replace",onClick:G})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),q&&l.jsx(jf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:P}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',re==null?void 0:re.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',re==null?void 0:re.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(oe,{onClick:z,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),k.error&&l.jsx(jf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),l.jsx(oe,{onClick:k.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function Gln(e,t,n,r){return MB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ce(i=>i.map(s=>s.hit)),ce(xA),ce(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const Kln="cross-dataset-refs",YPe={available:!0,reason:"READABLE"},Zln={available:!1,reason:"PERMISSION_DENIED"},Xln={available:!1,reason:"NOT_FOUND"};function Qln(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?ve(a):n.observeDocumentTypeFromId(a._id,i).pipe(ce(u=>({_id:a._id,_type:u})))).pipe(rt(u=>{if(!u._type)return Jln(t,a._id).pipe(ce(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...PB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ce(m=>m&&x5(m,d)));return Uo([p]).pipe(ce(m=>{let[v]=m;return{type:u._type,id:a._id,availability:YPe,preview:{published:bt(v)?v:void 0}}}))}))}}function Jln(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(Kln,".availability")};return e.observable.request(n).pipe(ce(r=>{const i=S9(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?Xln:i.reason==="permission"?Zln:null:YPe}))}async function ecn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=pm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function tcn(e){const t=h.useRef(e);return t.current=e,t}function ncn(e){const{path:t,schemaType:n}=e,r=Ln(),o=r.getClient(cn),i=zi(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=XB([]),u=tcn(c),d=h.useCallback(p=>Er(ecn(n.options,u.current,t,s)).pipe(dt(m=>{let{filter:v,params:g}=m;return Gln(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Rn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),Yu(m)})),[a,u,t,n,s]),f=h.useMemo(()=>Qln({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(qln,{...e,getReferenceInfo:f,onSearch:d})}function rcn(e){const t=h.useRef(e);return t.current=e,t}async function ocn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=pm(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function jN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Ln(),c=a.getClient(cn),u=jn(),d=zi(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=vIe(),y=XB([]),x=rcn(y),b=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(b))==null?void 0:I.liveEdit},[b,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>Er(ocn(s.options,x.current,i,_)).pipe(dt(P=>{let{filter:$,params:R}=P;return kDe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),Rn(P=>{var $;const R=P.details&&P.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(P.message='Invalid reference filter, please check the custom "filter" option'),Yu(P)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,$){return p?l.jsx(p,{...P,ref:$,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=Si(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(P=>{var $;return P.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var P;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(yo),[C,g,s.to]),D=h.useCallback(I=>EDe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function icn(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=LA(n,t);if(o)return l.jsxs(ee,{space:2,padding:1,children:[l.jsx(Oi,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Oi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(ee,{space:2,padding:1,children:l.jsx(qc,{title:"Failed to load referenced document",children:l.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(ee,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(OIe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(ee,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const scn={display:"inline-flex"},acn={width:"100%"},lcn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function ccn(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(nn,{button:l.jsx(oe,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:Do}),id:r,menu:l.jsx(Nt,{ref:e.menuRef,children:t.map(s=>l.jsx(it,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(Mc,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Ne,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:lcn}):l.jsx(oe,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Do}):l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(Mc,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:scn,children:l.jsx(oe,{text:"Create new",mode:"ghost",disabled:!0,icon:Do,style:acn})})})}var Iae=Object.freeze,ucn=Object.defineProperty,qPe=(e,t)=>Iae(ucn(e,"raw",{value:Iae(t||e.slice())})),Pae,Oae;const dcn=O(tn)(Pae||(Pae=qPe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),fcn=O(L)(Oae||(Oae=qPe([`
  word-break: break-word;
`]))),hcn=["top-start","bottom-start"],pcn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(dcn,{placement:"bottom-start",fallbackPlacements:hcn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(fcn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(H6,{...t,ref:n,renderPopover:o})});var Rae=Object.freeze,mcn=Object.defineProperty,GPe=(e,t)=>Rae(mcn(e,"raw",{value:Rae(t||e.slice())})),$ae,Mae;const gcn=de($ae||($ae=GPe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),vcn=de(Mae||(Mae=GPe([`
  grid-template-columns: 1fr min-content;
`]))),ycn=O(en)(e=>e.$narrow?gcn:vcn),bcn=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{xcn(n,a),o(a)},[n]),s=oh(r);return l.jsx(ycn,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function xcn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var Fae=Object.freeze,wcn=Object.defineProperty,Ccn=(e,t)=>Fae(wcn(e,"raw",{value:Fae(t||e.slice())})),Lae;const _cn=O(Pp)(Lae||(Lae=Ccn([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),Bae={hits:[],isLoading:!1},Scn=()=>!0;function Ecn(e){return e!==null}function kcn(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:y,path:x,elementProps:b,focusPath:w}=e,{getReferenceInfo:C}=jN({path:x,schemaType:f,value:g}),[_,S]=h.useState(Bae),E=h.useCallback(K=>{const Q=md(),le=[es({}),yt(f.name,["_type"]),yt(Q,["_ref"]),yt(!0,["_weak"]),yt({type:K.type,weak:f.weak,template:K.template},["_strengthenOnPublish"])].filter(yo);c(le),u({id:Q,type:K.type,template:K.template}),v([])},[c,u,v,f]),j=h.useCallback(K=>{if(!K){c(Je()),v([]);return}const Q=_.hits.find(me=>me.id===K);if(!Q)throw new Error("Selected an item that wasnt part of the result set");const le=[es({}),yt(f.name,["_type"]),yt($n(K),["_ref"]),Q.published&&!f.weak?Je(["_weak"]):yt(!0,["_weak"]),Q.published?Je(["_strengthenOnPublish"]):yt({type:Q==null?void 0:Q.type,weak:f.weak},["_strengthenOnPublish"])].filter(yo);c(le),v([])},[c,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{c(Je())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),D=LA(g==null?void 0:g._ref,C),I=h.useRef(null),{push:P}=qo(),$=tT(K=>K.pipe(ht(Ecn),rt(Q=>Wr(ve({isLoading:!0}),d(Q).pipe(ce(le=>({hits:le,searchString:Q,isLoading:!1})),Rn(le=>(P({title:"Reference search failed",description:le.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(le),ve({hits:[]})))))),sa((Q,le)=>({...Q,...le}),Bae),Cn(S)),[m,d,P]),R=h.useCallback(()=>{$("")},[$]),z=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),B=h.useCallback(K=>{var Q,le;const me=((Q=K.hit.draft)==null?void 0:Q._id)||((le=K.hit.published)==null?void 0:le._id)||K.value;return l.jsx(_cn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(icn,{getReferenceInfo:C,id:me,renderPreview:y,type:f})})})},[f,C,y]),H=h.useCallback(()=>{var K,Q,le,me;return((Q=(K=D.result)==null?void 0:K.preview.draft)==null?void 0:Q.title)||((me=(le=D.result)==null?void 0:le.preview.published)==null?void 0:me.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),W=h.useCallback(()=>v(["_ref"]),[v]),V=h.useCallback(K=>{var Q;(Q=I.current)!=null&&Q.contains(K.relatedTarget)||e.elementProps.onBlur(K)},[e.elementProps]),G=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Ni((w==null?void 0:w[0])==="_ref",(K,Q)=>{var le;!K&&Q&&((le=b.ref.current)==null||le.focus())});const te=h.useMemo(()=>_.hits.map(K=>({value:K.id,hit:K})),[_.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:Y,containerRef:q}=crn(),Z=h.useRef(null),se=h.useRef(null),re=h.useRef(null);return jDe([q,Z,se,re,Y],()=>{N&&T()}),l.jsx(ee,{space:1,"data-testid":"reference-input",ref:Z,children:l.jsxs(ee,{space:2,children:[G?l.jsx(qc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{text:"Clear",onClick:k})}),children:l.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(bcn,{ref:I,children:[l.jsx(pcn,{...b,onFocus:W,onBlur:V,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:te,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:Scn,renderOption:B,renderValue:H,openButton:{onClick:R},portalRef:se,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(ccn,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:z,menuRef:re})]})]})})}async function jcn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=pm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Tcn(e){const t=h.useRef(e);return t.current=e,t}function Acn(e){var t,n,r,o;const i=Ln(),s=i.getClient(cn),a=jn(),c=zi(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=vIe(),g=XB([]),y=Tcn(g),x=(t=y.current)==null?void 0:t._type,b=a.get(x),w=h.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>Er(jcn(d.options,y.current,u,_)).pipe(dt(P=>{let{filter:$,params:R}=P;return kDe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),Rn(P=>{var $;const R=P.details&&P.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(P.message='Invalid reference filter, please check the custom "filter" option'),Yu(P)})),[y,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,$){return f?l.jsx(f,{...P,ref:$,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=Si(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(P=>{var $;return P.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var P,$,R;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(yo),[C,v,d.to]),D=h.useCallback((I,P)=>EDe(c,I,P),[c]);return l.jsx(kcn,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Dcn(e){return SF(e.schemaType)}function Icn(e){return d4e(e.schemaType)}function E5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>E5(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>E5(e[o],t[o]))}function Nae(e,t){return e?e.some(n=>E5(n,t)):!1}function Pcn(e,t){return e.of.find(n=>n.name===Ds(t))}const Ocn=[];function Rcn(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var y;return(((y=o.options)==null?void 0:y.list)||Ocn).map((x,b)=>Dl(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((y,x)=>{if(!y&&Dl(x)){i(Je([{_key:x._key}]));return}const b=p.filter(w=>E5(x,w)?y:Nae(a,w));i(b.length>0?yt(b):Je())},[i,p,a]),v=h.useCallback(y=>{s([y])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(hi,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(en,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((y,x)=>{const b=Pcn(o,y),w=Nae(a,y),C=!b;return l.jsxs(U,{align:"center",as:"label",muted:C,children:[l.jsx(Yj,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,y),onFocus:()=>v(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):l.jsx(X,{tone:"caution",radius:2,children:l.jsx(ePe,{value:y,onFocus:()=>v(x)})})})]},x)})})})}var zae=Object.freeze,$cn=Object.defineProperty,Mcn=(e,t)=>zae($cn(e,"raw",{value:zae(t||e.slice())})),Vae;const Fcn=O(X)(Vae||(Vae=Mcn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function KPe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,c]=ne.useState(null);dr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ds(t);return l.jsx(tn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Fcn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(ee,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(lj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(ee,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(X,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(X,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(jl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Lcn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Bcn(e){return e.map(t=>Lcn(t)?{title:t.title||hn(String(t.value)),value:t.value}:{title:hn(String(t)),value:t})}function Ncn(e,t){return e.of.find(n=>n.name===Ds(t.value))}function zcn(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Bcn(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const y=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(y.length>0?yt(y):Je())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(hi,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(en,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const y=Ncn(r,v),x=i.includes(v.value),b=!y;return l.jsxs(U,{align:"center",as:"label",muted:b,children:[l.jsx(Yj,{disabled:b,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(L,{children:v.title})}),!y&&l.jsx(KPe,{value:v,onFocus:()=>u(g)})]},g)})})})}function ZPe(e){return Dcn(e)?l.jsx(Rcn,{...e}):l.jsx(zcn,{...e})}var Hae=Object.freeze,Vcn=Object.defineProperty,YA=(e,t)=>Hae(Vcn(e,"raw",{value:Hae(t||e.slice())})),Uae,Wae,Yae,qae;const Hcn=O.div(Uae||(Uae=YA([`
  position: relative;
`]))),XPe=O.div(Wae||(Wae=YA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),QPe=O(X)(Yae||(Yae=YA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),Ucn=O(U)(qae||(qae=YA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),QPe,XPe),Wcn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function Ycn(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=Wcn();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(L,{weight:"semibold",children:v})},[i,n]);return l.jsxs(Hcn,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(Ucn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(QPe,{radius:1}),l.jsx(XPe,{children:f})]}),t]})}var Gae=Object.freeze,qcn=Object.defineProperty,Gcn=(e,t)=>Gae(qcn(e,"raw",{value:Gae(t||e.slice())})),Kae;const Kcn=O.span(Kae||(Kae=Gcn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function Zcn(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Hin[t],a=i.component,c=h.useCallback(u=>l.jsx(Kcn,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const Xcn={portal:!0,constrainSize:!0},JPe=h.forwardRef(function(t,n){const{disableRestoreFocusOnClose:r,menuButton:o,menuButtonProps:i,menuOptions:s,onMenuClose:a}=t;return l.jsx(nn,{__unstable_disableRestoreFocusOnClose:r,id:"menu-button",ref:n,onClose:a,popover:Xcn,...i,button:o,menu:l.jsx(Nt,{children:s.map((c,u)=>{const{collapsedProps:d={},expandedProps:f={},tooltipProps:p={},tooltipText:m,dividerBefore:v,fontSize:g,padding:y,text:x,icon:b,selected:w,...C}=c.props;return l.jsxs(ne.Fragment,{children:[v&&u!==0&&l.jsx(Or,{}),l.jsx(Ne,{text:x,icon:b,pressed:w,...C})]},c.key)})})})});function Qcn(e){const{onIntersectionChange:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(U,{ref:s,...o,children:n})}var Zae=Object.freeze,Jcn=Object.defineProperty,eun=(e,t)=>Zae(Jcn(e,"raw",{value:Zae(t||e.slice())})),Xae;const tun=O.div(Xae||(Xae=eun([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function eOe(e){const{hidden:t,...n}=e;return l.jsx(tun,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Qae=Object.freeze,nun=Object.defineProperty,xC=(e,t)=>Qae(nun(e,"raw",{value:Qae(t||e.slice())})),Jae,ele,tle,nle,rle;const ole=3,run=de(Jae||(Jae=xC([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),oun=O(U)(ele||(ele=xC([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),ole,ole),iun=O(U)(tle||(tle=xC([`
  border-radius: inherit;
  position: relative;
`]))),tOe=O(U)(nle||(nle=xC([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),sun=O(Qcn)(rle||(rle=xC([`
  `,`
`])),run);function aun(e){return!!e}const TN=h.forwardRef(function(t,n){const{children:r,collapsed:o,disableRestoreFocusOnClose:i,onMenuClose:s,menuButtonProps:a,...c}=t,u=h.useMemo(()=>h.Children.toArray(r).filter(aun),[r]),d=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(oe,{icon:Po,mode:"bleed"}),[a]);return o?l.jsx(JPe,{ref:n,disableRestoreFocusOnClose:i,menuButton:d,menuButtonProps:a,menuOptions:u,onMenuClose:s}):l.jsx(lun,{...c,ref:n,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:u,onMenuClose:s})}),lun=h.forwardRef(function(t,n){const{collapseText:r=!0,disableRestoreFocusOnClose:o,gap:i,menuOptions:s,menuButtonProps:a,onMenuClose:c,...u}=t,[d,f]=h.useState(null),[p,m]=h.useState({}),[v,g]=h.useState({}),y=h.useMemo(()=>({root:d,threshold:.99,rootMargin:"2px"}),[d]),x=h.useMemo(()=>s.map(A=>A.key),[s]),b=h.useMemo(()=>[...Xp(x,Object.keys(p)),...Xp(x,Object.keys(v))],[x,p,v]),w=h.useMemo(()=>s.filter(A=>{const D=p[A.key];return D&&!D.intersects}),[p,s]),C=h.useCallback((A,D)=>{m(I=>{const P=D.key;if(P===null)throw new Error("Expected element to have a non-null key");const $={intersects:A.isIntersecting,element:D},R=I[P];return!R||R.intersects!==$.intersects?{...I,[P]:$}:I})},[]),_=h.useCallback((A,D)=>{g(I=>{const P=D.key;if(P===null)throw new Error("Expected child element to have a non-null key");const $=I[P],R={intersects:A.isIntersecting,element:D};return($==null?void 0:$.intersects)===R.intersects?I:{...I,[P]:R}})},[]),S=h.useMemo(()=>s.map(A=>{const{collapsedProps:D}=A.props,I=D,P=r?void 0:A.props.text;return h.cloneElement(A,{...I,text:P})}),[s,r]),E=h.useMemo(()=>s.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!1}),[s,v]),k=w.length>0?S.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!0}):s,T=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(oe,{icon:Po,mode:"bleed"}),[a]);return l.jsxs(oun,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...u,children:[l.jsxs(iun,{direction:"column",flex:1,justify:"center",ref:f,children:[l.jsx(tOe,{gap:i,children:b.length===0&&k.map((A,D)=>{const{dividerBefore:I,tooltipText:P="",tooltipProps:$={}}=A.props,R=!A.key||!(A.key in p)||E.includes(A);return l.jsxs(h.Fragment,{children:[I&&D!==0&&l.jsx(eOe,{hidden:R}),l.jsx(it,{portal:!0,disabled:!P,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:P})}),...$,children:l.jsx(U,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})]},A.key)})}),l.jsx(ile,{gap:i,elements:s,intersectionOptions:y,onIntersectionChange:C}),l.jsx(ile,{gap:i,elements:S,intersectionOptions:y,onIntersectionChange:_})]}),E.length>0&&l.jsx(U,{marginLeft:i,children:l.jsx(JPe,{disableRestoreFocusOnClose:o,menuButton:T,menuButtonProps:a,menuOptions:E,onMenuClose:c})})]})}),ile=h.memo(function(t){const{elements:n,gap:r,intersectionOptions:o,onIntersectionChange:i}=t;return l.jsx(tOe,{"data-hidden":!0,"aria-hidden":"true",gap:r,overflow:"hidden",children:n.map((s,a)=>{const{dividerBefore:c}=s.props;return l.jsxs(h.Fragment,{children:[c&&a!==0&&l.jsx(eOe,{hidden:!0}),l.jsx(sun,{options:o,onIntersectionChange:u=>i(u[0],s),children:l.jsx(U,{children:h.cloneElement(s,{disabled:!0,"aria-hidden":!0})})})]},s.key)})})}),AN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(oe,{"data-ui":"CollapseMenuButton",...c,ref:n})});var sle=Object.freeze,cun=Object.defineProperty,uun=(e,t)=>sle(cun(e,"raw",{value:sle(t||e.slice())})),ale;const dun=O.div(ale||(ale=uun([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function fun(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(dun,{style:r})}function hun(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{we.toggleMark(e,o.value),we.focus(e)},hotkeys:s,title:o.title}})}function pun(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{we.toggleList(e,r.value)},title:r.title}))}function mun(e){return Yn(e,"icon")||Yn(e,"type.icon")||Yn(e,"type.to.icon")||Yn(e,"type.to[0].icon")}function gun(e,t,n){const r=e.schemaTypes,o=we.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:mun(s),key:s.name,handle:a=>{a?(we.removeAnnotation(e,s),we.focus(e)):n(s)},title:s.title||Rm(s.name)}))}function vun(e,t,n,r){return[{name:"format",actions:hun(e,t,r)},{name:"list",actions:pun(e,t)},{name:"annotation",actions:gun(e,t,n)}]}function yun(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function lle(e,t){const n=Yn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function bun(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:lle(a,D0e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:lle(a,U0e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const xun={link:$f},wun={strong:I0e,em:q0e,"strike-through":r1e,underline:o1e,code:R0e},Cun={number:Z0e,bullet:Ky};function _un(e,t){return e.icon?typeof e.icon=="string"?l.jsx(fun,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?xun[e.key]||jl:e.type==="listStyle"?Cun[e.key]||jl:wun[e.key]||jl}function qA(){const e=xo(),t=G0();return h.useMemo(()=>we.focusBlock(e),[e,t])}function Sun(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=xo(),s=h.useCallback(async a=>{const c=await r(a),u=we.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?vun(i,o,s,t):[],[o,i,s,t])}function Eun(e){let{actions:t}=e;const n=xo(),r=G0();return ti(h.useMemo(()=>{const o=we.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?we.hasListStyle(n,i.key):we.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function kun(e){let{items:t}=e;const n=xo(),r=qA(),o=G0();return ti(h.useMemo(()=>t.filter(i=>we.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const jun=h.memo(TN),Tun={constrainSize:!0,portal:!0},Aun={padding:2,mode:"bleed"},Dun=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=qA(),a=xo(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,w)=>w===0?{...b,firstInGroup:!0}:b)),[]),[r]),p=Eun({actions:f}),m=h.useCallback(()=>{we.focus(a)},[a]),v=h.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=p.includes(y.key);return h.createElement(AN,{"data-testid":"action-button-".concat(y.key),disabled:d||x,...Aun,dividerBefore:y.firstInGroup,icon:_un(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(oe,{icon:Po,mode:"bleed",padding:2,disabled:d}),popover:Tun}),[d]);return l.jsx(jun,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var cle=Object.freeze,Iun=Object.defineProperty,nOe=(e,t)=>cle(Iun(e,"raw",{value:cle(t||e.slice())})),ule,dle;const Pun=h.memo(nn),Oun=O(Ne)(ule||(ule=nOe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Run=O(oe)(dle||(dle=nOe([`
  width: 100%;
`]))),$un={constrainSize:!0,placement:"bottom-start",portal:"default"},rOe={h1:e=>l.jsx(hPe,{children:e}),h2:e=>l.jsx(pPe,{children:e}),h3:e=>l.jsx(mPe,{children:e}),h4:e=>l.jsx(gPe,{children:e}),h5:e=>l.jsx(vPe,{children:e}),h6:e=>l.jsx(yPe,{children:e}),normal:e=>l.jsx(CN,{children:e}),blockquote:e=>l.jsx(bPe,{"data-option":"blockquote",children:e})},Mun=Object.keys(rOe),Fun=e=>e.preventDefault(),YO={key:"style-none",style:"",title:"No style"},Lun=h.memo(function(t){const{disabled:n,items:r}=t,o=xo(),i=qA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=kun({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let y=r;return g.length===0&&y.length>1&&(y=y.concat([YO]),g.push(YO)),{activeItems:g,items:y}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:YO.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&(we.toggleBlockStyle(o,g.style),we.focus(o))},[o,i]),p=h.useCallback((g,y)=>{const x=Mun.includes(g),b=rOe[g];return x?b(y):l.jsx(L,{children:y})},[]),m=h.useMemo(()=>l.jsx(Run,{disabled:s,iconRight:Hl,mode:"bleed",onClick:Fun,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Nt,{disabled:s,children:u.map(g=>l.jsx(Oun,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(Pun,{popover:$un,id:"block-style-select",button:m,menu:v})}),Bun=h.memo(TN),Nun={constrainSize:!0,portal:!0},zun=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=qA(),a=xo(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{we.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||tEe(p.type.name);return l.jsx(AN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(oe,{icon:Do,mode:"bleed",padding:2,disabled:n}),popover:Nun}),[n]);return l.jsx(Bun,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var fle=Object.freeze,Vun=Object.defineProperty,m0=(e,t)=>fle(Vun(e,"raw",{value:fle(t||e.slice())})),hle,ple,mle,gle,vle,yle;const Hun=O(U)(hle||(hle=m0([`
  width: 100%;
`]))),Uun=O(M)(ple||(ple=m0([`
  width: 8em;
`]))),Wun=O(U)(mle||(mle=m0([`
  border-right: 1px solid var(--card-border-color);
`]))),Yun=O(M)(vle||(vle=m0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&de(gle||(gle=m0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),qun=O(M)(yle||(yle=m0([`
  border-left: 1px solid var(--card-border-color);
`]))),Gun=300,Kun=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Zun=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=oh(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;tDe({rootElement:f});const y=h.useCallback(x=>{x.preventDefault()},[]);return l.jsxs(Hun,{align:"center",ref:p,onMouseDown:y,children:[g&&l.jsx(Wun,{flex:v?1:void 0,children:l.jsx(Uun,{padding:s?2:1,children:l.jsx(Lun,{disabled:o,items:r})})}),l.jsxs(U,{flex:1,children:[u&&l.jsx(Yun,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(Dun,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(zun,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(qun,{padding:s?2:1,children:l.jsx(it,{content:l.jsxs(U,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx(W6,{keys:["".concat(Kun?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(oe,{padding:2,icon:s?$0e:z0e,mode:"bleed",onClick:a})})})]})});function Xun(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=xo(),a=G0(),c=nz(),u=r||!a,{push:d}=qo(),f=h.useCallback(x=>{let b=!1;const w=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},Gun);return c(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const b=await f(x),w=we.insertBlock(s,x,b);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const b=await f(x),w=we.insertChild(s,x,b);w&&o(w)},[s,o,f]),v=Sun({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>yun(s.schemaTypes),[s]),y=h.useMemo(()=>bun(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(Zun,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:i})}var ble=Object.freeze,Qun=Object.defineProperty,Tf=(e,t)=>ble(Qun(e,"raw",{value:ble(t||e.slice())})),xle,wle,Cle,_le,Sle,Ele,kle,jle;const Jun=O(X)(xle||(xle=Tf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),edn=O(X)(wle||(wle=Tf([`
  z-index: 10;
  line-height: 0;
`]))),tdn=O(X)(Cle||(Cle=Tf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),ndn=O(wA)(_le||(_le=Tf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),rdn=O(eo)(Sle||(Sle=Tf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),odn=O(X)(jle||(jle=Tf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),uy.map(e=>np(e)).join(" "),uy.map(e=>de(Ele||(Ele=Tf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,np(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},uy.map(e=>np(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},uy.map(e=>np(e)).join(" "),uy.slice(1).map(e=>de(kle||(kle=Tf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,np(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function idn(){const e=xo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function sdn(e){return h.useMemo(()=>(t,n)=>{if(we.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;r0(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const adn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&zO[t.style]?zO[t.style]:zO[0])||CN,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(_d,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},Tle=e=>l.jsx(l.Fragment,{children:e.children}),ldn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:Tle,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(Tle,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},cdn={outline:"none"},udn=e=>l.jsx(Zcn,{...e}),ddn=e=>l.jsx(adn,{...e}),fdn=e=>l.jsx(ldn,{...e});function hdn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:y,ariaDescribedBy:x}=e,{isTopLayer:b}=pa(),w=h.useRef(null),{element:C}=Sm();Ps(h.useCallback(T=>{!b||!o||T.key==="Escape"&&c()},[c,o,b]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=idn(),E=sdn(v),j=h.useMemo(()=>l.jsx(F5e,{"aria-describedby":x,hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:udn,renderListItem:fdn,renderPlaceholder:_,renderStyle:ddn,scrollSelectionIntoView:E,selection:n,spellCheck:S,style:cdn}),[x,t,n,i,a,f,p,m,_,E,S]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(Jun,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(edn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(Xun,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:c,readOnly:d})}),l.jsxs(tdn,{flex:1,tone:d?"transparent":"default",children:[l.jsx(ndn,{ref:y,children:l.jsx(rdn,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(odn,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Uu,{element:o?v:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var Ale=Object.freeze,pdn=Object.defineProperty,oOe=(e,t)=>Ale(pdn(e,"raw",{value:Ale(t||e.slice())})),Dle,Ile;const mdn=O.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return de(Dle||(Dle=oOe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),SN(s),r.border.width,EN({base:o,border:s,focusRing:n}))}),gdn=O(is)(Ile||(Ile=oOe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function vdn(e){const t=xo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function ydn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=bin(),i=xo(),s=G0();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(r0(n,{scrollMode:"if-needed",block:"start",inline:"start"}),r0(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&wn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&Dl(t[2])?t[2]._key:void 0,y=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=y&&y._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,b=m&&(t.length===3&&t[1]==="children"||x);let w=[];b?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(we.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&we.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function bdn(e){const{changed:t,focused:n,focusPath:r=fn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:y,readOnly:x,renderAnnotation:b,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=xo(),I=Sm().element,[P,$]=h.useState(null),[R,z]=h.useState(null),B=h.useCallback(()=>{g()},[g]),H=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),W=vdn(H),V=A&&C?C:void 0,G=A&&_?_:void 0,[te,N]=h.useState(null),Y=h.useCallback(_e=>{const{children:he,focused:be,path:Le,selected:Re,schemaType:lt,value:ot}=_e;return l.jsx(osn,{floatingBoundary:I,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(Le),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:V,renderCustomMarkers:G,renderPreview:T,renderBlock:w,schemaType:lt,selected:Re,value:ot,children:he})},[V,G,R,a,d,f,p,v,I,y,x,b,w,S,E,j,k,T]),q=h.useCallback(_e=>{const{focused:he,path:be,selected:Le,schemaType:Re,value:lt}=_e;return l.jsx(Vin,{floatingBoundary:I,focused:he,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(be),readOnly:x,referenceBoundary:R,relativePath:be,renderAnnotation:b,renderBlock:w,renderBlockActions:V,renderCustomMarkers:G,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:Re,selected:Le,value:lt})},[I,R,a,d,f,p,v,y,x,b,w,V,G,S,E,j,k,T]),Z=h.useCallback(_e=>{const{value:he}=_e;return he._type===D.schemaTypes.block.name?Y(_e):q(_e)},[D.schemaTypes.block.name,q,Y]),se=h.useCallback(_e=>{const{children:he,focused:be,path:Le,selected:Re,schemaType:lt,value:ot}=_e;return ot._type===D.schemaTypes.span.name?he:l.jsx(msn,{floatingBoundary:I,focused:be,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat(Le),readOnly:x,referenceBoundary:R,relativePath:Le,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:lt,selected:Re,value:ot})},[I,R,D.schemaTypes.span.name,d,f,v,y,x,b,w,_,S,E,j,k,T]),re=h.useCallback(_e=>{const{children:he,focused:be,path:Le,selected:Re,schemaType:lt,value:ot}=_e;return l.jsx(Ssn,{editorNodeFocused:be,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat(Le),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:lt,selected:Re,value:ot,children:he})},[I,R,n,d,f,v,y,x,b,w,_,S,E,j,k,T]),K=e.elementProps["aria-describedby"],Q=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),le=h.useMemo(()=>l.jsx(hdn,{ariaDescribedBy:K,initialSelection:Q,hotkeys:W,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:B,path:y,readOnly:x,renderAnnotation:re,renderBlock:Z,renderChild:se,setPortalElement:N,scrollElement:R,setScrollElement:z}),[K,W,re,Z,se,B,Q,s,a,u,f,m,y,x,R]),me=Em(),ae=h.useMemo(()=>({collapsed:P,default:me.element,editor:te,expanded:me.element}),[me.element,te,P]);ydn({focusPath:r,boundaryElement:R,onItemClose:d});const Ce=n||o;return l.jsx(jm,{__unstable_elements:ae,element:me.element,children:l.jsx(Ycn,{onActivate:c,isOverlayActive:!s,children:l.jsx(hi,{disabled:a,hasFocus:!!n,isChanged:t,path:y,children:l.jsxs(mdn,{"data-focused":Ce?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:$,children:l.jsx(km,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(gdn,{children:le}):le})}),l.jsx("div",{"data-border":""})]})})})})}function xdn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(qc,{suffix:l.jsxs(ee,{padding:2,children:[r.action&&l.jsxs(en,{columns:[1,2],gap:1,children:[l.jsx(oe,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(oe,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(ee,{space:3,children:[l.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(X,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(lr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function wdn(e){const{path:t}=e,{patchChannel:n}=Cd().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>I4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:Sdn(t,a),snapshot:bt(s)?Edn(s,t):{},patches:c})}),[t,n])}}function Cdn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?qu(e,t):e===t}function I4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Cdn(t[n],e[n]))return!1;return!0}function _dn(e,t){return e.length===0||I4(t,e)&&!I4(e,t)}function Sdn(e,t){return t.some(n=>_dn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function Edn(e,t){return t.reduce((n,r)=>typeof r=="object"?xTe(n,r):Yn(n,r),e)}function kdn(e){const{elementProps:t,hotkeys:n,markers:r=fn,onChange:o,onCopy:i,onInsert:s,onItemRemove:a,onPaste:c,onPathFocus:u,path:d,readOnly:f,renderBlockActions:p,renderCustomMarkers:m,schemaType:v,value:g}=e,{onBlur:y}=t;h.useImperativeHandle(t.ref,()=>({focus(){b.current&&we.focus(b.current)}}));const{subscribe:x}=wdn({path:d}),b=h.useRef(null),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=h.useState(!1),[k,T]=h.useState(!1),[A,D]=h.useState(!1),[I,P]=h.useState(!1),$=qo(),R=h.useMemo(()=>new _r,[]),z=h.useMemo(()=>R.asObservable(),[R]),B=h.useRef(null),H=h.useCallback(()=>{b.current&&j(Y=>!Y)},[]);h.useEffect(()=>{_&&g!==_.value&&S(null)},[_,g]),h.useEffect(()=>x(Y=>{let{patches:q,snapshot:Z}=Y;R.next({patches:q,snapshot:Z})}),[R,x]);const W=xin(e);h.useEffect(()=>{I&&T(!0)},[I]);const V=h.useCallback(Y=>{switch(Y.type){case"mutation":o(Ple(Y.patches));break;case"connection":Y.value==="offline"?D(!0):Y.value==="online"&&D(!1);break;case"selection":h.startTransition(()=>{Y.selection&&u(Y.selection.focus.path)});break;case"focus":T(!0),P(!0);break;case"blur":y(Y.event),P(!1);break;case"undo":case"redo":o(Ple(Y.patches));break;case"invalidValue":S(Y);break;case"error":$.push({status:Y.level,description:Y.description});break}},[y,o,u,$]);h.useEffect(()=>{C(!1)},[g]);const G=h.useCallback(()=>{C(!0)},[]),te=h.useMemo(()=>_&&_.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(xdn,{onChange:V,onIgnore:G,resolution:_.resolution,readOnly:A||f})}):null,[V,G,_,A,f]),N=h.useCallback(()=>{k||(T(!0),b.current&&we.focus(b.current))},[k]);return l.jsxs(M,{ref:B,children:[!w&&te,(!_||w)&&l.jsx(vin,{markers:r,children:l.jsx(yin,{memberItems:W,children:l.jsx(we,{ref:b,patches$:z,onChange:V,maxBlocks:void 0,readOnly:A||f,schemaType:v,value:g,children:l.jsx(bdn,{...e,hasFocusWithin:I,hotkeys:n,isActive:k,isFullscreen:E,onActivate:N,onItemRemove:a,onCopy:i,onInsert:s,onPaste:c,onToggleFullscreen:H,renderBlockActions:p,renderCustomMarkers:m})})})})]})}function Ple(e){return e.map(t=>({...t,patchType:am}))}function P4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function jdn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&P4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Ole=Object.freeze,Tdn=Object.defineProperty,iOe=(e,t)=>Ole(Tdn(e,"raw",{value:Ole(t||e.slice())})),Rle,$le;const Adn=O(X)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ge(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:P4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:jdn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:P4({color:i.default.disabled.border,width:r.border.width})}}}),Ddn=O.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ge(o-i.ascenderHeight),paddingRight:ge(o),paddingBottom:ge(o-i.descenderHeight),paddingLeft:ge(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Idn=O(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de(Rle||(Rle=iOe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Pdn=O(M)($le||($le=iOe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),sOe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=fr(t),y=h.useRef(null),x=h.useCallback(E=>{if(Nc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),b=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),l.jsxs(Adn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[p&&l.jsx(Idn,{hidden:!!(d||a.length),padding:3,children:l.jsx(L,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((E,j)=>l.jsx(Pdn,{children:l.jsx(Odn,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(Ddn,{...c,disabled:!p,onBlur:b,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});sOe.displayName="TagInput";function Odn(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(X,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(oe,{icon:Ii,mode:"bleed",onClick:s,padding:1})})]})})}function Rdn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?Je():yt(u.map(d=>d.value)))},[t]);return l.jsx(hi,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(sOe,{onChange:c,readOnly:n,value:a,...o})})}const $dn={portal:!0,tone:"default"};function aOe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx($A,{dragHandle:n,tone:"caution",menu:l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Po}),id:"".concat(o,"-menuButton"),menu:l.jsx(Nt,{children:l.jsx(Ne,{text:"Remove",tone:"critical",icon:vo,onClick:r})}),popover:$dn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(KPe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function Mdn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(Kt,{space:2,children:[l.jsx(L,{children:l.jsx(pj,{})}),l.jsxs(L,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(Kt,{space:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(Of,{})}),l.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(Kt,{space:2,children:[l.jsx(L,{children:l.jsx(Of,{})}),l.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var Mle=Object.freeze,Fdn=Object.defineProperty,Ldn=(e,t)=>Mle(Fdn(e,"raw",{value:Mle(t||e.slice())})),Fle;const Bdn=O(is)(Fle||(Fle=Ldn([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Lle=Object.freeze,Ndn=Object.defineProperty,zdn=(e,t)=>Lle(Ndn(e,"raw",{value:Lle(t||e.slice())})),Ble;const Vdn=O.div(Ble||(Ble=zdn([`
  position: relative;
`])));function Hdn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function Udn(e){const t=EPe(e);return ne.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=qo(),f=ne.useCallback((y,x)=>{const{type:b,uploader:w}=x;a==null||a({file:y,schemaType:b,uploader:w})},[a]),p=ne.useCallback(y=>{if(!s)return;const x=y.map(C=>({file:C,uploaderCandidates:Hdn(c,s,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(U,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(L,{weight:"semibold",children:_.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}b.forEach(C=>{f(C.file,Im(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,v]=ne.useState([]),g=ne.useCallback(()=>v([]),[]);return l.jsx(Vdn,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(Bdn,{zOffset:10,children:l.jsx(Mdn,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const DN=kPe(Udn(X));function Wdn(e,t,n){return Ydn(e,t,r=>r===n)}function Ydn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const qdn={portal:!0,tone:"default"},Gdn=ne.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,y=h.useCallback((C,_)=>{s({position:C,items:[vN(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),b=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Po}),id:"".concat(u,"-menuButton"),popover:qdn,menu:l.jsxs(Nt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:vo,onClick:a}),l.jsx(Ne,{text:"Duplicate",icon:$u,onClick:x}),l.jsx(FA,{types:i,onInsert:y})]})});return l.jsx($A,{tone:b,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(vC,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(c1,{validation:d})}):null,children:l.jsx(U,{align:m?"flex-end":"center",ref:n,children:l.jsx(U,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function Kdn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ne.useCallback(d=>{i(o(d))},[o,i]),c=ne.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(en,{children:l.jsx(oe,{icon:Do,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(en,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(oe,{icon:Do,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(nn,{button:l.jsx(oe,{icon:Do,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Nt,{children:t.of.map((d,f)=>{var p,m;const v=Ru(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(Ne,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class lOe extends ne.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(Gdn,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=Wdn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=Kdn,path:d,changed:f}=this.props,p=!r&&Yn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(ee,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(DN,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(ee,{space:1,children:m.length===0?l.jsx(X,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(X,{padding:1,border:!0,children:l.jsx(lN,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:y,id:x}=v;return l.jsxs(cN,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&l.jsx(hi,{path:y.item.path,isChanged:f,hasFocus:!1,children:l.jsx(Ton,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&l.jsx(aOe,{sortable:p,member:y,onRemove:()=>s(g)})]},y.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:vN,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Nle=Object.freeze,Zdn=Object.defineProperty,GA=(e,t)=>Nle(Zdn(e,"raw",{value:Nle(t||e.slice())})),zle,Vle,Hle,Ule;const Xdn=O(U)(zle||(zle=GA([`
  min-height: 35px;
`]))),Qdn=O(U)(Vle||(Vle=GA([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),O4=O(X)(Hle||(Hle=GA([`
  position: absolute;
  top: 0;
  left: 0;
`]))),Jdn=O(X)(Ule||(Ule=GA([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),O4,O4,aN);function cOe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(Jdn,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(O4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(DIe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(Qdn,{align:"center",marginX:1,children:o}),l.jsxs(Xdn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(U,{children:t}),l.jsx(M,{children:c}),a]})]})}var Wle=Object.freeze,efn=Object.defineProperty,tfn=(e,t)=>Wle(efn(e,"raw",{value:Wle(t||e.slice())})),Yle;const nfn=O(X)(Yle||(Yle=tfn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function rfn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const ofn={portal:!0,tone:"default"},ifn={position:"absolute",top:0,left:0,bottom:0,right:0};function sfn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);OA(j,m),Ni(w,(G,te)=>{var N;!G&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Ux()}],position:"after"})},[v,p]),A=h.useCallback((G,te)=>{v({items:[d1(te)],position:G})},[v]),D=a1(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(vC,{presence:D,maxAvatars:1}),[D]),P=tN(u,!0),$=h.useMemo(()=>P.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(c1,{validation:P,__unstable_showSummary:!0})}),[P]),R=P.some(G=>G.level==="error"),z=P.some(G=>G.level==="warning"),B=h.useMemo(()=>d?null:l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Po}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Nt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:vo,onClick:f}),l.jsx(Ne,{text:"Duplicate",icon:$u,onClick:T}),l.jsx(FA,{types:E,onInsert:A})]}),popover:ofn}),[T,A,f,E,e.inputId,d]),H=rfn({readOnly:d,hasErrors:R,hasWarnings:z}),W=l.jsx(cOe,{menu:B,presence:I,validation:$,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(nfn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&l.jsx(X,{as:U,style:ifn,children:l.jsxs(U,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(hr,{muted:!0})}),l.jsx(L,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),V=Op(a);return l.jsxs(l.Fragment,{children:[l.jsx(hi,{path:u,isChanged:b,hasFocus:!!w,children:W}),m&&l.jsx(rPe,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var qle=Object.freeze,afn=Object.defineProperty,lfn=(e,t)=>qle(afn(e,"raw",{value:qle(t||e.slice())})),Gle;const cfn=O(X)(Gle||(Gle=lfn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function ufn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,c]=ne.useState(null);dr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ds(t);return l.jsx(tn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(cfn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(ee,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(lj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(ee,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(X,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(X,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(ee,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(L,{align:"center",size:4,children:l.jsx(jl,{})})}),l.jsxs(L,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const dfn={portal:!0,tone:"default"};function ffn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=ol(),i=h.useCallback(()=>{o(ut.from([Je([{_key:t.key}])]))},[o,t.key]);return l.jsx(cOe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Po}),id:"".concat(r,"-menuButton"),menu:l.jsx(Nt,{children:l.jsx(Ne,{text:"Remove",tone:"critical",icon:vo,onClick:i})}),popover:dfn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(ufn,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const hfn=[];function pfn(e){var t;const{arrayFunctions:n=QB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:y,schemaType:x,value:b=hfn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(sfn,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(ee,{space:3,children:[l.jsx(DN,{types:x.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsxs(ee,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(X,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(X,{border:!0,radius:1,children:l.jsx(lN,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(cN,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(gN,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(ffn,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:d1,readOnly:u,schemaType:x,value:b})]})}function mfn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const gfn=[];function vfn(e){var t;const{arrayFunctions:n=QB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:w,value:C=gfn}=e,[_,S]=h.useState(null),{space:E}=Os().sanity,j=h.useCallback(Y=>{s({items:[Y],position:"before",referenceItem:0})},[s]),k=h.useCallback(Y=>{s({items:[Y],position:"after",referenceItem:-1})},[s]),T=mfn(h.useMemo(()=>o.map(Y=>Y.key),[o]),qu),{scrollElement:A,containerElement:D}=Lon(),I=h.useRef(null),P=h.useMemo(()=>$r(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(Y=>{const q={...Y};if(_!==null&&(q.startIndex=Math.min(Y.startIndex,_),q.endIndex=Math.max(Y.endIndex,_)),P){const Z=T.findIndex(se=>se===P);Z!==-1&&(q.startIndex=Math.min(q.startIndex,Z),q.endIndex=Math.max(q.endIndex,Z))}return W_e(q)},[_,P,T]),R=h.useCallback((Y,q)=>{if(!Y.scrollElement)return;const Z=Y.scrollElement,se=()=>{var re,K,Q,le;const me=(K=(re=D.current)==null?void 0:re.getBoundingClientRect().top)!=null?K:0,ae=(le=(Q=I.current)==null?void 0:Q.getBoundingClientRect().top)!=null?le:0,Ce=Math.floor(ae-me);q(Z.scrollTop-Ce)};return se(),Y.scrollElement.addEventListener("scroll",se,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",se)}},[D]),z=h.useCallback(()=>53,[]),B=G_e({count:o.length,estimateSize:z,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(Y=>T[Y],[T]),scrollToFn:(Y,q,Z)=>{Y!==Z.scrollOffset&&Y_e(Y,q,Z)}}),H=B.getVirtualItems(),W=h.useCallback(Y=>{var q,Z;const{active:se}=Y;S((Z=(q=se.data.current)==null?void 0:q.sortable)==null?void 0:Z.index)},[]),V=h.useCallback(()=>{S(null)},[]),G=((t=w.options)==null?void 0:t.sortable)!==!1,te=1,N=1;return l.jsxs(ee,{space:3,ref:I,children:[l.jsx(DN,{types:w.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsx(ee,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(X,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(X,{border:!0,radius:1,style:{height:"".concat(B.getTotalSize()+H.length*E[te]+E[N],"px"),width:"100%",position:"relative"},children:l.jsx(lN,{axis:"y",gap:te,paddingY:N,items:T,onItemMove:a,onItemMoveStart:W,onItemMoveEnd:V,sortable:G,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(Y=>{const q=o[Y.index];return l.jsxs(cN,{ref:B.measureElement,sortable:G,"data-index":Y.index,id:q.key,children:[q.kind==="item"&&l.jsx(gN,{member:q,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x}),q.kind==="error"&&l.jsx(aOe,{sortable:G,member:q,onRemove:()=>e.onItemRemove(q.key)})]},Y.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:d1,readOnly:d,schemaType:w,value:C})]})}function uOe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(pfn,{...e}):l.jsx(vfn,{...e})}const yfn=["string","number","boolean"];function bfn(e){return e.of.every(t=>yfn.includes(t.jsonType))}function xfn(e){return e.of.length===1&&_c("string",e.of[0])}function wfn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function Cfn(e){return e.of.some(t=>_c("block",t))}function _fn(e){var t;return!!((t=e.options)!=null&&t.list)}function Sfn(e){return xfn(e)&&wfn(e)?Rdn:_fn(e)?ZPe:bfn(e)?lOe:Cfn(e)?kdn:uOe}function Efn(e){return kF(e)?e:{title:Rm("".concat(e)),value:e}}const Kle={title:"",value:void 0};function dOe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(Efn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),y=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),b=ne.useCallback(_=>{a(ut.from(typeof(_==null?void 0:_.value)>"u"?Je():yt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){b(Kle);return}b(S)},[b,g]),C=v?l.jsx(kfn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:b,readOnly:o}):l.jsx(Hf,{...f,customValidity:i,value:y(m),readOnly:o,onChange:w,children:[Kle,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(hi,{path:c,isChanged:u,hasFocus:!!d,children:C})}const kfn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?Kt:ee;return l.jsx(X,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(jfn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),jfn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(U,{as:"label",align:"center",children:[l.jsx(yJe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function fOe(e){const{validationError:t,elementProps:n}=e;return l.jsx(Fr,{...n,customValidity:t,"data-testid":"string-input"})}function Tfn(e){return oPe(e,"list")?dOe:fOe}const Afn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function US(e,t){for(const n of Afn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function hOe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=US(t,"min"),i=US(t,"integer"),s=US(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Fr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function Dfn(e){return oPe(e,"list")?dOe:hOe}var Zle=Object.freeze,Ifn=Object.defineProperty,pOe=(e,t)=>Zle(Ifn(e,"raw",{value:Zle(t||e.slice())})),Xle,Qle;const Pfn=O(M)(Xle||(Xle=pOe([`
  align-self: center;
`]))),Ofn=O(M)(Qle||(Qle=pOe([`
  line-height: 0;
`])));function Rfn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?Yj:Jwe,p=i?"transparent":void 0;return l.jsx(X,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(U,{children:[l.jsx(Ofn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(jIe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(Pfn,{paddingX:3,paddingY:1,children:l.jsx(Onn,{maxAvatars:1,position:"top"})})]})})}function $fn(e){const{validationError:t,elementProps:n}=e;return l.jsx(Fr,{...n,type:"email",inputMode:"email",customValidity:t})}function Mfn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(Je([a]))},[n]);return l.jsxs(qc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Hm,{marginTop:4,open:Gc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(ee,{as:"ul",space:3,children:t.map(a=>l.jsx(Ffn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Ffn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(X,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(ee,{space:2,children:[l.jsxs(X,{border:!0,radius:1,children:[l.jsx(X,{borderBottom:!0,padding:3,children:l.jsx(lr,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(lr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(oe,{icon:vo,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var Jle=Object.freeze,Lfn=Object.defineProperty,Bfn=(e,t)=>Jle(Lfn(e,"raw",{value:Jle(t||e.slice())})),ece;const Nfn=O(X)(ece||(ece=Bfn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),zfn=h.forwardRef(function(t,n){const{onClick:r}=t,o=ne.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(cx,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Vfn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var tce=Object.freeze,Hfn=Object.defineProperty,Ufn=(e,t)=>tce(Hfn(e,"raw",{value:tce(t||e.slice())})),nce;const Wfn=O(PQe)(nce||(nce=Ufn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),Yfn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(Zj,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(zfn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},qfn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(Hf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(Vfn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},Gfn=ne.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(Wfn,{"data-testid":"field-group-root",children:[l.jsx(Yfn,{...o,disabled:n,onClick:i}),l.jsx(qfn,{...o,disabled:n,onSelect:i})]})}),rce=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:y}=t,{columns:x}=n.options||{},b=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(Mfn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx($on,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(ee,{space:5,children:[r.length>0?l.jsx(Nfn,{$level:m,"data-testid":"field-groups",children:l.jsx(Gfn,{groups:r,inputId:g,onClick:y,shouldAutoFocus:!1})}):null,x?l.jsx(en,{columns:x,gap:4,marginTop:1,children:w()}):w(),b]})});function Kfn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(X,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Zfn=["January","February","March","April","May","June","July","August","September","October","November","December"],Xfn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qfn=$7(0,24),Jfn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ehn=[1,2,3,4,5,6],thn=e=>{const t=QEe(e);return XEe({start:t,end:eke(t)})},nhn=e=>e.map(t=>[t,...ehn.map(n=>Ki(t,n))]),rhn=e=>nhn(thn(e)).map(t=>({number:JEe(t[0]),days:t}));function ohn(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(en,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Xfn.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),rhn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Yd(r,e.focused),s=e.selected&&Yd(r,e.selected),a=Yd(r,new Date),c=e.focused&&ske(r,e.focused);return l.jsx(Kfn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const oce={dayPresets:!1,timePresets:!1},mOe=ne.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=ne.useState(),d=ne.useCallback(v=>{u(v.currentTarget.value)},[]),f=ne.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ne.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ne.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx(Fr,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),ihn=e=>{let{onChange:t,...n}=e;const r=ne.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(mOe,{...n,onChange:r,inputMode:"numeric"})},shn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),ahn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(aTt(lke(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(v9(s,S)),[s,d]),v=h.useCallback(S=>d(lTt(s,S)),[s,d]),g=h.useCallback(S=>{c(mS(DP(S,i.getHours()),i.getMinutes()))},[c,i]),y=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(mS(i,E))},[c,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(DP(i,E))},[c,i]);h.useCallback((S,E)=>{c(DP(mS(i,E),S))},[c,i]);const b=fr(n),w=h.useCallback(()=>{var S,E;(E=(S=b.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[b]),C=h.useCallback(S=>{var E,j;if(Jfn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Ki(s,-7)),S.key==="ArrowDown"&&o(Ki(s,7)),S.key==="ArrowLeft"&&o(Ki(s,-1)),S.key==="ArrowRight"&&o(Ki(s,1)),(j=(E=b.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[b,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[b,w,s]),h.useCallback(()=>g(Ki(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Ki(new Date,1)),[g]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:b,children:[l.jsxs(M,{padding:2,children:[oce.dayPresets,l.jsxs(U,{children:[l.jsx(M,{flex:1,children:l.jsx(lhn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(chn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(ohn,{date:s,focused:s,onSelect:g,selected:i}),shn]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(U,{align:"center",children:[l.jsxs(U,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx(Hf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:Qfn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(L,{children:":"})}),l.jsx(M,{children:l.jsx(Hf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:y,children:$7(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(oe,{text:"Set to current time",mode:"bleed",onClick:_})})]}),oce.timePresets]})]})});function lhn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(U,{flex:1,children:[l.jsx(oe,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:uj,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx(Hf,{radius:0,value:r,onChange:n,children:Zfn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(oe,{"aria-label":"Go to next month",mode:"bleed",icon:Lc,onClick:i,paddingX:2,radius:0})]})}function chn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(U,{children:[l.jsx(oe,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:uj,paddingX:2,radius:0}),l.jsx(ihn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(oe,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Lc,paddingX:2,radius:0})]})}const uhn=ne.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ne.useState(),c=ne.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(ahn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),dhn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=fr(n),m=h.useRef(null),[v,g]=h.useState(!1);dr(()=>g(!1),[d]);const y=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),b=h.useCallback(()=>g(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(oe,{ref:m,icon:Dg,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(mOe,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx(Wu,{zOffset:1e3,children:l.jsx(tn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(lh,{onDeactivation:y,children:l.jsx(uhn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),fhn=new Date,gOe=ne.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,y]=ne.useState(null);h.useEffect(()=>{y(null)},[m]);const x=ne.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&y(null)):j.isValid?s(f(j.date)):y(E)},[a,s,m,g,f]),b=ne.useCallback(S=>{s(S?f(S):null)},[f,s]),w=fr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx(Fr,{value:_,readOnly:!0}):l.jsx(dhn,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(fhn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function hhn(e){return e instanceof Date&&!isNaN(e.valueOf())}const phn="YYYY-MM-DD",mhn="HH:mm";function ghn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||phn,timeFormat:e.timeFormat||mhn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function R4(e){return e.toISOString()}function vhn(e){const t=new Date(e);return hhn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function yhn(e,t){if(!t||t===1)return e;const n=Ujt(e),r=V5t(n),o=r%t;return R4(o!==0?mS(n,r-o):n)}function bhn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=ghn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=yhn(p,a)),t(p===null?Je():yt(p))},[t,a]),u=ne.useCallback(f=>oA(f,"".concat(i," ").concat(s)),[i,s]),d=ne.useCallback(f=>S7(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(gOe,{...o,onChange:c,deserialize:vhn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:R4,timeStep:a,value:r})}const IN="YYYY-MM-DD",xhn=IN;function whn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||xhn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const Chn=e=>S7(e,IN),_hn=e=>oA(e,IN);function Shn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=whn(r.options),a=h.useCallback(d=>{n(d===null?Je():yt(d))},[n]),c=h.useCallback(d=>oA(d,s),[s]),u=h.useCallback(d=>S7(d,s),[s]);return l.jsx(gOe,{...o,deserialize:Chn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:_hn,value:i})}var ice=Object.freeze,Ehn=Object.defineProperty,khn=(e,t)=>ice(Ehn(e,"raw",{value:ice(t||e.slice())})),sce;const jhn=O(eCe)(sce||(sce=khn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function Thn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(jhn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function Ahn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=US(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Fr,{type:a,inputMode:"url",customValidity:o,...i})}const Dhn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?CTe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Ihn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Dhn)(e,t,n)}function Phn(e,t){const[n,r]=ne.useState(null),o=ne.useRef(0),i=ne.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function Ohn(){const{getClient:e}=Ln(),t=jn(),n=Go(),r=R3e(),o=P3e();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function Rhn(e,t,n){const r=e.slice(0,-1),o=pm(t,r);return{parentPath:r,parent:o,...n}}async function $hn(e,t,n){return typeof e=="function"?e(t,n):pm(t,e)}function Mhn(e){var t;const n=Hen(),{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(b=>b.level==="error"),[s]),p=Ohn(),m=h.useCallback(b=>{if(!b){a(ut.from(Je([])));return}a(ut.from([es({_type:i.name}),yt(b,["current"])]))},[a,i.name]),[v,g]=Phn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const b=n([])||{_type:i.name},w=Rhn(r,b,p);return $hn(d,b,w).then(C=>Ihn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),y=(v==null?void 0:v.status)==="pending",x=ne.useCallback(b=>m(b.currentTarget.value),[m]);return l.jsx(ee,{space:3,children:l.jsxs(U,{children:[l.jsxs(M,{flex:1,children:[l.jsx(Fr,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(X,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(oe,{mode:"ghost",type:"button",disabled:c||y,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function Fhn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(ZPe,{...e}):Icn(e)?l.jsx(lOe,{...e}):l.jsx(uOe,{...e})}const ace={document:rce,object:rce,array:Fhn,boolean:Rfn,number:hOe,text:Thn,email:$fn,datetime:bhn,date:Shn,url:Ahn,image:Iln,file:Can,string:fOe,slug:Mhn,crossDatasetReference:ncn};function Lhn(e){if(_c("array",e))return Sfn(e);if(_c("reference",e))return Acn;if(_c("string",e))return Tfn(e);if(_c("number",e))return Dfn(e)}function Bhn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Lhn(e);if(n)return n;const o=yN(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>ace[s.name]);if(i)return ace[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Nhn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:vh}function Um(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function zhn(e){return Um({componentProps:e,componentResolver:Bhn})}function Vhn(e){return Um({componentProps:e,componentResolver:oin})}function Hhn(e){return Um({componentProps:e,componentResolver:Won})}function Uhn(e){return Um({componentProps:e,componentResolver:Nhn})}function Whn(e){return Um({componentProps:e,componentResolver:Esn})}function Yhn(e){return Um({componentProps:e,componentResolver:ksn})}function qhn(e){return Um({componentProps:e,componentResolver:jsn})}function Ghn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function Khn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function Zhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function Xhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function Qhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function Jhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function epn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function vOe(){return ql({defaultComponent:zhn,pick:Ghn})}function yOe(){return ql({defaultComponent:Vhn,pick:Khn})}function PN(){return ql({defaultComponent:Uhn,pick:Zhn})}function bOe(){return ql({defaultComponent:Hhn,pick:Xhn})}function xOe(){return ql({defaultComponent:Whn,pick:Qhn})}function wOe(){return ql({defaultComponent:Yhn,pick:Jhn})}function COe(){return ql({defaultComponent:qhn,pick:epn})}function wC(e){const t=PN();return l.jsx(IB,{...e,component:t})}const tpn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(X,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(npn,{document:a},a._id))]}):l.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},npn=e=>{let{document:t}=e;const n=jn(),r=h.useCallback(o=>l.jsx(Pm,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(X,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(U,{align:"center",gap:2,children:l.jsx(wC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},lce={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},cce={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},uce={height:"100%"},rpn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(X,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(en,{columns:3,gap:[2,3,4],children:[l.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(L,{children:l.jsx(Lr,{})}),l.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(X,{__unstable_checkered:!0,border:!0,radius:1,style:cce,children:l.jsx(U,{align:"center",justify:"center",style:uce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:lce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(X,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(en,{columns:3,gap:3,children:[l.jsx(U,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(X,{__unstable_checkered:!0,border:!0,radius:1,style:cce,children:l.jsx(U,{align:"center",justify:"center",style:uce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:lce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},qO="confirmDelete",GO="listUsage";function $4(e){let{asset:t,assetType:n="image",mode:r=GO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=HKt(t._id),d=r===GO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,y]=h.useState([]),x=r===qO,b=g.length>0,w=r===GO||b,C=r===qO&&!b,_=x?l.jsxs(en,{padding:2,gap:2,columns:2,children:[l.jsx(oe,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(oe,{text:"Delete",tone:"critical",icon:vo,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=c.filter(j=>!S.includes(j._id));y(E),p(E.length===0&&!a),v(a)},[a,c]),l.jsxs(Fi,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(VKt,{text:"Loading..."})}),!m&&l.jsxs(ee,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===qO&&l.jsx(rpn,{asset:t,assetType:n,hasResults:b}),w&&l.jsx(tpn,{asset:t,referringDocuments:g,assetType:n})]})]})}function _Oe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(nn,{button:l.jsx(oe,{padding:2,mode:n?"ghost":o,icon:Po,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Nt,{children:[l.jsx(Ne,{text:"Show uses",icon:$f,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Ne,{text:"Delete",icon:vo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var dce=Object.freeze,opn=Object.defineProperty,KA=(e,t)=>dce(opn(e,"raw",{value:dce(t||e.slice())})),fce,hce,pce,mce;const ipn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),spn=O.img(fce||(fce=KA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),apn=O(X)(hce||(hce=KA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),M4=O.div(pce||(pce=KA([`
  position: relative;
  display: inherit;
`]))),lpn=O.div(mce||(mce=KA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),M4,M4),cpn=ne.memo(function(t){const n=mr(cn),r=qo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const y=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),b=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&y(),D.type==="showUsage"&&b()},[y,b]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,ipn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return l.jsxs(M4,{children:[l.jsx(oe,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(apn,{__unstable_checkered:!0,children:[l.jsx(spn,{alt:E,src:A,onClick:s,"data-id":j}),v&&l.jsx(zKt,{})]})}),l.jsx(lpn,{children:l.jsx(_Oe,{isSelected:u,onAction:S})}),(d||p)&&l.jsx($4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),upn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],dpn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],fpn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],hpn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],gce=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function ppn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?hpn:fpn:n?dpn:upn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=gce(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=gce(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const KO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function mpn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function gpn(e){return KO!=null&&KO[e]?KO[e].title:mpn(e)}var vce=Object.freeze,vpn=Object.defineProperty,Pu=(e,t)=>vce(vpn(e,"raw",{value:vce(t||e.slice())})),yce,bce,xce,wce,Cce,_ce,Sce,Ece,kce;const F4=O.span(yce||(yce=Pu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),kg=O(U)(bce||(bce=Pu([""]))),ypn=O(L)(xce||(xce=Pu([""]))),bpn=O(X)(Cce||(Cce=Pu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),ypn,e=>e.isSelected&&de(wce||(wce=Pu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),jce=O(oe)(Ece||(Ece=Pu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&de(_ce||(_ce=Pu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),F4,kg),e=>!e.isSelected&&de(Sce||(Sce=Pu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),xpn=O(L)(kce||(kce=Pu([`
  overflow-wrap: anywhere;
`]))),Tce={position:"relative"},Ace={flexShrink:0},ZO={minWidth:0},Dce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},wpn="Cannot delete current file",Cpn=e=>{const t=mr(cn),n=qo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:y,isMobile:x}=e,{originalFilename:b,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=ni(S,{agoSuffix:!0}),j=gpn(C),k=ppn(_),T=(b||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},z=()=>{f(!d)},B=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&R()};return x?l.jsxs(X,{paddingBottom:2,style:Tce,children:[l.jsxs(en,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(jce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(U,{gap:2,flex:2,align:"center",children:[l.jsx(X,{as:F4,padding:2,tone:"transparent",radius:2,children:l.jsx(L,{muted:!0,size:2,style:Ace,children:l.jsx(Rf,{})})}),l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:ZO,children:b})]})}),l.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:Dce,children:l.jsx(oe,{mode:"bleed",fontSize:1,padding:2,onClick:z,icon:d?P0e:el})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(en,{marginTop:3,columns:3,gap:1,children:[l.jsxs(ee,{space:2,children:[l.jsx(Ht,{size:1,muted:!0,children:"Size"}),l.jsx(L,{size:1,muted:!0,children:k})]}),l.jsxs(ee,{space:2,children:[l.jsx(Ht,{size:1,muted:!0,children:"Type"}),l.jsx(L,{size:1,muted:!0,children:j})]}),l.jsxs(ee,{space:2,children:[l.jsx(Ht,{size:1,muted:!0,children:"Date added"}),l.jsx(L,{size:1,muted:!0,children:E})]})]}),l.jsxs(ee,{space:2,marginTop:3,children:[l.jsx(oe,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:$f}),l.jsx(oe,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:vo,disabled:y,title:y?wpn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx($4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:c})]}):l.jsxs(bpn,{asset:p,paddingBottom:1,style:Tce,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[l.jsxs(en,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(jce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(b),isSelected:y,children:l.jsxs(kg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(b),children:[l.jsx(X,{as:F4,padding:2,tone:"transparent",radius:2,style:Ace,children:l.jsx(L,{muted:!0,size:2,children:l.jsx(Rf,{})})}),T&&l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:ZO,children:b})}),!T&&l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:ZO,children:b})]})}),l.jsx(kg,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:k})}),l.jsx(kg,{align:"center",children:l.jsx(M,{children:l.jsx(xpn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(kg,{align:"center",children:l.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),l.jsx(kg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:Dce,children:l.jsx(_Oe,{border:!1,isSelected:!1,onAction:B})})]}),(o||s)&&l.jsx($4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:c})]})},_pn={paddingLeft:"2.2rem"},Ice={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Spn(e){const n=_m()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(X,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(en,{style:Ice,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Ht,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(en,{gap:1,style:Ice,children:[l.jsx(M,{flex:2,style:_pn,children:l.jsx(Ht,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Ht,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Ht,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Ht,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(ee,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(U,{justify:"center",children:l.jsx(hr,{muted:!0})})}),r.map(u=>l.jsx(Cpn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var Pce=Object.freeze,Epn=Object.defineProperty,SOe=(e,t)=>Pce(Epn(e,"raw",{value:Pce(t||e.slice())})),Oce,Rce;const WS=200,EOe="sanity.imageAsset",kpn="sanity.fileAsset",jpn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},Tpn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WS,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EOe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?jpn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},Apn=O(en)(Oce||(Oce=SOe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),Dpn=O(X)(Rce||(Rce=SOe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Ipn=function(t,n){const r=mr(cn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(KEe())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(B=>B.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(B=>{const H=B*WS,W=H+WS,V=x==="image",G=V?"asset.image-list":"asset.file-list",te=V?EOe:kpn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(Tpn(H,W,te,_),{},{tag:G}).subscribe(N=>{f(N.length<WS),u(Y=>Y.concat(N)),g(!1)}))},[x,_,o]),T=h.useCallback(B=>{u(H=>H.filter(W=>W._id!==B))},[u]),A=h.useCallback(B=>{c.find(W=>W._id===B)&&C([{kind:"assetDocumentId",value:B}])},[c,C]),D=h.useCallback(B=>{B.preventDefault(),A(B.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(B=>{B.key==="Enter"&&(B.preventDefault(),A(B.currentTarget.getAttribute("data-id")))},[A]),P=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(B=>{B.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const R=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(Apn,{gap:2,children:c.map(B=>l.jsx(cpn,{asset:B,isSelected:y.some(H=>H._id===B._id),onClick:D,onKeyPress:I,onDeleteFinished:T},B._id))}),v&&c.length===0&&l.jsx(U,{justify:"center",children:l.jsx(hr,{muted:!0})}),!v&&c.length===0&&l.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,v,y]),z=h.useMemo(()=>l.jsx(Spn,{isLoading:v,assets:c,selectedAssets:y,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,c,y,D,I,T]);return l.jsxs(Fi,{__unstable_autoFocus:p,header:b,id:i.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[E&&!j&&l.jsx(X,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(U,{gap:[3,4],align:"center",children:[l.jsx(L,{children:l.jsx(vm,{})}),l.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&z,c.length>0&&!d&&l.jsx(Dpn,{tone:"default",padding:4,children:l.jsx(U,{direction:"column",children:l.jsx(oe,{type:"button",icon:UF,loading:v,onClick:$,text:"Load more",tone:"primary"})})})]})},kOe=ne.memo(ne.forwardRef(Ipn)),jOe={name:"sanity-default",title:"Uploaded files",component:kOe,icon:VF},TOe={name:"sanity-default",title:"Uploaded images",component:kOe,icon:Pl};function Ppn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function bh(e,t){return e[t]}function Opn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Rpn=[{fieldPath:"_updatedAt",icon:Dg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:Dg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:$f,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Ky,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Ky,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Ky,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:cj,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:Dg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:Dg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:mg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Rf,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Pl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:K0e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:A0e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:$f,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:mg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:mg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Hl,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:mg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:mg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function $pn(e){let{documentId:t,schemaType:n}=e;const r=zi(),{draft:o,published:i,isLoading:s}=bo(()=>EA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=OB({draft:o,published:i,value:a});return s?l.jsx($0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const k5="yyyy-MM-dd";function Mpn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function $ce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Ku(n)?null:l.jsx(l.Fragment,{children:oi(n,k5)})}function Mce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Ku(n)?null:l.jsx(l.Fragment,{children:oi(n,k5)})}function Fpn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function Fce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Ku(r)||!Ku(n)?null:l.jsxs(l.Fragment,{children:[oi(n,k5)," → ",oi(r,k5)]})}function dg(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function fg(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",Ur("item",t)]})}function Lpn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max]})}function Bpn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max," items"]})}function xl(e){let{value:t}=e;const n=jn(),r=t._ref,o=n.get(t._type);return o?l.jsx($pn,{documentId:r,schemaType:o}):null}function ji(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const AOe=h.createContext(void 0);function Ot(){const e=h.useContext(AOe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Ia(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Ot(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Fr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function DOe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Ot(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Fr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx(Fr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function ZA(e,t){const n=t.split("."),r=n[0];if(r&&Za(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?ZA(o.type,i):o}}}var Lce=Object.freeze,Npn=Object.defineProperty,IOe=(e,t)=>Lce(Npn(e,"raw",{value:Lce(t||e.slice())})),Bce,Nce;const zpn=O(M)(Bce||(Bce=IOe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),Vpn=O(Ht)(Nce||(Nce=IOe([`
  max-width: 150px;
`])));function Hpn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=zi(),{draft:i,published:s,isLoading:a}=bo(()=>EA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(Kt,{space:3,children:[n&&n.length>0&&l.jsx(rN,{presence:n}),l.jsx(Vpn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(zpn,{children:l.jsx(vh,{...OB({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function ON(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=jn().get(o),u=kC(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=Fw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(Pp,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(Hpn,{documentId:r,presence:u,schemaType:c})})}):null}const Upn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Wpn="_debug_search_score",POe=!1,zce=1e3,OOe="k",Ypn=Upn?"Cmd":"Ctrl",Gx=Vf.space[1],qpn=735,ROe=800,CC=5,f1=2;function XA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function Gpn(e,t){return QA(e).filter(n=>Kpn(n,t)).sort(L4)}function QA(e){return XZt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function L4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function Kpn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const Zpn=300,XO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function Xpn(e){return e!==null}function Qpn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function $Oe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=mr(cn),d=h.useMemo(()=>MB(QA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=tT(m=>m.pipe(ht(Xpn),ce(Qpn),Jn(Ut),i8(v=>Wo((v==null?void 0:v.debounceTime)||Zpn)),Cn(i),rt(v=>Wr(ve({...XO,loading:!0,options:v.options,terms:v.terms}),Lnt(()=>XA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ce(g=>({hits:g})),Cn(g=>{let{hits:y}=g;return r==null?void 0:r(y)}),Rn(g=>(o==null||o(g),ve({...XO,error:g,loading:!1,options:v.options,terms:v.terms})))),ve(Qn).pipe(Cn(()=>r==null?void 0:r([])))),ve({loading:!1}))),sa((v,g)=>({...v,...g}),XO),Cn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const Jpn=40;function RN(e){let{availableCharacters:t=Jpn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=Vce(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(Vce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function Vce(e){var t;return(t=e.title)!=null?t:e.name}var Hce=Object.freeze,emn=Object.defineProperty,tmn=(e,t)=>Hce(emn(e,"raw",{value:Hce(t||e.slice())})),Uce;const nmn=()=>!0,rmn=O(L)(Uce||(Uce=tmn([`
  word-break: break-word;
`]))),omn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=jn(),{state:{fullscreen:c}}=Ot(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=$Oe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),y=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:$n(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=RN({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),b=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(ON,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return l.jsx(tn,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(rmn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:f1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(H6,{"aria-label":x,filterOption:nmn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:w,value:i==null?void 0:i._ref})})});function Ib(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Ot(),a=jn(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=ZA(m,t.fieldPath);if(zl(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Ru).flatMap(g=>g.to);if(Ru(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(ee,{space:3,children:[l.jsx(X,{padding:1,radius:1,shadow:1,children:l.jsx(ON,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(oe,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(omn,{onSelect:c,types:u,value:r})})}function imn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Ne,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",gap:3,children:l.jsxs(ee,{paddingRight:2,space:2,children:[l.jsx(L,{size:1,weight:"regular",children:r}),o&&l.jsx(lr,{muted:!0,size:0,children:o})]})})})}function j5(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Ot(),s=jn(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=ZA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(yo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>smn(p))).filter(yo).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:go([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(nn,{button:l.jsx(oe,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Hl,{})})})]})}),id:o||"",menu:l.jsx(Nt,{children:a.map((u,d)=>l.jsx(imn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function smn(e){return kF(e)?e:{title:Rm("".concat(e)),value:e}}const MOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),FOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),LOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),BOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Xe(e){return JSON.stringify(e)}const amn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:fg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ia,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:fg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Xe(n)):null},icon:FOe,initialValue:null,inputComponent:Ia,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:fg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Xe(n)):null},icon:MOe,initialValue:null,inputComponent:Ia,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:fg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Xe(n)):null},icon:BOe,initialValue:null,inputComponent:Ia,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:fg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Xe(n)):null},icon:LOe,initialValue:null,inputComponent:Ia,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:fg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ia,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:Bpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Xe(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:DOe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Xe(n)," in ").concat(t):null},initialValue:null,inputComponent:j5,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Xe(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:j5,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Xe(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:Ib,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Xe(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:Ib,label:"does not include",type:"arrayReferenceNotIncludes"}},NOe=h.createContext(null);function lmn(e){let{children:t,workspace:n}=e;return l.jsx(NOe.Provider,{value:n,children:t})}function Gl(){const e=h.useContext(NOe);if(!e)throw new Error("Workspace: missing context value");return e}const YS=h.createContext(null);function $N(e){let{children:t,...n}=e;const r=h.useContext(YS),{unstable_sources:o}=Gl();if("source"in n){const{source:i}=n;return l.jsx(YS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(YS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Ln(){const e=h.useContext(YS);if(!e)throw new Error("Could not find `source` context");return e}function cmn(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(cr,{tone:"caution",children:l.jsx(Lr,{})}),l.jsxs(ee,{space:4,children:[l.jsx(cr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(cr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(cr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function umn(e){let{reference:t}=e;const n=zi(),r=h.useCallback(o=>zIe(n,o),[n]);return l.jsx(p0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(fmn,{}),children:o=>l.jsx(dmn,{asset:o})})}function dmn(e){let{asset:t}=e;return l.jsx(X,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(X,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(_0,{})})}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(L,{size:1,muted:!0,children:MPe(t.size)})]})]})})}function fmn(){return l.jsx(X,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(X,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(_0,{})})}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(UE,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(UE,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var Wce=Object.freeze,hmn=Object.defineProperty,MN=(e,t)=>Wce(hmn(e,"raw",{value:Wce(t||e.slice())})),Yce,qce,Gce;const pmn=O(X)(Yce||(Yce=MN([`
  position: relative;
  padding-bottom: 100%;
`]))),mmn=O.img(qce||(qce=MN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),gmn=O(U)(Gce||(Gce=MN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function vmn(e){let{reference:t}=e;const n=zi(),r=h.useCallback(o=>NIe(n,o),[n]);return l.jsx(p0,{observeAsset:r,reference:t,children:o=>l.jsx(ymn,{asset:o})})}function ymn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(pmn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(gmn,{align:"center",justify:"center",children:l.jsx(hr,{})}),l.jsx(mmn,{onLoad:i,src:o})]})}function bmn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(umn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(vmn,{reference:t}):null:null}var Kce=Object.freeze,xmn=Object.defineProperty,wmn=(e,t)=>Kce(xmn(e,"raw",{value:Kce(t||e.slice())})),Zce;const Cmn={file:"sanity.fileAsset",image:"sanity.imageAsset"},_mn=O(M)(Zce||(Zce=wmn([`
  width: min(calc(100vw - 40px), 320px);
`])));function tv(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Ot(),{file:d,image:f}=Ln().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===jOe.name);case"image":return f.assetSources.filter(E=>E.name===TOe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=mr(cn),g=h.useCallback(()=>{c(null),r(null)},[r]),y=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];c(j),y()},[y]),b=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:Cmn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Yn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(_mn,{children:l.jsxs(ee,{space:3,children:[i&&w&&l.jsx(km,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(bmn,{reference:o}),l.jsxs(U,{gap:2,children:[p.length===0&&l.jsx(cmn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(nn,{button:l.jsx(oe,{fontSize:C,icon:o?oE:ii,iconRight:el,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Nt,{children:p.map(E=>l.jsx(Ne,{fontSize:C,icon:E.icon||Pl,onClick:()=>b(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(oe,{fontSize:C,icon:o?oE:ii,mode:"ghost",onClick:()=>b(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(oe,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const Smn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:tv("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:tv("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:tv("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:tv("image"),label:"is not",type:"assetImageNotEqual"}};function Emn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(Hf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const kmn={booleanEqual:{buttonLabel:"is",buttonValueComponent:Mpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:!0,inputComponent:Emn,label:"is",type:"booleanEqual"}},jmn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Xce=Object.freeze,Tmn=Object.defineProperty,Amn=(e,t)=>Xce(Tmn(e,"raw",{value:Xce(t||e.slice())})),Qce;const Jce="Include time",Dmn=O(L)(Qce||(Qce=Amn([`
  cursor: default;
`])));function FN(e){let{onChange:t,value:n}=e;return l.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(ee,{children:l.jsx(Dmn,{muted:!0,onClick:t,size:1,weight:"medium",children:Jce})}),l.jsx(Jwe,{checked:n,label:Jce,onChange:t})]})}const zOe=h.createContext(void 0);function LN(){const e=h.useContext(zOe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Imn=["January","February","March","April","May","June","July","August","September","October","November","December"],Pmn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];$7(0,24);const Omn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rmn=[1,2,3,4,5,6];function $mn(e){const{focusedDate:t}=LN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(Kt,{paddingLeft:2,space:1,children:[l.jsx(L,{weight:"medium",children:Imn[t.getMonth()]}),l.jsx(L,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(oe,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(oe,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:uj}),l.jsx(oe,{"aria-label":"Go to next month",mode:"bleed",icon:Lc,onClick:s})]})]})}var eue=Object.freeze,Mmn=Object.defineProperty,VOe=(e,t)=>eue(Mmn(e,"raw",{value:eue(t||e.slice())})),tue,nue;const Fmn=O.svg(e=>{let{theme:t}=e;return de(tue||(tue=VOe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),Lmn=O(X)(nue||(nue=VOe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function Bmn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=LN(),u=o&&Yd(t,o),d=c&&o&&Yd(t,o),f=c&&i&&Yd(t,i),p=ske(t,s),m=s&&Yd(t,s),v=Yd(t,new Date),g=o&&i&&!d&&!f&&Q$(t,o)&&tke(t,i);return l.jsxs(Lmn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(Fmn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const Nmn=e=>{const t=QEe(e);return XEe({start:t,end:eke(t)})},zmn=e=>e.map(t=>[t,...Rmn.map(n=>Ki(t,n))]),Vmn=e=>zmn(Nmn(e)).map(t=>({number:JEe(t[0]),days:t}));var rue=Object.freeze,Hmn=Object.defineProperty,Umn=(e,t)=>rue(Hmn(e,"raw",{value:rue(t||e.slice())})),oue;const Wmn=O(en)(oue||(oue=Umn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function Ymn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=LN();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(Wmn,{children:[Pmn.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),Vmn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(Bmn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const qmn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function Gmn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=h.useCallback(C=>{const _=sTt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&tke(_,t),E=n&&Q$(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),b=h.useCallback(C=>{var _;if(Omn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Ki(f,-7)),C.key==="ArrowDown"&&p(Ki(f,7)),C.key==="ArrowLeft"&&p(Ki(f,-1)),C.key==="ArrowRight"&&p(Ki(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(v9(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&Q$(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(zOe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(U,{children:l.jsx(M,{flex:1,children:l.jsx($mn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(Ymn,{onSelect:y}),qmn]})]})})}function BN(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Ot(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(Gmn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var iue=Object.freeze,Kmn=Object.defineProperty,Zmn=(e,t)=>iue(Kmn(e,"raw",{value:iue(t||e.slice())})),sue;const Xmn=O(M)(e=>{let{background:t,smallClearButton:n}=e;return de(sue||(sue=Zmn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),NN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(Xmn,{background:r,smallClearButton:o,children:l.jsx(Fr,{...i,ref:n})})});function Eu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=jk(t);break;case"start":o=Yf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var aue=Object.freeze,Qmn=Object.defineProperty,HOe=(e,t)=>aue(Qmn(e,"raw",{value:aue(t||e.slice())})),lue,cue;const p2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},Jmn=O.span(e=>{let{theme:t}=e;return de(lue||(lue=HOe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),egn=O(L)(cue||(cue=HOe([`
  color: `,`;
`])),fe.red[500].hex);function T5(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?p2.datetime.pattern:p2.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const b=new Date(i);return oi(b,a)}),p=h.useMemo(()=>oi(r||new Date,a),[a,r]),m=h.useCallback(b=>{let{dateString:w,triggerOnChange:C}=b;if(!w)return;const _=zjt(w,a,new Date),S=Ku(_);S&&(C&&n(Eu({date:_,dateOnly:!t})),f(oi(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(b=>{f(b.currentTarget.value)},[]),y=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(b=>{b.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const b=i&&new Date(i);b&&m({dateString:oi(b,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(it,{content:l.jsxs(U,{gap:2,children:[l.jsx(egn,{size:1,children:l.jsx(da,{})}),l.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(Jmn,{children:o?p2.datetime.exampleDate:p2.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(NN,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:y,onKeyDown:x,placeholder:p,value:d})})})}function UOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=Eu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=Eu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(ee,{space:3,children:[l.jsx(T5,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(BN,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(FN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function uue(e){return l.jsx(UOe,{...e,isDateTime:!1})}function JA(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Ot(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=Eu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=Eu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(ee,{space:3,children:[l.jsx(T5,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(BN,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(FN,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function tgn(e){return l.jsx(JA,{...e,direction:"after",isDateTime:!1})}function ngn(e){return l.jsx(JA,{...e,direction:"before",isDateTime:!1})}function due(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Ot(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Fr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs(Hf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const rgn=-7;function WOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useMemo(()=>Ki(new Date,rgn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(fue({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(fue({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(ee,{space:3,children:[l.jsxs(U,{direction:"column",gap:3,children:[l.jsx(T5,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(T5,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(BN,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(FN,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function fue(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?Eu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?Eu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?Eu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?Eu({date:t,dateOnly:!o,roundDay:"start"}):null}}function ogn(e){return l.jsx(WOe,{...e,isDateTime:!1})}function hue(e){return l.jsx(UOe,{...e,isDateTime:!0})}function ign(e){return l.jsx(JA,{...e,direction:"after",isDateTime:!0})}function sgn(e){return l.jsx(JA,{...e,direction:"before",isDateTime:!0})}function agn(e){return l.jsx(WOe,{...e,isDateTime:!0})}const wa={dateAfter:{buttonLabel:"after",buttonValueComponent:Mce,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:Mce,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:$ce,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:Fpn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:$ce,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},lgn={dateAfter:{...wa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:tgn,type:"dateAfter"},dateBefore:{...wa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:ngn,type:"dateBefore"},dateEqual:{...wa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Xe(n.date)):null},inputComponent:uue,type:"dateEqual"},dateLast:{...wa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?AZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Xe(o)):null},inputComponent:due,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...wa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Xe(n.date)):null},inputComponent:uue,type:"dateNotEqual"},dateRange:{...wa.dateRange,buttonValueComponent:Fce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Xe(n.dateMin)," && ").concat(t," <= ").concat(Xe(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:TZ().toISOString(),dateMin:null},inputComponent:ogn,type:"dateRange"},dateTimeAfter:{...wa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(n.date),")"):null},inputComponent:ign,type:"dateTimeAfter"},dateTimeBefore:{...wa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Xe(n.date),")"):null},inputComponent:sgn,type:"dateTimeBefore"},dateTimeEqual:{...wa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Ku(r)||!t)return null;const o=(n!=null&&n.includeTime?_Z(r):Yf(r)).toISOString(),i=(n!=null&&n.includeTime?SZ(r):jk(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Xe(o),") && dateTime(").concat(t,") < dateTime(").concat(Xe(i),")")},inputComponent:hue,type:"dateTimeEqual"},dateTimeLast:{...wa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?AZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:due,type:"dateTimeLast"},dateTimeNotEqual:{...wa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Ku(r)||!t)return null;const o=(n!=null&&n.includeTime?_Z(r):Yf(r)).toISOString(),i=(n!=null&&n.includeTime?SZ(r):jk(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Xe(o),") || dateTime(").concat(t,") > dateTime(").concat(Xe(i),")")},inputComponent:hue,type:"dateTimeNotEqual"},dateTimeRange:{...wa.dateRange,buttonValueComponent:Fce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Xe(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Xe(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:TZ().toISOString(),dateMin:null},inputComponent:agn,type:"dateTimeRange"}},cgn={numberEqual:{buttonLabel:"is",buttonValueComponent:dg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:dg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Xe(n)):null},icon:FOe,initialValue:null,inputComponent:Ia,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:dg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Xe(n)):null},icon:MOe,initialValue:null,inputComponent:Ia,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:dg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Xe(n)):null},icon:BOe,initialValue:null,inputComponent:Ia,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:dg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Xe(n)):null},icon:LOe,initialValue:null,inputComponent:Ia,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:dg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:Lpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.min)," && ").concat(t," < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:DOe,label:"is between",type:"numberRange"}};function Ma(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Fr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const ugn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Ma,label:"does not contain",type:"portableTextNotMatches"}},dgn={referenceEqual:{buttonLabel:"is",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Ib,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Ib,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:xl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:tv("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:xl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:tv("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:xl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Ib,label:"document",type:"referencesDocument"}},fgn={slugEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Ma,label:"does not contain",type:"slugNotMatches"}},hgn={stringEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:j5,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:j5,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ma,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Ma,label:"does not contain",type:"stringNotMatches"}},pgn={...amn,...Smn,...kmn,...lgn,...jmn,...cgn,...ugn,...dgn,...fgn,...hgn},mgn=Object.values(pgn);function Kl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const eD=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>eD(a,[...t,r.name])),o]},ggn=[],vgn=[],ygn=[],bgn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Kl(o)))},xgn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},wgn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Kl(r)))},Cgn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Kl(o)))},_gn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Kl(o)))},Sgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Kl(o)))},Egn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Kl(o)));return o(e,n)},kgn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Kl(i)))},jgn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Kl(i)))},Tgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Kl(o)))},Agn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Kl(o)))},Dgn=e=>{const{config:t,context:n,initialValue:r}=e;return eD(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Kl(f)))},r)};class pue extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=bt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function _a(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=eD(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new pue({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new pue({propertyName:o,path:d,cause:f})}return c})()}class Fa extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>bt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class zN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var mue=Object.freeze,Ign=Object.defineProperty,Pgn=(e,t)=>mue(Ign(e,"raw",{value:mue(t||e.slice())})),gue;function vue(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const Ogn=O.text(gue||(gue=Pgn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Rgn(e,t){const n=vue("".concat(e," ").concat(t)),r=k0e.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=vue(n.toString()),a=i[Math.floor(s*i.length)],c=fe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=VTe(c,.4),f=UVt(c,.4),p=AJ(c,"readable",d)?AJ(c,"readable",f)?YVt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(Ogn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const $gn=e=>e.severity==="error";function Mgn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Sr.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Rgn(t,n)}const QO=new WeakMap;function Fgn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Fa({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=zgn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{rvn({workspaces:r})}catch(i){throw new Fa({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(QO.has(i))return QO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=_a({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:bgn})}catch(_){throw new Fa({name:p.name,type:"source",causes:[_]})}const y=FKt({name:p.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(_=>_.problems.some($gn));if(x&&(b!=null&&b.length))throw new zN(y);const w=Lgn(p),C=w.state.pipe(ce(_=>{let{client:S,authenticated:E,currentUser:j}=_;return Ngn({config:p,client:S,currentUser:j,schema:y,authenticated:E,auth:w})}),Io(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||hn(p.name),auth:w,schema:y,source:C}}),d=a.title||hn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:Vgn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:Mgn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Vf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return QO.set(i,f),f})}}function Lgn(e){if(wGt(e.auth))return e.auth;const t=e.unstable_clientFactory||TSe,{projectId:n,dataset:r,apiHost:o}=e;return xGt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function Bgn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return myt(a,c)}function Ngn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=Bgn(n,s),v=[],g={},y=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:p,schema:o},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?b[A]:b.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=_a({config:t,context:x,propertyName:"schema.templates",reducer:Cgn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(yo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Fa({name:t.name,type:"source",causes:[T]})}let C;try{C=_a({config:t,context:x,initialValue:[],propertyName:"tools",reducer:wgn})}catch(T){throw new Fa({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=_a({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:Egn}),I=[];if(I.length)throw new Fa({name:t.name,type:"source",causes:I});return D.map((P,$)=>{const R=S.get(P.templateId);if(!R)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const z=o.get(R.schemaType);if(!z)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const B=P.title||R.title,H=(z==null?void 0:z.title)===B||z==null?void 0:z.title;return{id:"".concat(P.templateId,"-").concat($),templateId:P.templateId,type:"initialValueTemplateItem",title:B,subtitle:P.subtitle||H,description:P.description||R.description,icon:P.icon||R.icon||(z==null?void 0:z.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:R.schemaType}}).filter(P=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(P.templateId))==null?void 0:$.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Fa({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||hn(t.name),schema:o,getClient:y,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>_a({config:t,context:{...x,...T},initialValue:vgn,propertyName:"document.actions",reducer:Sgn}),badges:T=>_a({config:t,context:{...x,...T},initialValue:ggn,propertyName:"document.badges",reducer:_gn}),unstable_fieldActions:T=>_a({config:t,context:{...x,...T},initialValue:BGt,propertyName:"document.unstable_fieldActions",reducer:LGt}),inspectors:T=>_a({config:t,context:{...x,...T},initialValue:fn,propertyName:"document.inspectors",reducer:Agn}),resolveProductionUrl:T=>_a({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:xgn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>_a({config:t,context:{...x,...T},initialValue:ygn,propertyName:"document.unstable_languageFilter",reducer:Tgn}),unstable_comments:{enabled:T=>Dgn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:_a({config:t,context:x,initialValue:[jOe],propertyName:"formBuilder.file.assetSources",reducer:kgn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:_a({config:t,context:x,initialValue:[TOe],propertyName:"formBuilder.image.assetSources",reducer:jgn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Rpn,operators:mgn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function zgn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Fa({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function Vgn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function Hgn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function Ugn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}const yue=DWt.__sanityErrorChannel;function Wgn(){const{push:e}=qo();return h.useEffect(()=>{if(yue)return yue.subscribe(t=>{t.error&&(Ygn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Ygn(e){return e instanceof zN||e instanceof SB||e instanceof Fa}function Pb(){return l.jsxs(U,{as:X,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(hr,{muted:!0})]})}var bue=Object.freeze,qgn=Object.defineProperty,YOe=(e,t)=>bue(qgn(e,"raw",{value:bue(t||e.slice())})),xue,wue;const Ggn={error:"critical",warning:"caution"},Cue=O.code(xue||(xue=YOe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Kgn=O(L)(wue||(wue=YOe([`
  white-space: pre-line;
`])));function qOe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(ee,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=Zgn(i);return l.jsxs(X,{border:!0,padding:4,radius:2,tone:Ggn[s.severity],children:[l.jsxs(U,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(L,{muted:!0,size:1,children:[a&&l.jsx(da,{}),c&&l.jsx(Lr,{})]})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Rm(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(X,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(U6,{separator:l.jsx(L,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Xgn(d.name),":").concat(d.type);return l.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(Cue,{children:p})},f)}return d.kind==="property"?l.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(Cue,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(ee,{space:3,children:[l.jsx(Kgn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(L,{muted:!0,size:1,children:l.jsx("a",{href:u9(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function Zgn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Xgn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function Qgn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Jgn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=Qgn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function evn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Jgn(t),[t]),l.jsx(X,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(eo,{width:1,children:l.jsxs(ee,{space:5,children:[l.jsx(Yo,{as:"h1",children:"Schema errors"}),l.jsx(qOe,{problemGroups:r})]})})})}function tvn(e){return l.jsx(X,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(ee,{space:4,children:[l.jsx(Yo,{as:"h1",children:"Workspace not found"}),l.jsx(Kt,{children:l.jsx(oe,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const GOe=h.createContext(null),KOe=h.createContext(null);function nvn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>Fgn(t,{basePath:r}),[t,r]);return l.jsx(KOe.Provider,{value:o,children:n})}function Hy(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:B4(r,t)}function B4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function _C(){const e=h.useContext(KOe);if(!e)throw new Error("Could not find `workspaces` context");return e}class Sc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Hy(n.workspace,n.index)}}function rvn(e){let{workspaces:t}=e;if(t.length===0)throw new Sc("At least one workspace is required.");ovn(t),ivn(t)}function ovn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=B4(s,o);if(!i&&!t)throw new Sc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new Sc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=B4(d.workspace.title,d.index);throw new Sc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new Sc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function ivn(e){e.length>1&&e.every(svn),e.every(avn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new Sc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Hy(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Hy(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new Sc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(Hy(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Hy(i,s))})}function svn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Sc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new Sc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function avn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Sc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function lvn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function cvn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(m9(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function uvn(e){return h.useMemo(()=>dvn(e),[e])}function dvn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(m9(n),"(\\/|$)"),"i")}})}function fvn(e,t){const n=uvn(t),r=h.useMemo(()=>cvn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>lvn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return p9.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const ZOe=h.createContext(null);function hvn(e){let{children:t,history:n}=e;return l.jsx(ZOe.Provider,{value:n,children:t})}function pvn(){const e=h.useContext(ZOe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const mvn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(GOe.Provider,{value:s,children:l.jsx(hvn,{history:r,children:n})})}),gvn=()=>typeof document>"u"?Ukt():Hkt();function vvn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=_C(),s=h.useMemo(()=>o||gvn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=fvn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(mvn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function h1(){const e=h.useContext(GOe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var _ue=Object.freeze,yvn=Object.defineProperty,bvn=(e,t)=>_ue(yvn(e,"raw",{value:_ue(t||e.slice())})),Sue;const Eue={"logged-in":"","logged-out":"Signed out","no-access":""},xvn=O(X)(Sue||(Sue=bvn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),kue=e=>{if(Sr.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function N4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>kue(i),[i]),c=h.useMemo(()=>kue(s),[s]);return l.jsxs(U,{align:"center",flex:"none",gap:3,children:[l.jsx(xvn,{radius:2,tone:"transparent",children:a}),l.jsxs(ee,{flex:1,space:2,children:[l.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&Eue[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:Eue[t]})}),(r||c)&&l.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(L,{children:l.jsx(ra,{})}),c&&l.jsx(L,{muted:!0,children:c})]})]})}const XOe=ph(e=>Uo(e.map(t=>t.auth.state.pipe(ce(n=>[t.name,n])))).pipe(ce(t=>Object.fromEntries(t)))),wvn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var jue=Object.freeze,Cvn=Object.defineProperty,_vn=(e,t)=>jue(Cvn(e,"raw",{value:jue(t||e.slice())})),Tue;const Aue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],Svn=O(L)(Tue||(Tue=_vn([`
  a {
    color: inherit;
  }
`])));function Due(e){const{children:t,footer:n,header:r}=e;return l.jsxs(ee,{space:6,children:[l.jsx(X,{border:!0,radius:3,overflow:"auto",children:l.jsxs(ee,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(Yo,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(X,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(L,{size:3,children:l.jsx(rWt,{})}),l.jsx(U,{align:"center",gap:2,children:Aue.map((o,i)=>l.jsxs(ne.Fragment,{children:[l.jsx(Svn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<Aue.length-1&&l.jsx(L,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function Evn(){var e;const t=_C(),{activeWorkspace:n,setActiveWorkspace:r}=h1(),[o]=XOe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(ee,{space:2,children:[t.length>1&&l.jsx(U,{children:l.jsx(oe,{fontSize:1,icon:fw,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(Due,{header:l.jsx(M,{padding:3,children:l.jsx(N4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(ee,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...$i(a,["type","__internal"]),key:i})})})]}):l.jsx(Due,{header:"Choose your workspace",footer:l.jsx(ee,{padding:1,children:l.jsx(oe,{as:"a",href:wvn,icon:Do,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(ee,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(X,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(N4,{icon:d==null?void 0:d.icon,iconRight:Lc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(Pb,{})}const tD=h.createContext(null),nD=h.createContext(null);function QOe(){return tZe()?"dark":"light"}function JOe(e){let{children:t,scheme:n}=e;const r=QOe(),o=n==="system"?r:n;return l.jsx(VE,{scheme:o,theme:Vf,children:t})}const Iue="sanityStudio:ui:colorScheme";function kvn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(Tvn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(jvn,{onSchemeChange:n,children:t})}function jvn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=Pue(localStorage.getItem(Iue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=Pue(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(Iue,o)},[n,o]),l.jsx(nD.Provider,{value:r.setSnapshot,children:l.jsx(tD.Provider,{value:o,children:l.jsx(JOe,{scheme:o,children:t})})})}function Pue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function Tvn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(nD.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(tD.Provider,{value:r,children:l.jsx(JOe,{scheme:r,children:t})})})}function VN(){const e=h.useContext(nD);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function e3e(){const e=h.useContext(tD);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function t3e(){const e=e3e(),t=QOe();return e==="system"?t:e}function Kc(){const e=t3e(),t=VN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function n3e(e){const t=e3e();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:L0e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:qF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:XF}],[t,e])}var Oue=Object.freeze,Avn=Object.defineProperty,Dvn=(e,t)=>Oue(Avn(e,"raw",{value:Oue(t||e.slice())})),Rue;const Ivn=O(Nt)(Rue||(Rue=Dvn([`
  max-width: 350px;
  min-width: 250px;
`]))),$ue="Select workspace";function r3e(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Kc(),i=_C(),{activeWorkspace:s,setActiveWorkspace:a}=h1(),[c]=XOe(i),{navigateUrl:u}=Ul(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?$ue:void 0,g=t?void 0:$ue;return l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(ee,{children:l.jsx(nn,{button:l.jsx(oe,{icon:Hl,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(Ivn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Ht,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(y=>{const b=c[y.name].authenticated?"logged-in":y.auth.LoginComponent?"logged-out":"no-access",w=()=>{b==="logged-in"&&y.name!==s.name&&a(y.name),b==="logged-out"&&u({path:y.basePath})};return l.jsx(Ne,{onClick:w,padding:2,pressed:y.name===s.name,children:l.jsx(N4,{icon:y==null?void 0:y.icon,selected:y.name===s.name,state:b,subtitle:y==null?void 0:y.subtitle,title:(y==null?void 0:y.title)||y.name})},y.name)})]}),onClose:f,onOpen:d,popover:p})})})}function o3e(){return l.jsx(X,{height:"fill",overflow:"auto",children:l.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(eo,{width:0,children:l.jsx(Evn,{})})})})}function Pvn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function i3e(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=h1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=cDe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(X,{height:"fill",children:l.jsx(Fi,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(ee,{paddingX:3,paddingY:2,children:l.jsx(oe,{text:"Sign out",onClick:i})}),children:l.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[l.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var Mue=Object.freeze,Ovn=Object.defineProperty,Rvn=(e,t)=>Mue(Ovn(e,"raw",{value:Mue(t||e.slice())})),Fue;const $vn=O.label(Fue||(Fue=Rvn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function Mvn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(X,{height:"fill",children:l.jsx(Fi,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(L,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx($vn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Fr,{value:n,readOnly:!0}),l.jsx(oe,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(U,{align:"center",justify:"center",gap:3,children:[l.jsx(L,{weight:"medium",children:"Continue"}),l.jsx(L,{weight:"medium",children:l.jsx(Qf,{})})]})})]})})})}function Fvn(e){let{children:t,AuthenticateComponent:n=o3e,LoadingComponent:r=Pb,NotAuthenticatedComponent:o=i3e}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=h1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function Lvn(e){let{children:t}=e;const n=h1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(nD.Provider,{value:!1,children:l.jsx(tD.Provider,{value:r,children:l.jsx(VE,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Wu,{children:t})})})})}return l.jsx(VE,{theme:n,tone:"transparent",children:l.jsx(Wu,{children:t})})}function s3e(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=bt(r)&&typeof r.message=="string"&&r.message,s=bt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return lWt(a),r instanceof SB?l.jsx(Mvn,{projectId:r==null?void 0:r.projectId}):r instanceof zN?l.jsx(evn,{schema:r.schema}):r?l.jsx(X,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(eo,{width:3,children:l.jsxs(ee,{space:4,children:[l.jsx(Yo,{children:n}),l.jsx("div",{children:l.jsx(oe,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(X,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(ee,{space:4,children:[i&&l.jsx(lr,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(lr,{size:1,children:s})]})})]})})}):l.jsx(P0,{onCatch:o,children:t})}const Bvn={toast:[100,11e3]};var Lue=Object.freeze,Nvn=Object.defineProperty,a3e=(e,t)=>Lue(Nvn(e,"raw",{value:Lue(t||e.slice())})),Bue,Nue;O(U)(Bue||(Bue=a3e([""])));O(M).attrs({padding:4})(Nue||(Nue=a3e([""])));function zvn(e){const{basePath:t="/",tools:n}=e,r=Gi.create("/:tool",o=>{let i=n.find(s=>s.name===o.tool);return!i&&o.tool==="desk"&&(i=n.find(s=>s.name==="structure")),i?Gi.scope(i.name,"/",i.router):Gi.create("/")});return Gi.create(t,[Gi.intents("/intent"),r])}function HN(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}const Vvn=["template"],Hvn=["mode"];function Uvn(e,t){const r=HN(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function Wvn(e,t){return t&&(HN(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function Yvn(e,t){return Uvn(e,Wvn(e,t))}function qvn(e,t,n){var r;const{intent:o,params:i,payload:s}=n;if(typeof o!="string")throw new Error("intent must be a string");if(!bt(i))throw new Error("intent params must be a string");const a=HN(e),c=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,u=c?a.filter(m=>m!==c):a;let d=[];o==="create"?d=Vvn:o==="edit"&&(d=Hvn);const f={score:-1,tool:null},{tool:p}=(c?[c,...u]:a).reduce((m,v)=>{if(!v||typeof v.canHandleIntent!="function")return m;const g=v.canHandleIntent(o,i,t&&t[v.name]);if(typeof g=="boolean")return g&&m.score<0?{score:0,tool:v}:m;if(!bt(g))return m;const y=d.reduce((x,b)=>b in i&&g[b]===!0?x+1:x,0);return y>m.score?{score:y,tool:v}:m},f);if(p!=null&&p.getIntentState){const m=p.getIntentState(o,i,t&&t[p.name],s),{_searchParams:v,...g}=m,y={...t,tool:p.name,[p.name]:g};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?y._searchParams=v:g._searchParams=v,{type:"state",isNotFound:!1,state:y}}return{type:"intent",isNotFound:!0,intent:{name:o,params:i}}}function Gvn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function Kvn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=pvn(),a=h.useMemo(()=>zvn({basePath:o,tools:i}),[o,i]),[c,u]=Zvn(s,a,i);return c?l.jsx(Ppt,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function Zvn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(m9(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?Gvn(t,f):null}},[e,t]),i=p9.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Ut),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=Yvn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=zue(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=zue(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function zue(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=qvn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function Xvn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=h1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=Uo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Rn(f=>{if(f instanceof Fa)return ve(f);throw f}))})).pipe(ce(u=>{const d=u.filter(f=>f instanceof Fa);if(d.length)throw new Fa({name:i.name,causes:d,type:"workspace"});return u}),ce(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(lmn,{workspace:s,children:l.jsx($N,{source:s.unstable_sources[0],children:l.jsx(Kvn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function Qvn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(P0,{onCatch:o,children:l.jsx(Xvn,{...n})})}Np.registerLanguage(Yvt);Np.registerLanguage(uze);Np.registerLanguage(Gvt);Np.registerLanguage(Zvt);Np.registerLanguage(Qvt);function Jvn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(Qvn,{LoadingComponent:Pb,ConfigErrorsComponent:Pvn,children:l.jsx(oGt,{children:t})});return l.jsx(kvn,{onSchemeChange:o,scheme:i,children:l.jsxs(q6,{paddingY:7,zOffset:Bvn.toast,children:[l.jsx(Wgn,{}),l.jsx(s3e,{children:l.jsx(nvn,{config:n,basePath:r,children:l.jsx(vvn,{unstable_history:s,NotFoundComponent:tvn,LoadingComponent:Pb,children:l.jsx(Lvn,{children:l.jsx(FGt,{children:a?c:l.jsx(Fvn,{LoadingComponent:Pb,AuthenticateComponent:o3e,NotAuthenticatedComponent:i3e,children:c})})})})})})]})})}function e0n(){return l.jsx(X,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(eo,{width:0,children:l.jsx(X,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Lr,{})})}),l.jsxs(ee,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(L,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function t0n(e){const{reason:t="Redirecting…"}=e;return l.jsx(X,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(eo,{width:0,children:l.jsx(X,{padding:4,radius:2,shadow:1,tone:"primary",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(HF,{})})}),l.jsx(ee,{flex:1,marginLeft:3,space:3,children:l.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function n0n(e){const{toolName:t}=e;return l.jsx(X,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(eo,{width:0,children:l.jsx(X,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Lr,{})})}),l.jsx(ee,{flex:1,marginLeft:3,space:3,children:l.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function r0n(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(L,{weight:"bold",children:t})})}var Vue=Object.freeze,o0n=Object.defineProperty,i0n=(e,t)=>Vue(o0n(e,"raw",{value:Vue(t||e.slice())})),Hue;const s0n=O.div(Hue||(Hue=i0n([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),a0n=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),l0n=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),c0n=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),u0n=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(s0n,{"data-logo":r,children:[t==="google"&&a0n,t==="github"&&l0n,t==="sanity"&&l.jsx(iWt,{}),n&&c0n]})};var Uue=Object.freeze,d0n=Object.defineProperty,l3e=(e,t)=>Uue(d0n(e,"raw",{value:Uue(t||e.slice())})),Wue,Yue;const A5=1,f0n=O(Nt)(Wue||(Wue=l3e([`
  min-width: 200px;
  max-width: 300px;
`]))),h0n=O(M)(Yue||(Yue=l3e([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[A5].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[A5].size});function p0n(e){let{setScheme:t}=e;const n=n3e(t);return l.jsxs(l.Fragment,{children:[l.jsx(Or,{}),l.jsx(M,{padding:2,children:l.jsx(Ht,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Ne,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(ra,{})},s)})]})}function m0n(){const{currentUser:e,projectId:t,auth:n}=Gl(),r=t3e(),o=VN(),i=!!(e&&WAe(e,"administrator")),s=cDe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(nn,{button:l.jsx(oe,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Ga,{user:"me",size:1}),l.jsx(L,{size:A5,muted:!0,children:l.jsx(el,{})})]})}),id:"user-menu",menu:l.jsxs(f0n,{children:[l.jsx(X,{padding:2,children:l.jsxs(U,{align:"center",children:[l.jsx(it,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(h0n,{marginRight:3,children:[l.jsx(Ga,{size:A5,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(u0n,{provider:e.provider})]})}),l.jsxs(ee,{space:2,flex:1,children:[l.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(p0n,{setScheme:o}),l.jsx(Or,{}),l.jsx(Ne,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:dj}),i&&l.jsx(Ne,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:mj}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(Or,{}),l.jsx(Ne,{iconRight:WF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var que=Object.freeze,g0n=Object.defineProperty,v0n=(e,t)=>que(g0n(e,"raw",{value:que(t||e.slice())})),Gue;const y0n=O(M)(Gue||(Gue=v0n([`
  max-width: 300px;
`]))),c3e=33;function b0n(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Fw({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(it,{disabled:t.hasPermission,portal:!0,content:l.jsx(y0n,{padding:2,children:l.jsx(Mc,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(X,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Kue=Object.freeze,x0n=Object.defineProperty,u3e=(e,t)=>Kue(x0n(e,"raw",{value:Kue(t||e.slice())})),Zue,Xue;const JO=O(U)(Zue||(Zue=u3e([`
  min-height: 100px;
`]))),w0n=O.strong(Xue||(Xue=u3e([`
  word-break: break-all;
`])));function Que(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(b0n,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(JO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(Kt,{space:2,children:[l.jsx(hr,{muted:!0,size:1}),l.jsx(L,{muted:!0,size:1,children:"Loading…"})]})}):!c&&s?l.jsx(JO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(w0n,{children:["“",s,"”"]})]})}):c?l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:sm?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:c3e,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(JO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function C0n(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function _0n(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function S0n(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>C0n(t,o)).sort((o,i)=>_0n(t,o,i))}var Jue=Object.freeze,E0n=Object.defineProperty,Wm=(e,t)=>Jue(E0n(e,"raw",{value:Jue(t||e.slice())})),ede,tde,nde,rde,ode,ide,sde;const k0n=O(tn)(()=>de(ede||(ede=Wm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),j0n=O(Fi)(()=>de(tde||(tde=Wm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),T0n=O(M)(nde||(nde=Wm([`
  max-width: 300px;
`]))),ade=O(U)(rde||(rde=Wm([""]))),A0n=O(X)(ode||(ode=Wm([`
  min-height: max-content;
`]))),D0n=O(X)(ide||(ide=Wm([`
  min-height: max-content;
`]))),I0n=O(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de(sde||(sde=Wm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),P0n=10;function O0n(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(null),{scheme:x}=Kc(),b=Go(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>S0n(o,a),[o,a]),j=h.useCallback(B=>{c(B.currentTarget.value)},[]),k=h.useCallback(()=>s(B=>!B),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(B=>{B.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(B=>{(B.key==="Escape"||B.key==="Tab")&&i&&T()},[T,i]);dr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[b,E,k,r,n,g,a]),P=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ii,onChange:j,placeholder:_,ref:y}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:Do,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(L,{size:1,children:"New document..."}):l.jsx(Mc,{currentUser:b,operationLabel:"create any document"}):l.jsx(L,{size:1,children:"No document types"}),[t,b,w]),z=h.useMemo(()=>({content:l.jsx(T0n,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(it,{...z,children:l.jsx("div",{children:l.jsx(oe,{...$})})}),i&&l.jsx(j0n,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(ade,{direction:"column",flex:1,height:"fill",children:[l.jsx(D0n,{padding:2,borderBottom:!0,children:l.jsx(Fr,{...P})}),l.jsx(U,{direction:"column",overflow:"hidden",children:l.jsx(Que,{...I})})]})})]}):l.jsx(k0n,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(ade,{direction:"column",flex:1,forwardedAs:lh,height:"fill",returnFocus:!0,children:[l.jsx(A0n,{sizing:"border",children:l.jsxs(ee,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Ht,{size:1,muted:!0,children:S})})}),l.jsx(X,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Fr,{...P,fontSize:1,radius:1})})]})}),l.jsx(I0n,{$itemHeight:c3e,$maxDisplayedItems:P0n,direction:"column",overflow:"hidden",children:l.jsx(Que,{...I})})]}),children:l.jsx("div",{children:l.jsx(it,{...z,children:l.jsx("div",{children:l.jsx(oe,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function R0n(){const{__internal:{staticInitialValueTemplateItems:e}}=Ln(),[t,n]=rz({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var lde=Object.freeze,$0n=Object.defineProperty,M0n=(e,t)=>lde($0n(e,"raw",{value:lde(t||e.slice())})),cde;const F0n=O(X)(cde||(cde=M0n([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),L0n=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=Z0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(Pm,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:zr(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Ne,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(U,{align:"center",children:[l.jsx(F0n,{children:l.jsx(Ga,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(ee,{space:2,marginLeft:4,children:[l.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var ude=Object.freeze,B0n=Object.defineProperty,UN=(e,t)=>ude(B0n(e,"raw",{value:ude(t||e.slice())})),dde,fde,hde;const N0n=4,z0n=O(X)(dde||(dde=UN([`
  background: transparent;
`]))),V0n=O(Nt)(fde||(fde=UN([`
  max-width: 350px;
  min-width: 250px;
`]))),H0n=O(ee)(hde||(hde=UN([`
  position: sticky;
  bottom: 0;
`])));function U0n(e){const{collapse:t}=e,n=rCn(),{projectId:r}=Gl(),{scheme:o}=Kc(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(gh,{icon:mj,mode:"bleed",tone:i?"positive":void 0}):l.jsx(oe,{mode:"bleed",padding:1,children:l.jsx(z0n,{children:l.jsx(Wj,{maxLength:N0n,"aria-label":"Who is here",children:n.map(p=>l.jsx(Ga,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(nn,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(V0n,{padding:1,children:[i&&l.jsx(ee,{children:n.map(p=>l.jsx(L0n,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(ee,{space:3,children:[l.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(H0n,{space:1,children:[l.jsx(Or,{}),l.jsx(Ne,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:dj,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var pde=Object.freeze,W0n=Object.defineProperty,WN=(e,t)=>pde(W0n(e,"raw",{value:pde(t||e.slice())})),mde,gde,vde;const yde={duration:.2},Y0n={open:{opacity:1},closed:{opacity:0}},q0n={open:{x:"0%"},closed:{x:"-100%"}},G0n=O(is)(mde||(mde=WN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),K0n=O(ud(X))(gde||(gde=WN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),Z0n=O(ud(X))(vde||(vde=WN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function X0n(e){let{setScheme:t}=e;const n=n3e(t);return l.jsx(l.Fragment,{children:l.jsxs(X,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Ht,{size:1,muted:!0,children:"Appearance"})}),l.jsx(ee,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(ee,{as:"li",children:l.jsx(oe,{"aria-label":i,icon:o,iconRight:c&&l.jsx(ra,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const Q0n=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=VN(),{auth:a,currentUser:c,projectId:u}=Gl(),d=_C(),f=D3e(),p=!!(c&&WAe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(I6,{children:r&&l.jsx(lh,{autoFocus:!0,returnFocus:!0,children:l.jsxs(G0n,{onKeyDown:m,children:[l.jsx(K0n,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:yde,variants:Y0n}),l.jsxs(Z0n,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:yde,variants:q0n,children:[l.jsx(X,{borderBottom:!0,children:l.jsxs(ee,{space:3,padding:3,children:[l.jsxs(U,{align:"center",children:[l.jsx(U,{flex:1,align:"center",paddingRight:2,children:l.jsxs(U,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Ga,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(L,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(oe,{icon:Ii,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(r3e,{})]})}),l.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(X,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(U,{direction:"column",children:[s&&l.jsx(X0n,{setScheme:s}),l.jsx(X,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(ee,{as:"ul",space:1,children:[l.jsx(ee,{as:"li",children:l.jsx(oe,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:dj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(ee,{as:"li",children:l.jsx(oe,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:mj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(X,{flex:"none",padding:3,borderTop:!0,children:l.jsx(ee,{children:l.jsx(oe,{iconRight:WF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function J0n(){var e;const n=((e=jn()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Kc(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(gh,{icon:Lr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Fi,{header:l.jsxs(ee,{space:3,children:[l.jsx(L,{weight:"semibold",children:"Configuration issues"}),l.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(ee,{space:4,padding:4,children:[l.jsxs(Yo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(qOe,{problemGroups:n})]})})]})}function bde(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(oe,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const e1n=Ci("mod+".concat(OOe)),t1n=Ci("escape");function n1n(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=pa(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{e1n(a)&&(a.preventDefault(),t?i():r==null||r()),t1n(a)&&t&&o&&i()},[i,o,t,r]);Ps(s)}function d3e(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Ot(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return n1n({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function r1n(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Gf(e,t){return t?e[t]:void 0}function o1n(e,t){var n;return(n=Gf(e,t))==null?void 0:n.initialValue}function z4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Ih(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>SC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Gf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:i1n({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!x5t(i)).filter(yo).join(" && ")}function sd(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Xi(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Ph(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=ek(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),ek(...a).sort()}function i1n(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=sd(n,t),i=bh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function SC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=bh(n,t.filterName),s=Gf(o,t.operatorType),a=sd(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var xde=Object.freeze,s1n=Object.defineProperty,a1n=(e,t)=>xde(s1n(e,"raw",{value:xde(t||e.slice())})),wde;const l1n=Ci("escape"),c1n=500,u1n=O.div(wde||(wde=a1n([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function YN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=pa(),i=h.useCallback(a=>{l1n(a)&&o&&r()},[o,r]);Ps(i);const s=d1n(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(u1n,{onClick:r}),l.jsx(lh,{autoFocus:!1,returnFocus:!0,children:l.jsx(X,{display:"flex",overflow:"hidden",radius:f1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(CC,"px - ").concat(Gx,"px), ").concat(c1n,"px"),zIndex:1},children:l.jsx(U,{children:n})})})]})}function e3(e){const t=e.getBoundingClientRect();return t.y+t.height+CC}function d1n(e){const[t,n]=h.useState(e&&e3(e)),r=h.useCallback(()=>{e&&n(e3(e))},[e]);return h.useEffect(()=>{e&&n(e3(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var Cde=Object.freeze,f1n=Object.defineProperty,f3e=(e,t)=>Cde(f1n(e,"raw",{value:Cde(t||e.slice())})),_de,Sde;const h1n=O(M)(_de||(_de=f3e([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),p1n=O(U)(Sde||(Sde=f3e([`
  box-sizing: border-box;
`]))),h3e=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Ot();return l.jsx(h1n,{children:l.jsx(p1n,{align:"center",flex:1,padding:1,children:l.jsx(NN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ii,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function m1n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>b1n(u,i)).map(u=>{const d=bh(r,u.filterName);return d?z4(d,u.id):null}).filter(yo),c=v1n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...Kx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...g1n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Kx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:sd(t,u),filterDefinition:bh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function g1n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=sd(n,d);return C1n(t,f)}),c=t.length>1&&s.length>1?Kx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||hn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=sd(n,v);return y1n([f],g)});return Kx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function v1n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(w1n).filter(s=>Ede(s,r)).map(s=>z4(s)),i=Object.values(n).filter(x1n).filter(s=>Ede(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(z4(a)),s),{});return[...Kx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return Kx({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function y1n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function b1n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function Ede(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function x1n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function w1n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function C1n(e,t){return Xp(e,(t==null?void 0:t.documentTypes)||[]).length===0}function p3e(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Ot(),o=h.useMemo(()=>{const i=bh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=sd(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),"…"]}):l.jsx("span",{children:o}):null}function _1n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Ot(),o=(n=bh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(jl,{})}function m3e(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Ot(),i=sd(o.fields,t);return l.jsxs(ee,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(ne.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Lc,{})})]},a))})}),l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(L,{size:n?1:2,children:l.jsx(_1n,{filter:t})})}),l.jsx(L,{size:n?1:2,weight:"medium",children:l.jsx(p3e,{filter:t})})]})]})}function g3e(e){return h.isValidElement(e)?S1n(tWt(e)):typeof e=="string"?e:""}function S1n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const t3=10;function E1n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Ot(),s=jn(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||hn(d==null?void 0:d.name)}).filter(yo).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=ZA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&g3e(m==null?void 0:m.type.description)}return null}).filter(yo).sort(),d=go(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(it,{content:l.jsx(X,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(ee,{padding:3,space:4,children:[n&&l.jsxs(ee,{space:2,children:[l.jsx(Ht,{muted:!0,size:0,children:"Field name"}),l.jsx(Kt,{children:l.jsx(X,{tone:"caution",padding:1,radius:2,children:l.jsx(lr,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(ee,{space:3,children:[l.jsx(Ht,{muted:!0,size:0,children:"Field description"}),l.jsx(L,{muted:!0,size:0,children:kde(c)})]}),(r==null?void 0:r.description)&&l.jsx(L,{muted:!0,size:0,children:kde(r.description)}),!i.length&&a.length>0&&l.jsxs(ee,{space:2,children:[l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Ht,{muted:!0,size:0,children:"Used in document types"}),l.jsx(X,{padding:1,radius:2,tone:"transparent",children:l.jsx(L,{size:0,muted:!0,children:a.length})})]}),l.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,t3).join(", "),(a==null?void 0:a.length)>t3?" +".concat(a.length-t3," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function kde(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const k1n=ne.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Ot(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>Xi(g)===Xi(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(oe,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(E1n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(M,{padding:3,children:l.jsx(m3e,{filter:n.filter})})})})})}),j1n=ne.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(X,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Ht,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function T1n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=jn(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Ot(),m=h.useMemo(()=>m1n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(k1n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(j1n,{item:x}):null,[t]),g=h.useCallback(x=>{const b=m[x];return b.type!=="filter"||!!f.find(w=>Xi(w)===Xi(b.filter))},[m,f]),y=h.useCallback(x=>{const b=m[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],Xi(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[m]);return l.jsxs(U,{direction:"column",style:{width:"300px"},children:[l.jsx(h3e,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(U,{children:[m.length>0&&l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function jde(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Ot(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(tn,{__unstable_margins:[CC,0,0,0],content:l.jsx(YN,{anchorElement:n,onClose:i,children:l.jsx(T1n,{onClose:i})}),open:e,placement:"bottom-start",radius:f1,portal:!0,children:l.jsx(oe,{fontSize:1,icon:Do,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const A1n=ne.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Ot(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(oe,{fontSize:1,iconRight:n&&ra,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var Tde=Object.freeze,D1n=Object.defineProperty,I1n=(e,t)=>Tde(D1n(e,"raw",{value:Tde(t||e.slice())})),Ade;const P1n=O(M)(Ade||(Ade=I1n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function O1n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=jn(),{dispatch:s,state:{terms:{types:a}}}=Ot(),[c,u]=h.useState(a),d=$1n(i,a,c,n),f=h.useCallback(b=>r(b.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var b,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(b=o==null?void 0:o.current)==null||b.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(b=>{const w=d[b];switch(w.type){case"divider":return"".concat(w.type,"-").concat(b);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return b}},[d]),g=h.useCallback(b=>b.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx(Or,{})}):b.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Ht,{muted:!0,size:0,children:b.title})}):b.type==="item"?l.jsx(A1n,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=h.useCallback(b=>d[b].type!=="item",[d]),x=h.useCallback(b=>{const w=d[b];return w.type==="item"&&w.selected},[d]);return l.jsxs(U,{direction:"column",style:{width:"250px"},children:[l.jsx(h3e,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(U,{children:[d.length>0&&l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(R1n,{onClick:m,selectedTypes:a})]})}function R1n(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(P1n,{padding:1,children:l.jsx(ee,{children:l.jsx(oe,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function $1n(e,t,n,r){return h.useMemo(()=>{const[o,i]=l9(Gpn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var Dde=Object.freeze,M1n=Object.defineProperty,F1n=(e,t)=>Dde(M1n(e,"raw",{value:Dde(t||e.slice())})),Ide;const L1n=O(oe)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return de(Ide||(Ide=F1n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),B1n=["top-start","bottom-start"];function N1n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Ot(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);dr(c,[n,o]);const d=h.useMemo(()=>RN({types:a}),[a]);return l.jsx(tn,{__unstable_margins:[CC,0,0,0],content:l.jsx(YN,{anchorElement:n,onClose:c,children:l.jsx(O1n,{})}),open:e,placement:"bottom-start",fallbackPlacements:B1n,portal:!0,radius:f1,ref:i,children:l.jsx(L1n,{fontSize:1,iconRight:Hl,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var Pde=Object.freeze,z1n=Object.defineProperty,V1n=(e,t)=>Pde(z1n(e,"raw",{value:Pde(t||e.slice())})),Ode;const n3=O(M)(Ode||(Ode=V1n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function v3e(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Ot(),s=Gf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(U,{align:"center",gap:1,children:[l.jsx(n3,{$flexShrink:i?1:0,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(p3e,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(n3,{$flexShrink:0,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(n3,{$flexShrink:1,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function H1n(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(cr,{tone:"critical",children:l.jsx(da,{})}),l.jsxs(ee,{space:4,children:[l.jsx(cr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(cr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function U1n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Ne,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(U,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function W1n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Ot(),a=(r=bh(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:Xi(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(Kt,{children:l.jsx(nn,{button:l.jsx(oe,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Hl,{})})})]})}),id:o||"",menu:l.jsx(Nt,{children:a.map((u,d)=>{if(u.type==="item"){const f=Gf(s.definitions.operators,u.name);return f?l.jsx(U1n,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(Or,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function Y1n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Ot(),a=bh(i.filters,t.filterName),c=Gf(i.operators,t.operatorType),u=sd(i.fields,t),d=Xi(t),f=h.useCallback(()=>{o({filterKey:Xi(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(H1n,{padding:4}):l.jsx(P0,{onCatch:m,children:l.jsx(lh,{autoFocus:!sm,returnFocus:!0,children:l.jsxs(U,{direction:"column-reverse",children:[v&&l.jsx(X,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(X,{padding:3,children:l.jsxs(ee,{space:3,children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(m3e,{filter:t,small:!s})}),s&&l.jsx(oe,{fontSize:2,icon:vo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(X,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,children:a.description})}),l.jsx(W1n,{filter:t,operator:c})]})})]})})})}var Rde=Object.freeze,q1n=Object.defineProperty,G1n=(e,t)=>Rde(q1n(e,"raw",{value:Rde(t||e.slice())})),$de;const K1n=O(U)($de||($de=G1n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function Z1n(e){let{filter:t}=e;return l.jsxs(K1n,{direction:"column",children:[l.jsx(Y1n,{filter:t}),POe]})}var Mde=Object.freeze,X1n=Object.defineProperty,rD=(e,t)=>Mde(X1n(e,"raw",{value:Mde(t||e.slice())})),Fde,Lde,Bde,Nde;const Q1n=O(oe)(Fde||(Fde=rD([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ge(t.sanity.radius[2])," ").concat(ge(t.sanity.radius[2])," 0")}),J1n=O(X)(Lde||(Lde=rD([`
  position: absolute;
  right: 0;
`]))),eyn=O.div(Bde||(Bde=rD([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),tyn=O(oe)(Nde||(Nde=rD([`
  border: none;
  width: 100%;
`])));function nyn(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Ot(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Xi(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=SC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(tn,{__unstable_margins:[CC,0,0,0],content:l.jsx(YN,{onClose:c,children:l.jsx(Z1n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:f1,children:l.jsxs(eyn,{children:[l.jsx(X,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(tyn,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(v3e,{filter:t,showContent:p})})}),!a&&l.jsx(J1n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(Q1n,{"aria-label":"Delete filter",fontSize:1,icon:Ii,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function y3e(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Ot(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&Xi(r),u=()=>l.jsx(oe,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(N1n,{}),t==null?void 0:t.map(d=>{const f=Xi(d);return l.jsx(nyn,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(jde,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(jde,{}),a&&l.jsx(u,{})]}),POe]})}function ryn(){return l.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(Kt,{space:3,children:[l.jsx(L,{muted:!0,children:"Use"}),l.jsx(L,{muted:!0,children:l.jsx(fj,{})}),l.jsx(L,{muted:!0,children:"to refine your search"})]})})}function oyn(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>RN({availableCharacters:t,types:n}),[t,n]);return l.jsx(X,{border:!0,padding:2,radius:2,children:l.jsx(L,{muted:!0,size:1,children:r})})}var zde=Object.freeze,iyn=Object.defineProperty,syn=(e,t)=>zde(iyn(e,"raw",{value:zde(t||e.slice())})),Vde;const ayn=O(X)(Vde||(Vde=syn([`
  cursor: default;
`])));function lyn(e){let{filter:t}=e;return l.jsx(ayn,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(v3e,{filter:t})})}var Hde=Object.freeze,cyn=Object.defineProperty,oD=(e,t)=>Hde(cyn(e,"raw",{value:Hde(t||e.slice())})),Ude,Wde,Yde,qde;const uyn=40,b3e=O(oe)(Ude||(Ude=oD([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])}),dyn=O(M)(Wde||(Wde=oD([`
  flex-shrink: 3;
`]))),fyn=O(M)(Yde||(Yde=oD([`
  flex-shrink: 2;
`]))),hyn=O.div(qde||(qde=oD([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),b3e);function pyn(e){let{index:t,maxVisibleTypePillChars:n=uyn,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Ot(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx(b3e,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(U,{align:"stretch",children:[l.jsxs(Kt,{paddingY:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(O0e,{})}),l.jsx(L,{children:"​"})]}),l.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(fyn,{paddingY:2,children:l.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(dyn,{children:l.jsx(oyn,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(lyn,{filter:f},p))]}),l.jsx(U,{align:"center",children:l.jsx(hyn,{onClick:d,children:l.jsx(U,{padding:2,children:l.jsx(L,{size:1,children:l.jsx(Ii,{})})})})})]})})})}var Gde=Object.freeze,myn=Object.defineProperty,gyn=(e,t)=>Gde(myn(e,"raw",{value:Gde(t||e.slice())})),Kde;const vyn=36,yyn=20,byn=40,xyn=O(X)(Kde||(Kde=gyn([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function x3e(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Ot(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=_m(),d=h.useMemo(()=>u<2?yyn:byn,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(pyn,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(xyn,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Ht,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:vyn,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(oe,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(ryn,{})})}var Zde=Object.freeze,wyn=Object.defineProperty,iD=(e,t)=>Zde(wyn(e,"raw",{value:Zde(t||e.slice())})),Xde,Qde,Jde,efe;const Cyn=gm(Xde||(Xde=iD([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),_yn=O(pw)(Qde||(Qde=iD([`
  animation: `,` 500ms linear infinite;
`])),Cyn),Syn=O(M)(Jde||(Jde=iD([`
  position: relative;
`]))),Eyn=O.div(efe||(efe=iD([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),w3e=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Ot(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const y=a.length>0||f.length>0;return l.jsx(X,{flex:"none",children:l.jsxs(U,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(X,{children:l.jsx(oe,{"aria-label":"Close search",icon:fw,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(NN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?_yn:ii,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(Syn,{children:[l.jsx(oe,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:fj,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),y&&l.jsx(Eyn,{})]})]})})});function kyn(){return l.jsx(eo,{width:0,children:l.jsxs(ee,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function jyn(){return l.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(cr,{tone:"critical",children:l.jsx(Lr,{})})}),l.jsx(cr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(cr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const rp={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var tfe=Object.freeze,Tyn=Object.defineProperty,Ayn=(e,t)=>tfe(Tyn(e,"raw",{value:tfe(t||e.slice())})),nfe;const rfe=[rp.relevance,{type:"divider"},rp.createdAsc,rp.createdDesc,{type:"divider"},rp.updatedAsc,rp.updatedDesc],Dyn=O(U)(nfe||(nfe=Ayn([`
  box-sizing: border-box;
`])));function ofe(e){return e.type==="divider"}function Iyn(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Ot(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Ut(r,t),[r,t]);return l.jsx(Ne,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(L,{size:1,weight:"medium",children:t.title})})})}function Pyn(){const{state:{ordering:e}}=Ot(),t=h.useId(),n=rfe.find(r=>Ut(e,r)&&!ofe(r));return n?l.jsx(X,{borderBottom:!0,children:l.jsx(Dyn,{align:"center",flex:1,padding:2,children:l.jsx(nn,{button:l.jsx(oe,{mode:"bleed",padding:2,children:l.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(L,{size:1,children:l.jsx(ZF,{})})}),l.jsx(Kt,{space:2,children:l.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Nt,{children:rfe.map((r,o)=>ofe(r)?l.jsx(Or,{},o):l.jsx(Iyn,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var ife=Object.freeze,Oyn=Object.defineProperty,Ryn=(e,t)=>ife(Oyn(e,"raw",{value:ife(t||e.slice())})),sfe;const $yn=O(X)(sfe||(sfe=Ryn([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function Myn(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(ee,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(Kt,{space:3,children:[l.jsx(lr,{size:0,weight:"semibold",children:i.path}),l.jsx(lr,{size:0,children:i.why})]},i.path))}):l.jsx(lr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx($yn,{padding:1,shadow:1,tone:r,children:l.jsxs(lr,{size:0,children:["score: ",n]})})})})}var afe=Object.freeze,Fyn=Object.defineProperty,Lyn=(e,t)=>afe(Fyn(e,"raw",{value:afe(t||e.slice())})),lfe;const Byn=59,Nyn=4,zyn=O(U)(lfe||(lfe=Lyn([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function C3e(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Ot(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),y=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(ON,{documentId:$n(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx(Myn,{data:x})]}),[s,g]);return l.jsx(U,{children:l.jsx(X,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[p&&l.jsx(Pyn,{}),l.jsx(zyn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(jyn,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:Byn,items:d.hits,overscan:Nyn,padding:2,paddingBottom:0,ref:i,renderItem:y}),m&&l.jsx(kyn,{})]})})]})})})}var cfe=Object.freeze,Vyn=Object.defineProperty,_3e=(e,t)=>cfe(Vyn(e,"raw",{value:cfe(t||e.slice())})),ufe,dfe;const Hyn=O(X)(ufe||(ufe=_3e([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),Uyn=O(M)(dfe||(dfe=_3e([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function Wyn(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Kc(),{state:{filtersVisible:a,terms:c}}=Ot(),u=XA({terms:c});return l.jsx(d3e,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(km,{children:l.jsx(lh,{autoFocus:!sm,returnFocus:!0,children:l.jsx(Uyn,{children:l.jsxs(Hyn,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(w3e,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(X,{borderTop:!0,flex:"none",children:l.jsx(y3e,{})}),u?l.jsx(C3e,{inputElement:o}):l.jsx(x3e,{inputElement:o})]})})})})})}var ffe=Object.freeze,Yyn=Object.defineProperty,qN=(e,t)=>ffe(Yyn(e,"raw",{value:ffe(t||e.slice())})),hfe,pfe,mfe;const qyn=O(U)(hfe||(hfe=qN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),Gyn=O(U)(pfe||(pfe=qN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),Kyn=O(Fr)(mfe||(mfe=qN([`
  padding-right: 60px;
`]))),Zyn=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Ot(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(Gyn,{align:"center",children:[l.jsx(Kyn,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ii,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(qyn,{align:"center",height:"fill",marginRight:2,children:[l.jsx(a$,{children:Ypn}),l.jsx(a$,{children:OOe.toUpperCase()})]})]})});var gfe=Object.freeze,Xyn=Object.defineProperty,qS=(e,t)=>gfe(Xyn(e,"raw",{value:gfe(t||e.slice())})),vfe,yfe,bfe,xfe;const Qyn=O.div(vfe||(vfe=qS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),Jyn=O(X)(xfe||(xfe=qS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?de(yfe||(yfe=qS([`
          left: `,`px;
        `])),t.x):de(bfe||(bfe=qS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Gx,"px), ").concat(qpn,"px)")},e=>{let{$position:t}=e;return t.y},Gx*2,ROe);function ebn(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=pa(),{scheme:p}=Kc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Ot(),y=XA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return dr(x,[s]),l.jsx(d3e,{hasValidTerms:y,onClose:n,onOpen:r,open:o,children:l.jsx(km,{children:l.jsxs(lh,{autoFocus:!sm,disabled:t,returnFocus:!0,children:[l.jsx(Qyn,{style:{zIndex:f}}),l.jsxs(Jyn,{$position:i,overflow:"hidden",radius:f1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(w3e,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(X,{borderTop:!0,flex:"none",children:l.jsx(y3e,{})}),y?l.jsx(C3e,{inputElement:c}):l.jsx(x3e,{inputElement:c})]})]})})})}function tbn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=nbn(e);return l.jsxs(l.Fragment,{children:[l.jsx(Zyn,{onOpen:i,ref:t}),s&&l.jsx(ebn,{onClose:o,onOpen:i,open:n,position:s})]})}function wfe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>ROe?t.x-Gx:null,y:t.y-Gx}}function nbn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(wfe(e))},[e]);return h.useEffect(()=>{e&&n(wfe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const rbn="search::recent",obn=5,Zx=2;function ibn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=Zx}=e;if(!t||!i||!S3e||!a)return;const u="".concat(rbn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>SC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify($i(v,"created")),y={version:c,recentSearches:[v,...Ob(u,c).recentSearches.filter(x=>JSON.stringify($i(x,"created"))!==g)].slice(0,obn)};return window.localStorage.setItem(u,JSON.stringify(y)),fy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>fy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...Ob(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),fy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=Ob(u,c);if(d<0||d>f.recentSearches.length)return fy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),fy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function Ob(e,t){const n=S3e?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function fy(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=sbn({lsKey:t,storedSearch:Ob(t,s)});return abn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function sbn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Zx){const r={version:Zx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function abn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=QA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>SC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Zx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Ob(r,a)}const S3e=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),lbn=3;function cbn(e,t){var n;const r=QA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>Cfe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(Cfe(c)&&(a.documentTypes[c.name]=c),k3e(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Opn(t);return fbn(s,o,i)}function ubn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function dbn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function fbn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=lbn,v=a.name.startsWith("_"),g=a!=null&&a.title?g3e(a.title):hn(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const b=n[a.type],w=t[a.type],C=k3e(a)?a:null,_=w||b||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:y,filterName:vbn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(hbn).sort(ybn)}function hbn(e){return{...e,id:dbn(e)}}function pbn(e){var t;return E3e(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function E3e(e){return e.type==="array"}function Cfe(e){return e.type==="document"}function k3e(e){return e.type==="object"}function mbn(e){return e.type==="string"}function gbn(e){var t;return mbn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function vbn(e){if(gbn(e))return"stringList";if(E3e(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(pbn(e))return"arrayList"}return e.type}function ybn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function j3e(e){return typeof e.__recent<"u"}const V4="core:studio:navbar:search:";Ss(V4);function bbn(e){const t="".concat(V4).concat(e);return Ss&&Ss.enabled(t)?Ss(t):Ss(V4)}function xbn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(Wpn)}function wbn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:xbn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:rp.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const Cbn=bbn("reducer");function _bn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),Cbn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:rp.relevance,terms:Oh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Oh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Oh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:o1n(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Ph({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Ph({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Xi(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Ph({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Xi(u)===t.filterKey),o=Gf(e.definitions.operators,r==null?void 0:r.operatorType),i=Gf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>Xi(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Xi(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Oh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(L4);return{...e,documentTypesNarrowed:Ph({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(L4),o=Ph({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=sd(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Oh({...e.terms,filter:Ih({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Ph({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Oh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Ph({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Oh({...e.terms,types:[]})}}default:return e}}function Oh(e){if(j3e(e)){const{__recent:t,...n}=e;return n}return e}function Sbn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=mr(cn),a=jn(),c=Go(),{search:{operators:u,filters:d}}=Ln(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:ubn(cbn(a,d)),filterDefinitions:Ppn(d),operatorDefinitions:r1n(u)}),[d,u,a]),y=h.useMemo(()=>ibn({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:Zx}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=h.useMemo(()=>wbn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,C]=h.useReducer(_bn,b),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(b.ordering),I=h.useRef(b.pageIndex),P=h.useRef(b.terms),{handleSearch:$,searchState:R}=$Oe({initialState:{...k,terms:T},onComplete:V=>C({hits:V,type:"SEARCH_REQUEST_COMPLETE"}),onError:V=>C({error:V,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),z=XA({terms:T}),B=_.map(V=>a.get(V)),H=S.filter(V=>SC({fieldDefinitions:m,filter:V,filterDefinitions:v,operatorDefinitions:g})),W=h.useCallback(V=>{r.current=V},[]);return h.useEffect(()=>{const V=!Ut(E,D.current),G=j!==I.current,te=!Ut(T,P.current);if(V||G||te){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);$({options:{comments:[...j3e(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(H.length)],limit:zce,offset:j*zce,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...B?{types:B}:{}}}),I.current=j}D.current=E,P.current=T},[H.length,S,B,$,z,E,j,R.terms,T]),h.useEffect(()=>{!z&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,z,k.hits,T.query,T.types]),l.jsx(AOe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:o,setSearchCommandList:i,setOnClose:W,state:{...w,fullscreen:n}},children:t})}const T3e="3.20.2";function Ebn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(T3e)]},tag:"module.version-check",json:!0}).pipe(ce(n=>({...n})))}function kbn(){const e=mr({apiVersion:"1"}),t=h.useMemo(()=>Ebn(e),[e]);return UAe(t)}function jbn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(U,{align:"center",justify:"center",padding:3,children:l.jsx(hr,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:Tbn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(Abn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",T3e]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const Tbn=l.jsxs(l.Fragment,{children:[l.jsx(Ne,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Ne,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Ne,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(Or,{})]});function Abn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(X,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Ht,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Ne,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Ne,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(Or,{})]})}var _fe=Object.freeze,Dbn=Object.defineProperty,Ibn=(e,t)=>_fe(Dbn(e,"raw",{value:_fe(t||e.slice())})),Sfe;const Pbn=O(Nt)(Sfe||(Sfe=Ibn([`
  max-width: 300px;
  min-width: 200px;
`])));function Obn(){const{scheme:e}=Kc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=kbn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(U,{children:l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(nn,{button:l.jsx(oe,{"aria-label":"Help and resources",icon:Nv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(Pbn,{children:l.jsx(jbn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var Efe=Object.freeze,Rbn=Object.defineProperty,GN=(e,t)=>Efe(Rbn(e,"raw",{value:Efe(t||e.slice())})),kfe,jfe,Tfe;const $bn=O(is)(kfe||(kfe=GN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),Mbn=O(X)(jfe||(jfe=GN([`
  line-height: 0;
`]))),Fbn=O(U)(Tfe||(Tfe=GN([`
  width: max-content;
`])));function Lbn(){const{name:e,tools:t,...n}=Gl(),r=I0().theme,o=_C(),i=yT(),{scheme:s}=Kc(),{href:a,onClick:c}=t2e({state:{}}),u=_m(),d=typeof i.tool=="string"?i.tool:void 0,f=R0n(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(I3e),g=qbn(),y=D3e(),[x,b]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&b(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&Gc,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?hn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),P=h.useCallback(()=>{b(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{b(!0)},[]);return l.jsxs($bn,{zOffset:100,"data-search-open":m,children:[l.jsx(Mbn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(U,{align:"center",justify:"space-between",children:[l.jsxs(Fbn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&l.jsx(M,{marginRight:1,children:l.jsx(oe,{mode:"bleed",icon:YF,onClick:$,ref:S})}),!k.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(bde,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),k.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(r3e,{collapsed:!0})}),l.jsx(M,{marginRight:k.brandingCenter?void 0:2,children:l.jsx(O0n,{...f,modal:k.brandingCenter?"dialog":"popover"})}),l.jsx(Wu,{children:l.jsx(Sbn,{fullscreen:k.searchFullscreen,children:l.jsxs(Uu,{element:document.body,children:[l.jsx(jm,{element:v,children:k.searchFullscreen&&l.jsx(Wyn,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&l.jsx(tbn,{})]})})}),k.tools&&l.jsx(X,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(y,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(bde,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(U,{gap:2,children:[(k.configIssues||k.resources)&&l.jsx(X,{borderRight:!0,children:l.jsxs(U,{gap:1,paddingX:2,children:[k.configIssues&&l.jsx(J0n,{}),k.resources&&l.jsx(Obn,{})]})}),l.jsxs(U,{align:"center",gap:1,children:[l.jsx(U0n,{collapse:k.collapsedPresenceMenu}),k.tools&&l.jsx(m0n,{}),k.searchFullscreen&&l.jsx(oe,{"aria-label":"Open search",icon:ii,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&l.jsx(Q0n,{activeToolName:d,isOpen:x,onClose:P,tools:t})]})}const A3e=h.forwardRef(function(t,n){const{name:r,...o}=t,i=yT(h.useCallback(()=>({tool:r,[r]:void 0}),[r]));return l.jsx(vT,{state:i,...o,ref:n})});function Bbn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Kc(),[o,i]=h.useState(null);tDe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||hn(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(A3e,{...m,ref:v,name:c.name})});return l.jsx(AN,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||jl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(TN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Nbn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(ee,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||hn(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(A3e,{...c,ref:u,name:o.name})});return l.jsx(ee,{as:"li",children:l.jsx(oe,{as:s,icon:o.icon||Q0e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function zbn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(Nbn,{isVisible:n,...r}):l.jsx(Bbn,{...r})}function Vbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Hbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function Ubn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Wbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function D3e(){return ql({defaultComponent:zbn,pick:Vbn})}function Ybn(){return ql({defaultComponent:Lbn,pick:Hbn})}function qbn(){return ql({defaultComponent:r0n,pick:Wbn})}function Gbn(){return ql({defaultComponent:Jbn,pick:Ubn})}var Afe=Object.freeze,Kbn=Object.defineProperty,Zbn=(e,t)=>Afe(Kbn(e,"raw",{value:Afe(t||e.slice())})),Dfe;const Xbn=O(X)(Dfe||(Dfe=Zbn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),I3e=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Qbn(){const e=Gbn();return l.jsx(e,{})}function Jbn(){var e;const{name:t,title:n,tools:r}=Gl(),o=Ul(),i=yT(h.useCallback(x=>typeof x.tool=="string"?x.tool:void 0,[])),s=h.useMemo(()=>r.find(x=>x.name===i),[i,r]),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useMemo(()=>{const x=n||hn(t);return i?"".concat(hn(i)," | ").concat(x):x},[i,t,n]),p=!!(s!=null&&s.controlsDocumentTitle);h.useEffect(()=>{p||(document.title=f)},[f,p]);const m=h.useCallback(x=>{c(x)},[]),v=h.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:u,onSearchFullscreenOpenChange:m}),[a,u,m]),g=Ybn(),y=!s&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(x=>x.name==="structure");return h.useEffect(()=>{y&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[y,o]),l.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(I3e.Provider,{value:v,children:l.jsx(g,{})}),y&&l.jsx(t0n,{}),r.length===0&&l.jsx(e0n,{}),r.length>0&&!s&&i&&!y&&l.jsx(n0n,{toolName:i}),a&&l.jsx(Xbn,{ref:d,overflow:"auto"}),l.jsx(s3e,{heading:"The ".concat(s==null?void 0:s.name," tool crashed"),children:l.jsx(X,{flex:1,hidden:a,children:s&&i&&l.jsx(Ipt,{scope:i,__unsafe_disableScopedSearchParams:(e=s.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:l.jsx(h.Suspense,{fallback:l.jsx(exn,{}),children:h.createElement(s.component,{tool:s})})})})},s==null?void 0:s.name)]})}function exn(){return l.jsxs(U,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(hr,{muted:!0})]})}function Ife(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(Jvn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(AGt,{}),l.jsx(Qbn,{})]})}function txn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=HTe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(Ife,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(Ife,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function mr(e){const t=Ln();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const Pfe="connecting";function nxn(e,t){const n=il();return bo(()=>n.pair.documentEvents(e,t).pipe(ce(r=>r.type),ce(r=>r!=="reconnect"),rt(r=>r?ve("connected"):Wo(200).pipe(eT("reconnecting"))),ci(Pfe),Jn()),[n.pair,e,t],Pfe)}function P3e(){return Ln().dataset}function Zl(e,t){const n=il();return bo(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function O3e(e,t){const n=il();return bo(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function KN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=il();return bo(()=>{const o=r.pair.editState(e,t).pipe(aa());return n==="low"?an(o.pipe(Ti(1)),o.pipe(e_e(1),i8(()=>Wo(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function R3e(){return Ln().projectId}function jn(){return Ln().schema}const rxn={isSyncing:!0},Ofe={isSyncing:!1};function $3e(e,t){const n=il();return bo(()=>n.pair.consistencyStatus(e,t).pipe(ce(r=>r?Ofe:rxn)),[n.pair,t,e],Ofe)}function p1(){return Ln().templates}const r3=1e3*5,Rfe=1e3*20,H4=1e3*60,m2=H4*60;function ni(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=oxn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function oxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=M5t(r,n),i=B5t(r,n);if(o||i)return t.minimal&&i===0?{timestamp:oi(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:oi(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:oi(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=L5t(r,n),a=Ur("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:m2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:m2};const c=ZEe(r,n),u=Ur("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:m2}}const y=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":y,refreshInterval:m2}}const d=P5t(r,n),f=Ur("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:H4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:H4};const p=O5t(r,n),m=Ur("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:Rfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:Rfe};const v=F5t(r,n),g=Ur("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:r3}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:r3}:{timestamp:"just now",refreshInterval:r3}}const ixn={validation:[],isValidating:!1};function ZN(e,t){const n=il();return bo(()=>n.pair.validation(e,t),[n.pair,e,t],ixn)}const $fe={isLoading:!0,enabled:!0,features:[]};function sxn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let o3;function M3e(e){const t=mr(cn);return o3||(o3=sxn({versionedClient:t}).pipe(Io())),bo(()=>o3.pipe(ce(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ci($fe),Rn(r=>(console.error(r),ve({isLoading:!1,enabled:!0,features:[]})))),[e],$fe)}const axn=ph(e=>{let[t,n]=e;return Er(t.getUser(n).catch(r=>(console.error(r),null)))});function m1(e){const t=oz();return axn(h.useMemo(()=>[t,e],[e,t]))}function Go(){const{currentUser:e}=Ln();return e}const Mfe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Ffe=e=>({type:"snapshot",document:e}),Lfe=e=>e.document,lxn=e=>{const t=new _r,n=new Xj(!0),r=new _r,o=new _r,i=new _r,s=new _r,a=x=>{const b=new uBt(x);return b.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:Mfe(b),mutations:C.mutations,origin:_?"remote":"local"})},b.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:b.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},b.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},b.onConsistencyChanged=w=>{n.next(w)},b.commitHandler=w=>s.next(w),b},c=e.pipe(sa((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),ht(x=>x!==null),Jn(),Cl(1),wl()),u=e.pipe(ht(x=>x.type==="mutation"),ub(c),ce(x=>{let[b,w]=x;return w.arrive(new Ac(b)),Mfe(w)})),d=t.pipe(ub(c),Cn(x=>{let[b,w]=x;b.type==="mutation"&&w.add(new Ac({mutations:b.mutations})),b.type==="commit"&&w.commit()}),Zp(Qn),aa()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(Ti(1),Cn(x=>x.commit())).subscribe()},g=an(c.pipe(ce(x=>x.LOCAL)),r.pipe(ce(Lfe)),o.pipe(ce(Lfe)),u).pipe(ce(Ffe),Cl(1),wl()),y=an(c.pipe(ce(x=>x.document.HEAD),ce(Ffe)),i).pipe(Cl(1),wl());return{updates$:an(g,d,r,o),consistency$:n.pipe(Jn(),Cl(1),wl()),remoteSnapshot$:y,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},cxn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},Bfe=(e,t)=>{const n=lxn(t),r=cxn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},uxn={type:"pending",phase:"begin"},dxn={type:"pending",phase:"end"};function fxn(e){return e.type==="mutation"}function hxn(e){return e.transactionTotalEvents>1}function pxn(e){const t=E7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function mxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return mo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(S$(s=>s.type==="welcome"?i().pipe(S$(a=>[Nfe(o,a.draft),Nfe(r,a.published)])):ve(s)),sa((s,a)=>{if(!fxn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=hxn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return pxn(d)?{next:d.concat(dxn),buffer:[]}:{next:d.length===1?[uxn]:[],buffer:d}},{next:[],buffer:[]}),dt(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ce(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function Nfe(e,t){return{type:"snapshot",documentId:e,document:t}}const zfe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function g2(e){return t=>({...t,version:e})}function gxn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function vxn(e,t){return Er(gxn(e,t.mutation.params)).pipe(Cn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function F3e(e,t){const{publishedId:n,draftId:r}=t,o=mxn(e,t).pipe(aa()),i=o.pipe(ht(d=>d.type==="reconnect")),s=Bfe(r,o.pipe(ht(zfe(r)))),a=Bfe(n,o.pipe(ht(zfe(n)))),c=o.pipe(ht(d=>d.type==="pending")),u=an(s.commitRequest$,a.commitRequest$).pipe(dt(d=>vxn(e,d)),Zp(Qn),aa());return{transactionsPendingEvents$:c,draft:{...s,events:an(u,i,s.events).pipe(ce(g2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ce(g2("draft")))},published:{...a,events:an(u,i,a.events).pipe(ce(g2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ce(g2("published")))}}}function Zc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Ym=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function EC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const sD=Zc((e,t,n)=>new pt(r=>{r.next(F3e(e,t))}).pipe(Cl(1),wl()),EC);function yxn(e){return e.type==="snapshot"}function Vfe(e){return{snapshots$:e.events.pipe(ht(yxn),ce(t=>t.document),Cl(1),wl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const XN=Zc((e,t,n)=>sD(e,t,n).pipe(ce(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:Vfe(o),draft:Vfe(i)}}),Cl(1),wl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),bxn={enabled:!0},Hfe={enabled:!1},L3e=Zc((e,t,n)=>{const r=Ym(e.schema,n);return XN(e.client,t,n).pipe(rt(o=>Uo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ce(i=>i.phase==="begin"?bxn:Hfe),ci(Hfe))])),ce(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ci({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),Cl(1),wl())},(e,t,n)=>EC(e.client,t,n)),B3e=Zc((e,t,n)=>XN(e.client,t,n).pipe(rt(r=>Uo([r.draft.snapshots$,r.published.snapshots$]).pipe(ce(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),Cl(1),wl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),D5={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Ym(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function U4(e){return ad(e)?e._strengthenOnPublish?$i(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(U4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,U4(r)]}))}const N3e={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Ym(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=U4($i(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},z3e={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Ym(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},V3e={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Qn}},H3e={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},U3e={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Ym(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...$i(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},xxn=["_createdAt","_updatedAt"],W3e={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...$i(s,xxn),_id:Ym(n,i)?t:fi(t),_type:s._type},{tag:"document.duplicate"})}},Y3e={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Ym(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},q3e=Zc((e,t,n)=>sD(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return Uo([o.consistency$,i.consistency$])}),ce(r=>{let[o,i]=r;return o&&i}),Jn(),Cl(1),wl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function wxn(e){return typeof e>"u"?ve(null):e}const Cxn={del:D5,delete:D5,publish:N3e,patch:z3e,commit:V3e,discardChanges:H3e,unpublish:U3e,duplicate:W3e,restore:Y3e},_xn=(e,t,n)=>{const r=Cxn[e];return mo(()=>an(ve(null),wxn(r.execute(t,...n)))).pipe(nrt())},G3e=new _r;function K3e(e,t,n,r){G3e.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Sxn=["publish","unpublish","discardChanges","delete"],Z3e=Zc(e=>{const t=G3e.pipe(JCe(o=>o.idPair.publishedId),dt(o=>o.pipe(rt(i=>B3e(e,i.idPair,i.typeName).pipe(Ti(1),rt(s=>{const a=Sxn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=q3e(e.client,i.idPair,i.typeName).pipe(ht(Boolean));return(a?c.pipe(Ti(1)):ve(!0)).pipe(rt(()=>_xn(i.operationName,s,i.extraArgs)))}),ce(()=>({type:"success",args:i})),Rn(s=>ve({type:"error",args:i,error:s})))))),aa()),n=1e3,r=t.pipe(ht(o=>o.type==="success"&&o.args.operationName==="patch"),fx(n,Rl,{leading:!0,trailing:!0}),Cn(o=>{K3e("commit",o.args.idPair,o.args.typeName,[])}));return an(t,r.pipe(Zp(Qn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),Exn=Zc((e,t,n)=>sD(e,t,n).pipe(rt(r=>{let{published:o,draft:i}=r;return an(o.remoteSnapshot$,i.remoteSnapshot$)})),EC),kxn={isValidating:!0,validation:[]};function jxn(e){return STe(e,(t,n)=>(ad(n)&&t.add(n._ref),t),new Set)}const Txn=[],Axn=(e,t)=>e(t).pipe(ce(n=>{let{published:r}=n;return r.available})),Dxn=200,Ixn=1e3;function i3(){return Io({bufferSize:1,refCount:!0})}const Pxn=Zc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=L3e(e,{draftId:r,publishedId:o},n).pipe(ce(d=>{let{draft:f,published:p}=d;return f||p}),fx(Dxn,Rl,{trailing:!0}),Jn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:qu($i(d,"_rev","_updatedAt"),$i(f,"_rev","_updatedAt"))),i3()),a=i.pipe(ce(d=>jxn(d)),dt(d=>Er(d))).pipe(JCe(d=>d,{duration:()=>Wo(1e3*60*30)}),dt(d=>d.pipe(Qnt(),dt(f=>Axn(e.observeDocumentPairAvailability,f).pipe(ce(p=>[f,p]))))),sa((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Jn(qu),i3()),c=d=>{let{id:f}=d;return _o(a.pipe(QCe(p=>f in p),ce(p=>p[f])))},u=a.pipe(e_e(1),fx(Ixn,Rl,{leading:!0,trailing:!0}));return Uo([i,Wr(ve(null),u)]).pipe(ce(d=>{let[f]=d;return f}),N7(d=>mo(()=>d!=null&&d._type?Wr(ve({isValidating:!0,revision:d._rev}),xKt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(ce(f=>({validation:f,isValidating:!1})))):ve({validation:Txn,isValidating:!1}))),sa((d,f)=>({...d,...f}),kxn),i3())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Oxn=Zc((e,t,n)=>sD(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return an(o.events,i.events)})),EC);function ou(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const Rxn={commit:ou("commit"),delete:ou("delete"),del:ou("del"),publish:ou("publish"),patch:ou("patch"),discardChanges:ou("discardChanges"),unpublish:ou("unpublish"),duplicate:ou("duplicate"),restore:ou("restore")},$xn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return K3e(e,t,n,o)};function iu(e,t,n){return{disabled:t.disabled(n),execute:$xn(e,n.idPair,n.typeName)}}function Mxn(e){return{commit:iu("commit",V3e,e),delete:iu("delete",D5,e),del:iu("delete",D5,e),publish:iu("publish",N3e,e),patch:iu("patch",z3e,e),discardChanges:iu("discardChanges",H3e,e),unpublish:iu("unpublish",U3e,e),duplicate:iu("duplicate",W3e,e),restore:iu("restore",Y3e,e)}}const Fxn=Zc((e,t,n)=>{const r=Z3e(e),i=B3e(e,t,n).pipe(ce(Mxn));return Wr(ve(Rxn),an(r.pipe(dt(()=>Qn)),i)).pipe(Io({refCount:!0,bufferSize:1}))},(e,t,n)=>EC(e.client,t,n)),Lxn=(e,t,n,r)=>mo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),Bxn=(e,t,n,r)=>mo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Ufe(e){return e.type==="welcome"}function Nxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=Bxn(e,i,n,r).pipe(dt((f,p)=>p===0&&!Ufe(f)?Yu(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):ve(f)),aa()),[a,c]=o8(s,Ufe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>Lxn(e,o,n,r);return an(a.pipe(Ti(1)),c.pipe(ht(u),fx(r.throttleTime||1e3,Rl,{leading:!0,trailing:!0}))).pipe(N7(f=>f.type==="mutation"&&f.visibility!=="query"?Wo(1200).pipe(dt(d)):d()))}function zxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return ve(n);const r="*[_id in [$documentId, $draftId]]._type",o=$n(t),i=fi(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ce(s=>s[0]))}function cm(e){return kr(e)}const Vxn=["_key","_ref","_weak","_type"];function Hxn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function Wfe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!cm(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return W4(e)}catch(r){throw r.message=n(r.message),r}}function W4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(zr(t),'")'));return W4(o,t.concat(i),!0)});if(!cm(e))return e;const r=n&&!e._key?{_key:Gw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&Uxn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=W4(e[i],t.concat([i])),o),r)}function Uxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(zr(t),'"'));const n=Object.keys(e).filter(r=>!Vxn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(Hxn).join(", "),' at path "').concat(zr(t),'"'))}}function QN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];cm(o)&&cm(i)&&(n[r]=QN(i,o))}),n}function Wxn(e){return cm(e)&&typeof e.serialize=="function"}async function aD(e,t,n){return typeof e=="function"?e(t,n):e}async function JN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(Wxn(t))return JN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await aD(s,n,r);if(!cm(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));cm(a)&&!Object.keys(a).length&&(a={_type:i}),a=Wfe(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=QN(await lD(c,n,ez,r)||{},a);return Wfe(u,t)}function Yxn(e,t){const n=Ds(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const ez=10;function lD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ez,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Za(e)?Gxn(e,t,n,r):zl(e)?qxn(e,t,n,r):aD(e.initialValue,t,r)}async function qxn(e,t,n,r){const o=await aD(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=Yxn(e,i);return Za(s)?{...i,...await lD(s,t,n-1,r),_key:Gw()}:i}))}async function Gxn(e,t,n,r){const o={...await aD(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await lD(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=QN(i,o);if(!A9(s))return e.name!=="object"&&(s._type=e.name),s}const Yfe={type:"loading"};function Kxn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:fi(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:$n(r.documentId)},["_type"]);return an(i.pipe(ce(c=>({draft:c}))),s.pipe(ce(c=>({published:c})))).pipe(sa((c,u)=>({...c,...u}),{}),ht(c=>"draft"in c&&"published"in c),ce(c=>c.draft||c.published),Jn((c,u)=>!!c!=!!u),s8(25)).pipe(rt(c=>{if(c)return ve({type:"success",value:null});if(!r.templateName)return ve({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),ve({isResolving:!1,initialValue:void 0});const d=Er(JN(e,u,r.templateParams,o)).pipe(ce(f=>({isResolving:!1,initialValue:f}))).pipe(Rn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),ve({type:"error",error:f}))));return an(ve({isResolving:!0}),d).pipe(rt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return ve(v?{type:"error",message:"Failed to resolve initial value"}:p?Yfe:{type:"success",value:m})}))}),ci(Yfe),Jn())}function hy(e){if(pB(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:fi(e)}}function Zxn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(cn),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return F3e(a,u)},initialValue(u,d){return Kxn(i,o,n,u,d)},listenQuery(u,d,f){return Nxn(a,u,d,f)},resolveTypeForDocument(u,d){return zxn(a,u,d)},pair:{consistencyStatus(u,d){return q3e(c.client,hy(u),d)},documentEvents(u,d){return Oxn(c.client,hy(u),d)},editOperations(u,d){return Fxn(c,hy(u),d)},editState(u,d){return L3e(c,hy(u),d)},operationEvents(u,d){return Z3e({client:a,historyStore:r,schema:i}).pipe(ht(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ce(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return Pxn(c,hy(u),d)}}}}const qfe={isLoaded:!1,documentType:void 0};function Xxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=il(),r=$n(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:qfe);return h.useEffect(()=>a(qfe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function Qxn(e,t){const n=zi(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):ve(void 0),[e,n,t]);return UAe(r)}function Jxn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=ti(o),s=il(),a=tz(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function tz(){const e=Ln(),t=jn(),n=Go(),r=R3e(),o=P3e(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function nz(){const e=tz();return h.useCallback((t,n)=>lD(t,n,ez,e),[e])}function ewn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function twn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:$n(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:fi(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:fi("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function nwn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return ve({granted:!1,reason:"Type specified was `*`"});const a=!!ewn(r,s).liveEdit;return XN(t,{draftId:fi(o),publishedId:$n(o)},s).pipe(rt(c=>Uo([c.draft.snapshots$,c.published.snapshots$]).pipe(ce(u=>{let[d,f]=u;return{draft:d,published:f}}))),rt(c=>{let{draft:u,published:d}=c;const f=twn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ce(g=>{let{granted:y,reason:x}=g;return{granted:y,reason:y?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Uo(f).pipe(ce(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):ve({granted:!0,reason:""})}))}const rwn=ph(nwn);function xh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=mr(cn),c=jn(),u=iz(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return rwn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function X3e(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const own=ph(X3e);function iwn(e){let{document:t,permission:n,...r}=e;const o=iz();return own({grantsStore:r.grantsStore||o,document:t,permission:n})}function Q3e(e){return typeof e=="object"&&e!==null&&"serialize"in e?Q3e(e.serialize()):e}function swn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Uo(n.map(Q3e).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await JN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>Er(s).pipe(rt(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return X3e({grantsStore:t,permission:"create",document:{_id:p?$n(m):fi(m),...u}}).pipe(ce(v=>{let{granted:g,reason:y}=v;const x=c.title||d.title;return{...c,granted:g,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):ve([])}const awn=ph(swn);function rz(e){let{templateItems:t,...n}=e;const r=jn(),o=p1(),i=iz(),s=tz();return awn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Gfe="_debug_",lwn=typeof window>"u"?ve({}):Ri(window,"hashchange"),J3e=Wr(ve(0),lwn).pipe(ce(()=>typeof document>"u"?"#":document.location.hash),Jn(),ce(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Gfe)).map(t=>t.substring(Gfe.length)))),cwn=J3e.pipe(ce(e=>e.find(t=>t.startsWith("roles="))),ce(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),uwn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Kfe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],dwn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],fwn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Zfe=[{filter:'_id in path("**")',permissions:["read","history"]}],hwn=[{filter:"!locked",permissions:["read","create","update"]}],pwn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Xfe={administrator:uwn,editor:Kfe,developer:dwn,contributor:fwn,viewer:Zfe,restricted:pwn,requiresApproval:hwn,read:Zfe,write:Kfe},mwn=cwn.pipe(ce(e=>e.length?e.filter(t=>!!t&&t in Xfe).flatMap(t=>Xfe[t]||[]):null));async function gwn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function vwn(e){const t={};return e!==null&&(t.identity=e.id),t}const s3=new Map;async function ywn(e,t,n){s3.has(t)||s3.set(t,FTe("*[".concat(t,"]")));const r=s3.get(t),o=vwn(e),{identity:i}=o,s={...o},a=await(await ITe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function bwn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=mo(()=>ve(r.config())).pipe(rt(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return gwn(r,a,c)})),i=mwn.pipe(rt(s=>s?ve(s):o),Cl(1),gzt(1e3));return{checkDocumentPermission(s,a){return i.pipe(rt(c=>xwn(n,c,s,a)),Jn(qu))}}}async function xwn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await ywn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function wwn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return Cwn(r)}function Cwn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Qfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function _wn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Jfe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class Swn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Qfe(t.draftId),published:Qfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Jfe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Jfe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=_wn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=KM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class Ewn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return ehe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return ehe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function ehe(e){return e.draft||e.published}const kwn=50;class jwn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new Swn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new Ewn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=kwn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await wwn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function Twn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function the(e){return e.draft||e.published}class Awn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=I5(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class Dwn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=I5(r,this.value[t],this.extractor)}}class Iwn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(Twn(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function I5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new Awn(e.content,t,r,n);case"object":return new Dwn(e.content,t,r,n);case"string":return new Iwn(e.content,t,r,n)}return Y7(t,r)}function nhe(e,t,n){return n?Y4(e,n.transactionIndex+1,n.chunk.index):t?Y4(e,t.start,t.index):null}function rhe(e,t){return t?Y4(e,t.transactionIndex,t.chunk.index):null}function Y4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function Pwn(e,t,n,r,o,i){const s=I5(n,r,{fromValue(c){return nhe(e,t,c.endMeta)},fromMeta(c){return nhe(e,t,c)}}),a=I5(o,i,{fromValue(c){return rhe(e,c.startMeta)},fromMeta(c){return rhe(e,c)}});return fA(s,a)}class v2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function Own(e){return e==="create"||e==="editDraft"}const Rwn=5*60*1e3;function $wn(e,t){return Date.parse(t)-Date.parse(e)<Rwn}function ohe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=she(e.draftState,t.draftState),r=she(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Own(e.type)&&t.type==="editDraft"&&$wn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function ihe(e){const t=!!e;return e&&q4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Mwn(e){const t=ihe(e.draftEffect),n=ihe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function a3(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&q4(e.draftEffect.apply),o=e.publishedEffect&&q4(e.publishedEffect.apply),i=Mwn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function she(e,t){return t==="unknown"?e:t}function q4(e){return e[0]===0&&e[1]===null}let Fwn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new v2,this._chunks=new v2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new v2,this._chunks=new v2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(a3(s),ohe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(a3(s),ohe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=a3(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=KM(o,a.draftEffect.revert)),a.publishedEffect&&(i=KM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=fl.wrap(t.draft,null),s=fl.wrap(t.published,null);const a=Lwn(i,s),c=the(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),y={chunk:m,transactionIndex:v},x=i,b=s;g.draftEffect&&(i=fl.applyPatch(i,g.draftEffect.apply,y)),g.publishedEffect&&(s=fl.applyPatch(s,g.publishedEffect.apply,y));const w=fl.getType(x)!=="null",C=fl.getType(i)!=="null";fl.getType(s)!=="null"&&!C&&(s=fl.rebaseValue(x,s)),C&&!w&&(i=fl.rebaseValue(b,i))}}const d=fl.getType(i)==="null"?s:i,f=the(n);return Pwn(this,u,a,c,d,f)}};function Lwn(e,t){return fl.getType(e)==="null"?t:e}const ahe=Object.create(null),Bwn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},eRe=(e,t,n)=>{const r=$n(t),o=fi(t),i="".concat(r,"@").concat(n),s=ahe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return ahe[i]=u,u},Nwn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Fwn({enableTrace:Gc,publishedId:n});return new jwn({client:t,documentId:n,documentType:r,timeline:o})},zwn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},Vwn=e=>STe(e,(t,n)=>ad(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function G4(e,t){return Array.isArray(e)?t(e.map(n=>G4(n,t)).filter(n=>typeof n<"u")):bt(e)?t(Object.keys(e).reduce((n,r)=>{const o=G4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const Hwn=(e,t)=>G4(e,n=>ad(n)?t(n):n),Uwn=(e,t)=>Hwn(e,n=>t[n._ref]?n:void 0);function Wwn(e,t,n,r){return Er(eRe(e,t,r)).pipe(dt(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=Vwn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ce(s=>Uwn(o,s)))}),ce(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),dt(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function Ywn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>eRe(t,n,r),getHistory:(n,r)=>Bwn(t,n,r),getTransactions:n=>zwn(t,n),restore:(n,r,o)=>Wwn(t,n,r,o),getTimelineController:Nwn}}const lhe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function qwn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=nRe(),a=h.useRef(null),c=h.useRef(lhe),u=mr(cn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Xj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=Exn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(Cn(g=>g.setLoadMore(!1)),ce(g=>{var y;const x=g.timeline.mapChunks(_=>_),b=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=b==null?void 0:b[0])==null?void 0:y.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Jn(PF),Rn(g=>(r==null||r(g),ve(lhe))),Cn(g=>{c.current=g}),Cn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function uo(e,t){return p9.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const Gwn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],Kwn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],Zwn=mo(()=>Wo(0,1e4)).pipe(Zp(Gwn),ce((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:hVt(Kwn)}]})),Io()),Xwn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},Qwn=(e,t)=>{const n=e.request("presence").pipe(ce(Xwn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Qn;return[n.pipe(aa()),r]},tRe="presence_session_id",Jwn=()=>ryt(16);function eCn(){try{return window.sessionStorage.getItem(tRe)}catch{}return null}function tCn(e){try{window.sessionStorage.setItem(tRe,e)}catch{}return e}const y2=eCn()||tCn(Jwn());function nCn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=Qwn(t,y2),s=new Xj([]),a=s.pipe(Jn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(ht(A=>A.type==="rollCall"),ht(A=>A.sessionId!==y2)),m=Wo(0,3e4),v=mo(()=>an(a,f)).pipe(rt(()=>m),ub(s),ce(A=>{let[,D]=A;return D}),Ynt(200),rt(A=>u(A)),Zp(Qn),aa()),g=mo(()=>d()).pipe(Zp(Qn)),y=n.connectionStatus$.pipe(ce(A=>A.type),ht(A=>A==="connected"||A==="error"),Jn()),x=J3e.pipe(ce(A=>A.find(D=>D.startsWith("presence="))),ce(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),b=x.pipe(ht(A=>A.includes("fake_others")),Cn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),irt(Zwn)),w=x.pipe(ce(A=>A.includes("show_own"))),C=an(g,o).pipe(ht(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=an(C,b).pipe(sa((A,D)=>D.type==="disconnect"?$i(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=y.pipe(rt(A=>A==="connected"?an(S,v):r8),ce(A=>Object.values(A)),rt(A=>{const D=go(A.map(I=>I.userId));return Er(r.getUsers(D)).pipe(ce(I=>A.map(P=>({user:I.find($=>$.id===P.userId),session:P})).filter(j)))}),a8(Ri(window,"beforeunload").pipe(rt(()=>i({type:"disconnect"})))),Io({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ce(A=>{const D=E7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var P;return{user:(P=A.find($=>$.user.id===I))==null?void 0:P.user,sessions:D[I]}})}),ub(w),ce(A=>{let[D,I]=A;return D.filter(P=>I?!0:!P.sessions.some(R=>R.sessionId===y2))}),ce(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:Pn((D.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,$)=>P.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(ub(w),rt(D=>{let[I,P]=D;return Er(I).pipe(ht($=>P||$.session.sessionId!==y2),rrt($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),WCe())}))}}function rCn(){const[e,t]=h.useState([]),n=sz();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function kC(e){const t=sz(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function oCn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const iCn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},sCn=(e,t)=>{const n=localStorage.getItem(e);return ve(n===null?t:iCn(n,t))},aCn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),ve(t)),lCn={get:sCn,set:aCn},P5=Object.create(null),cCn=(e,t)=>ve(e in P5?P5[e]:t),uCn=(e,t)=>(typeof t>"u"||t===null?delete P5[e]:P5[e]=t,ve(t)),dCn={get:cCn,set:uCn};let py=null;function fCn(){if(py!==null)return py;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),py=!0}catch{py=!1}return py}function hCn(){return fCn()?lCn:dCn}function pCn(){const e=hCn(),t=new _r,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(rt(a=>e.set(a.key,a.value).pipe(ce(c=>({key:a.key,value:c}))))),o=(a,c)=>an(e.get(a,c),r.pipe(ht(u=>u.key===a),ce(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const mCn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function gCn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new SVt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>AVt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),mCn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>bt(c)&&typeof c.id=="string")}}function oz(){const{getClient:e,currentUser:t}=Ln(),n=wd(),r=e(cn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||gCn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function iz(){const{getClient:e}=Ln(),t=e(cn),n=Go(),r=wd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||bwn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function nRe(){const e=mr(cn),t=wd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||Ywn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function zi(){const e=mr(cn),t=wd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||GZt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function il(){const e=Ln().getClient,t=jn(),n=p1(),r=wd(),o=nRe(),i=zi();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||Zxn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function vCn(){const{bifur:e}=Ln().__internal,t=wd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||TGt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function sz(){const{__internal:{bifur:e}}=Ln(),t=wd(),n=oz(),r=vCn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||nCn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function yCn(){const e=mr(cn),t=wd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||oCn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function bCn(){const e=wd(),t=Gl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||pCn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const xCn=/[^\p{Alpha}\p{White_Space}]/gu,wCn=new RegExp("\\p{White_Space}+","u"),CCn={small:0,medium:1,large:2};function _Cn(e){const t=e.replace(xCn,"").split(wCn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Ga(e){const{user:t,...n}=e;return bt(t)?n.withTooltip?l.jsx(SCn,{...n,user:t}):l.jsx(rRe,{...n,user:t}):l.jsx(ECn,{...e,user:t})}function SCn(e){const{user:{displayName:t}}=e;return l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(rRe,{...e})})})}const rRe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=DGt(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(zwe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&_Cn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?CCn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function ECn(e){let{user:t,...n}=e;const[r]=m1(t);return r?l.jsx(Ga,{...n,user:r}):null}var che=Object.freeze,kCn=Object.defineProperty,jCn=(e,t)=>che(kCn(e,"raw",{value:che(t||e.slice())})),uhe;const TCn=O(M6)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=fe.purple[r].hex,i=fe.purple[n].hex;return de(uhe||(uhe=jCn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function ACn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(TCn,{...r,fontSize:t,children:n})}function Qh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=$r(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Qh(a[s]||{},i,n)}}}const az=20,DCn=3,uf={name:"all-fields",title:"All fields",hidden:!1};function ICn(e){return Za(e.schemaType)}function PCn(e){return SF(e.schemaType)}function oRe(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function OCn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...iRe(e,t)]}function iRe(e,t){return t.length===0?[]:ICn(e)&&oRe(e)?sRe(e,t):PCn(e)?aRe(e,t):[]}function sRe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===uf.name||u&&zw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||uf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&oRe(c.field)&&(pN(c)?m.push(...aRe(c.field,i)):ZIe(c)&&m.push(...sRe(c.field,i))),m}function aRe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!$r(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?iRe(o.item,r):[]}function fo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function RCn(e,t){const n=Ds(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function $Cn(e,t){const n=Ds(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function lz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=DCn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function lRe(e,t,n){return n.name===uf.name?!0:t===void 0?!1:e.length===0&&n.name===uf.name?!0:zw(t).includes(n.name)}function dhe(e){return typeof e>"u"||bt(e)}function MCn(e){return typeof e>"u"||Array.isArray(e)}function FCn(e){return typeof e>"u"||Array.isArray(e)}function LCn(e){return e.length===0||e.every(t=>bt(t))}function BCn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function NCn(e){return"_key"in e}function zCn(e){return e==null?void 0:e.every(t=>bt(t)&&NCn(t))}function Av(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Ut(e,t)}function fhe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b;const{parent:w,field:C,index:_}=e,S=Pc([...w.path,C.name]),E=Qon(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!dhe(j))throw new Error("Unexpected non-object value");const T=C.group?zw(C.group):[],A=lRe(w.groups,C.group,w.selectedGroup);if(Za(C.type)){const D=j==null?void 0:j[C.name],I=bt(k)?k==null?void 0:k[C.name]:void 0;if(!dhe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Ds(D),value:D}};const P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(fo(C.type.hidden,P))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||fo(C.type.readOnly,P),z=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],B=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],W=cz({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:Av(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:z,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:B,collapsedFieldSets:H,readOnly:R,changesOpen:w.changesOpen});if(W===null)return null;const V=lz(C.type.options,E),G=B?B.value:V.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Si(S,w.openPath),field:W,collapsed:G,collapsible:V.collapsible}}else if(zl(C.type)){const D=j==null?void 0:j[C.name],I=bt(k)?k==null?void 0:k[C.name]:void 0;if(SF(C.type)){const P=typeof D<"u";if(P&&!MCn(D)){const V=Ds(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:V,value:D}}}if(P&&!LCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(P&&!zCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=P?BCn(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],z=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],B=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],H=w.readOnly||fo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),W=HCn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:Av(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:z,collapsedFieldSets:B,level:E,path:S,readOnly:H});return W===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Si(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:W}}else{if(!FCn(D)){const H=Ds(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}const P=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],$=(y=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:y[C.name],R=(b=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],z=w.readOnly||fo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),B=VCn({changed:Av(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:P,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:E,path:S,readOnly:z});return B===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Si(S,w.openPath),collapsible:!1,collapsed:!1,field:B}}}else{const D=j==null?void 0:j[C.name],I=bt(k)?k==null?void 0:k[C.name]:void 0,P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(fo(C.type.hidden,P))return null;const R=w.readOnly||fo(C.type.readOnly,P),z=cRe({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Si(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:z}}}function cz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===az)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||fo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(w=>w.default)||uf)==null?void 0:n.name,a=[uf,...i].flatMap(w=>{var C;const _=fo(w.hidden,r),S=w.name===(((C=e.fieldGroupState)==null?void 0:C.value)||s),E=e.changesOpen?w.name===uf.name:S,j=e.changesOpen?!E:!1;return _?[]:[{disabled:j,icon:w==null?void 0:w.icon,name:w.name,selected:E,title:w.title}]}),c=a.find(w=>w.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(w=>({single:!0,field:w}))).flatMap((w,C)=>{var _,S,E,j;if(w.single){const $=w.field,R=fhe({field:$,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:C});return R?[R]:[]}const k=w.fields.map($=>$.name),T=fo(w.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:_t(e.value,k)}),A=fo(w.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:_t(e.value,k)}),D=w.fields.flatMap($=>{if(T)return[{kind:"hidden",key:"field-".concat($.name),name:$.name,index:C}];const R=fhe({field:$,parent:{...e,readOnly:o||A,groups:a,selectedGroup:c},index:C});return R?[R]:[]}),I=lz(w.options,e.level),P=(E=(S=(((_=e.collapsedFieldSets)==null?void 0:_.children)||{})[w.name])==null?void 0:S.value)!=null?E:I.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(w.name),_inSelectedGroup:lRe(a,w.group,c),groups:w.group?zw(w.group):[],fieldSet:{path:Pc(e.path.concat(w.name)),name:w.name,title:w.title,description:w.description,hidden:!1,level:e.level+1,members:D.filter($=>$.kind!=="hidden"),collapsible:I==null?void 0:I.collapsible,collapsed:P,columns:(j=w==null?void 0:w.options)==null?void 0:j.columns}}]}),f=i.length>0,p=e.presence.filter(w=>wn(w.path,e.path)),m=p.length?p:fn,v=e.validation.filter(w=>wn(w.path,e.path)).map(w=>({level:w.level,message:w.item.message,path:w.path})),g=d.filter(w=>w.kind!=="hidden");if(g.length===0&&t)return null;const y=f?a.flatMap(w=>w.name===uf.name||g.some(_=>_.kind==="error"?!1:_.kind==="field"?_.groups.includes(w.name):_.groups.includes(w.name)||_.fieldSet.members.some(S=>S.kind!=="error"&&S.groups.includes(w.name)))?w:[]):[],x=g.flatMap(w=>{if(w.kind==="error")return[w];if(w.kind==="field")return w.inSelectedGroup?[w]:[];const C=w.fieldSet.members.filter(_=>_.kind!=="field"||_.inSelectedGroup);return C.length>0?[{...w,fieldSet:{...w.fieldSet,members:C}}]:[]}),b={value:e.value,changed:Av(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:zr(e.path),level:e.level,focused:wn(e.path,e.focusPath),focusPath:IF(e.path,e.focusPath),presence:m,validation:v,members:x,groups:y};return Object.defineProperty(b,"_allMembers",{value:d,enumerable:!1}),b}function VCn(e){if(e.level===az)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(fo(e.schemaType.hidden,t))return null;const r=e.readOnly||fo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>wn(u.path,e.path)),s=i.length?i:fn,a=e.validation.filter(u=>wn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>WCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:wn(e.path,e.focusPath),focusPath:IF(e.path,e.focusPath),path:e.path,id:zr(e.path),level:e.level,validation:a,presence:s,members:c}}function HCn(e){if(e.level===az)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(fo(e.schemaType.hidden,t))return null;const r=e.readOnly||fo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>wn(u.path,e.path)),s=i.length?i:fn,a=e.validation.filter(u=>wn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>UCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:wn(e.path,e.focusPath),focusPath:IF(e.path,e.focusPath),path:e.path,id:zr(e.path),level:e.level,validation:a,presence:s,members:c}}function UCn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=RCn(u.schemaType,c),p=c._key;if(!f){const j=Ds(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=Pc([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||fo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],b=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=cz({schemaType:f,level:v,document:u.document,value:c,comparisonValue:C,changed:Av(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),S=lz(f.options,v),E=(a=b==null?void 0:b.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:Si(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function WCn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=$Cn(o.schemaType,r),a=Pc([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:Ds(s),value:c}};const p=o.readOnly||fo(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=cRe({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:wn(a,o.openPath),item:m}}function cRe(e){const t=e.presence.filter(o=>wn(o.path,e.path)),n=t.length?t:fn,r=e.validation.filter(o=>wn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:Av(e.value,e.comparisonValue),value:e.value,level:e.level,id:zr(e.path),readOnly:e.readOnly,focused:wn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function YCn(e){return cz(e)}function qCn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Go(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=YCn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:Pc([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),y=eN(v.current,g);return v.current=y,y},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function GCn(e){return e.map(XCn)}function K4(e,t){return Pn(t.map(n=>ZCn(e,n)))}const KCn=e=>t=>!e.includes(t);function ZCn(e,t){return Pn(Object.keys(t).filter(KCn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:ug(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:ug(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:ug(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:ug(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:ug(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:ug(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function XCn(e){if(e.patchType!==am&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==am)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=hTe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=ol(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(ut.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(JB.Provider,{value:i,children:t.children})});Vf.fonts.code.family,Vf.fonts.text.family,dc.hex,Ea.hex,wy[500].hex,Ea.hex,dc.hex,L2[500].hex,L2[500].hex,L2[500].hex,V3[500].hex,wy[500].hex,U3[500].hex,H3[500].hex,wy[500].hex,wy[500].hex,U3[500].hex,H3[500].hex,V3[500].hex,dc.hex,Ea.hex;({...Vf});var cD={},QCn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},JCn=QCn,hhe={"text/plain":"Text","text/html":"Url",default:"Text"},e_n="Copy to clipboard: #{key}, Enter";function t_n(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function n_n(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=JCn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=hhe[t.format]||hhe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=t_n("message"in t?t.message:e_n),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var r_n=n_n;function Z4(e){"@babel/helpers - typeof";return Z4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z4(e)}Object.defineProperty(cD,"__esModule",{value:!0});cD.CopyToClipboard=void 0;var b2=uRe(h),o_n=uRe(r_n),i_n=["text","onCopy","options","children"];function uRe(e){return e&&e.__esModule?e:{default:e}}function phe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?phe(Object(n),!0).forEach(function(r){uz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):phe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s_n(e,t){if(e==null)return{};var n=a_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function l_n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ghe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c_n(e,t,n){return t&&ghe(e.prototype,t),n&&ghe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u_n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X4(e,t)}function X4(e,t){return X4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},X4(e,t)}function d_n(e){var t=h_n();return function(){var r=O5(e),o;if(t){var i=O5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return f_n(this,o)}}function f_n(e,t){if(t&&(Z4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(e)}function dRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O5(e){return O5=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},O5(e)}function uz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fRe=function(e){u_n(n,e);var t=d_n(n);function n(){var r;l_n(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),uz(dRe(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=b2.default.Children.only(f),v=(0,o_n.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return c_n(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=s_n(o,i_n),a=b2.default.Children.only(i);return b2.default.cloneElement(a,mhe(mhe({},s),{},{onClick:this.onClick}))}}]),n}(b2.default.PureComponent);cD.CopyToClipboard=fRe;uz(fRe,"defaultProps",{onCopy:void 0,options:void 0});var p_n=cD,Q4=p_n.CopyToClipboard;Q4.CopyToClipboard=Q4;var m_n=Q4;const g_n=Pe(m_n);var v_n=Xf,y_n=Qa,b_n="[object Number]";function x_n(e){return typeof e=="number"||y_n(e)&&v_n(e)==b_n}var w_n=x_n;const C_n=Pe(w_n);function vhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vhe(Object(n),!0).forEach(function(r){__n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function __n(e,t,n){return t=S_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S_n(e){var t=E_n(e,"string");return typeof t=="symbol"?t:String(t)}function E_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R5(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function hRe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function pRe(e){return hRe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function mRe(e){return e._type==="@list"}function gRe(e){return e._type==="@span"}function vRe(e){return e._type==="@text"}const bhe=["strong","em","code","underline","strike-through"];function k_n(e,t,n){if(!R5(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&R5(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>j_n(o,i,s))}function j_n(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=bhe.indexOf(t),s=bhe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function T_n(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(k_n),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(y=>y._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(R5(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function A_n(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!pRe(i)){n.push(i),r=void 0;continue}if(!r){r=x2(i,o,t),n.push(r);continue}if(D_n(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=x2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=yhe(yhe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&J4(s,i);if(a){r=a,r.children.push(i);continue}r=x2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&J4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=x2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function D_n(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function x2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function J4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(mRe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!R5(i)?J4(i,t):void 0}function yRe(e){let t="";return e.children.forEach(n=>{vRe(n)?t+=n.text:gRe(n)&&(t+=yRe(n))}),t}const I_n="html",P_n=["block","list","listItem","marks","types"],O_n=["listItem"],R_n=["_key"];function xhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xhe(Object(n),!0).forEach(function(r){$_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $_n(e,t,n){return t=M_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_n(e){var t=F_n(e,"string");return typeof t=="symbol"?t:String(t)}function F_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eF(e,t){if(e==null)return{};var n=L_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function B_n(e,t){const n=eF(t,P_n);return mc(mc({},e),{},{block:my(e,t,"block"),list:my(e,t,"list"),listItem:my(e,t,"listItem"),marks:my(e,t,"marks"),types:my(e,t,"types")},n)}function my(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?mc(mc({},o),r):o}const N_n=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},z_n={textDecoration:"underline"},V_n={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:z_n,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:N_n},H_n={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},U_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},jC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),bRe=e=>jC('block type "'.concat(e,'"'),"types"),W_n=e=>jC('mark type "'.concat(e,'"'),"marks"),Y_n=e=>jC('block style "'.concat(e,'"'),"block"),q_n=e=>jC('list style "'.concat(e,'"'),"list"),G_n=e=>jC('list item style "'.concat(e,'"'),"listItem");function K_n(e){console.warn(e)}const whe={display:"none"},Z_n=e=>{let{value:t,isInline:n}=e;const r=bRe(t._type);return n?l.jsx("span",{style:whe,children:r}):l.jsx("div",{style:whe,children:r})},X_n=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},Q_n=e=>{let{children:t}=e;return l.jsx("p",{children:t})},J_n=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},e2n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},t2n=()=>l.jsx("br",{}),n2n={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},Che={types:{},block:n2n,marks:V_n,list:H_n,listItem:U_n,hardBreak:t2n,unknownType:Z_n,unknownMark:X_n,unknownList:J_n,unknownListItem:e2n,unknownBlockStyle:Q_n};function r2n(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=K_n}=e;const i=o||i2n,s=Array.isArray(t)?t:[t],a=A_n(s,r||I_n),c=h.useMemo(()=>n?B_n(Che,n):Che,[n]),u=h.useMemo(()=>o2n(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const o2n=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return mRe(p)?i(p,m,g):pRe(p)?o(p,m,g):gRe(p)?s(p,m,g):r(p)?d(p,m,g,v):hRe(p)?a(p,m,g,v):vRe(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=_he({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(G_n(w),{type:w,nodeType:"listItemStyle"})}let b=v.children;if(f.style&&f.style!=="normal"){const w=eF(f,O_n);b=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:b},m)}function i(f,p,m){const v=f.children.map((b,w)=>n({node:b._key?b:mc(mc({},b),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(q_n(b),{nodeType:"listStyle",type:b})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:y}=f,x=e.marks[g]||e.unknownMark,b=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(W_n(g),{nodeType:"mark",type:g}),l.jsx(x,{text:yRe(f),value:v,markType:g,markKey:y,renderNode:n,children:b},m)}function a(f,p,m,v){const g=_he({node:f,index:p,isInline:v,renderNode:n}),y=eF(g,R_n),x=y.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(Y_n(x),{nodeType:"blockStyle",type:x}),l.jsx(w,mc(mc({},y),{},{value:y.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(bRe(f._type),{nodeType:"block",type:f._type});const y=e.unknownType;return l.jsx(y,mc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},y=e.types[f._type];return y?l.jsx(y,mc({},g),m):null}return n};function _he(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=T_n(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function i2n(){}var s2n=cEe,a2n=q8,l2n=a2n(function(e,t,n){return t=t.toLowerCase(),e+(n?s2n(t):t)}),c2n=l2n;const She=Pe(c2n);var u2n=q8,d2n=u2n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),f2n=d2n;const h2n=Pe(f2n);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ehe=Object.getOwnPropertySymbols,p2n=Object.prototype.hasOwnProperty,m2n=Object.prototype.propertyIsEnumerable;function g2n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function v2n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var y2n=v2n()?Object.assign:function(e,t){for(var n,r=g2n(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)p2n.call(n,s)&&(r[s]=n[s]);if(Ehe){o=Ehe(n);for(var a=0;a<o.length;a++)m2n.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},w2=y2n,b2n={};function dl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var khe="mixins";function x2n(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=w2({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=w2({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=w2({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&dl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&dl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){dl(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),dl(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;_.hasOwnProperty(khe)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==khe){var k=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,k);else{var A=o.hasOwnProperty(j),D=typeof k=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)E.push(j,k),S[j]=k;else if(T){var P=o[j];dl(A&&(P==="DEFINE_MANY_MERGED"||P==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",P,j),P==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):P==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(C,_){if(_)for(var S in _){var E=_[S];if(_.hasOwnProperty(S)){var j=S in s;dl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in C;if(k){var T=i.hasOwnProperty(S)?i[S]:null;dl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,_){dl(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(dl(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var E=C.apply(this,arguments),j=_.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var E=_[S],j=_[S+1];C[E]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},b=function(){};w2(b.prototype,e.prototype,x);function w(C){var _=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=b2n,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;dl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new b,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,g),c(_,C),c(_,y),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),dl(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var w2n=x2n,$5=h,C2n=w2n;if(typeof $5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var _2n=new $5.Component().updater,uD=C2n($5.Component,$5.isValidElement,_2n),S2n=Date.now||E2n;function E2n(){return new Date().getTime()}var jhe=S2n,k2n=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=jhe()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=jhe();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},j2n=T2n;function T2n(e){for(var t=A2n(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=yi(n,r,o,i,t[s+0],7,-680876936),i=yi(i,n,r,o,t[s+1],12,-389564586),o=yi(o,i,n,r,t[s+2],17,606105819),r=yi(r,o,i,n,t[s+3],22,-1044525330),n=yi(n,r,o,i,t[s+4],7,-176418897),i=yi(i,n,r,o,t[s+5],12,1200080426),o=yi(o,i,n,r,t[s+6],17,-1473231341),r=yi(r,o,i,n,t[s+7],22,-45705983),n=yi(n,r,o,i,t[s+8],7,1770035416),i=yi(i,n,r,o,t[s+9],12,-1958414417),o=yi(o,i,n,r,t[s+10],17,-42063),r=yi(r,o,i,n,t[s+11],22,-1990404162),n=yi(n,r,o,i,t[s+12],7,1804603682),i=yi(i,n,r,o,t[s+13],12,-40341101),o=yi(o,i,n,r,t[s+14],17,-1502002290),r=yi(r,o,i,n,t[s+15],22,1236535329),n=bi(n,r,o,i,t[s+1],5,-165796510),i=bi(i,n,r,o,t[s+6],9,-1069501632),o=bi(o,i,n,r,t[s+11],14,643717713),r=bi(r,o,i,n,t[s+0],20,-373897302),n=bi(n,r,o,i,t[s+5],5,-701558691),i=bi(i,n,r,o,t[s+10],9,38016083),o=bi(o,i,n,r,t[s+15],14,-660478335),r=bi(r,o,i,n,t[s+4],20,-405537848),n=bi(n,r,o,i,t[s+9],5,568446438),i=bi(i,n,r,o,t[s+14],9,-1019803690),o=bi(o,i,n,r,t[s+3],14,-187363961),r=bi(r,o,i,n,t[s+8],20,1163531501),n=bi(n,r,o,i,t[s+13],5,-1444681467),i=bi(i,n,r,o,t[s+2],9,-51403784),o=bi(o,i,n,r,t[s+7],14,1735328473),r=bi(r,o,i,n,t[s+12],20,-1926607734),n=xi(n,r,o,i,t[s+5],4,-378558),i=xi(i,n,r,o,t[s+8],11,-2022574463),o=xi(o,i,n,r,t[s+11],16,1839030562),r=xi(r,o,i,n,t[s+14],23,-35309556),n=xi(n,r,o,i,t[s+1],4,-1530992060),i=xi(i,n,r,o,t[s+4],11,1272893353),o=xi(o,i,n,r,t[s+7],16,-155497632),r=xi(r,o,i,n,t[s+10],23,-1094730640),n=xi(n,r,o,i,t[s+13],4,681279174),i=xi(i,n,r,o,t[s+0],11,-358537222),o=xi(o,i,n,r,t[s+3],16,-722521979),r=xi(r,o,i,n,t[s+6],23,76029189),n=xi(n,r,o,i,t[s+9],4,-640364487),i=xi(i,n,r,o,t[s+12],11,-421815835),o=xi(o,i,n,r,t[s+15],16,530742520),r=xi(r,o,i,n,t[s+2],23,-995338651),n=wi(n,r,o,i,t[s+0],6,-198630844),i=wi(i,n,r,o,t[s+7],10,1126891415),o=wi(o,i,n,r,t[s+14],15,-1416354905),r=wi(r,o,i,n,t[s+5],21,-57434055),n=wi(n,r,o,i,t[s+12],6,1700485571),i=wi(i,n,r,o,t[s+3],10,-1894986606),o=wi(o,i,n,r,t[s+10],15,-1051523),r=wi(r,o,i,n,t[s+1],21,-2054922799),n=wi(n,r,o,i,t[s+8],6,1873313359),i=wi(i,n,r,o,t[s+15],10,-30611744),o=wi(o,i,n,r,t[s+6],15,-1560198380),r=wi(r,o,i,n,t[s+13],21,1309151649),n=wi(n,r,o,i,t[s+4],6,-145523070),i=wi(i,n,r,o,t[s+11],10,-1120210379),o=wi(o,i,n,r,t[s+2],15,718787259),r=wi(r,o,i,n,t[s+9],21,-343485551),n=df(n,a),r=df(r,c),o=df(o,u),i=df(i,d)}return C2(n)+C2(r)+C2(o)+C2(i)}var The="0123456789abcdef";function dz(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function tF(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function M5(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function df(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function C2(e){var t="",n;for(n=0;n<=3;n++)t+=The.charAt(e>>n*8+4&15)+The.charAt(e>>n*8&15);return t}function A2n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function D2n(e,t){return e<<t|e>>>32-t}function dD(e,t,n,r,o,i){return df(D2n(df(df(t,e),df(r,i)),o),n)}function yi(e,t,n,r,o,i,s){return dD(dz(M5(t,n),M5(~t,r)),e,t,o,i,s)}function bi(e,t,n,r,o,i,s){return dD(dz(M5(t,r),M5(n,~r)),e,t,o,i,s)}function xi(e,t,n,r,o,i,s){return dD(tF(tF(t,n),r),e,t,o,i,s)}function wi(e,t,n,r,o,i,s){return dD(tF(n,dz(t,~r)),e,t,o,i,s)}var I2n=Math.ceil(Math.random()*10),P2n=function(){return++I2n},fz=function(e){return Object.prototype.toString.call(e).slice(8,-1)},O2n=fz;function R2n(e){var t=O2n(e);return t!=="Object"&&t!=="Array"}var xRe=R2n,$2n=h,M2n=uD,_2=$2n.createElement,F2n=M2n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return _2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return _2("span",null,e.string.split(e.highlight).map(function(o,i){return _2("span",{key:i},i>0?_2("span",{className:"json-inspector__hl"},r):null,o)}))}}),L2n=h,B2n=uD,N2n=j2n,z2n=P2n,wRe=fz,GS=xRe,V2n=F2n,Ca=L2n.createElement,H2n=".root.",CRe=B2n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+z2n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return Ca("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},Ca("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),Ca("label",{className:"json-inspector__line",htmlFor:e,onClick:r},Ca("div",{className:"json-inspector__flatpath"},n.path),Ca("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=wRe(e);switch(t){case"Array":var n=e.length;return Ca("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+U2n(n));case"Object":var r=Object.keys(e).length;return Ca("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+W2n(r));default:return Ca("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!GS(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return Ca(CRe,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:Y2n(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return GS(e.data)||this.state.original||!e.getOriginal||!e.query||l3(this.keypath(),e.query)?null:Ca("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?Ca(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!l3(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(H2n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return Ca(V2n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),GS(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!l3(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function U2n(e){return e+(e===1?" item":" items")}function W2n(e){return e+(e===1?" property":" properties")}function Y2n(e,t){if(GS(t)){var n=N2n(String(t));return e+":"+n}else return e+"["+wRe(t)+"]"}function l3(e,t){return e.indexOf(t)!==-1}var q2n=CRe,_Re=function(){},G2n=h,K2n=uD,Z2n=G2n.createElement,X2n=_Re,Q2n=K2n({getDefaultProps:function(){return{onChange:X2n}},render:function(){return Z2n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),SRe=function(e){return Object.keys(e).length===0},J2n=Object.keys,eSn=xRe,tSn=SRe,nSn=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return KS(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=KS(n[o],r,t);break}}return n[r]||(n[r]=KS(e,r,t)),n[r]}};function KS(e,t,n){return J2n(e).reduce(function(r,o){var i=e[o],s;return eSn(i)?(c3(t,o,n)||c3(t,i,n))&&(r[o]=i):c3(t,o,n)?r[o]=i:(s=KS(i,t,n),tSn(s)||Object.assign(r,rSn(o,s))),r},{})}function c3(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function rSn(e,t){var n={};return n[e]=t,n}var oSn=fz,u3=".";function nF(e,t){var n=t.split(u3),r=n.shift();if(!r)return e;var o=oSn(e);if(o==="Array"&&e[Ahe(r)])return nF(e[Ahe(r)],n.join(u3));if(o==="Object"&&e[r])return nF(e[r],n.join(u3))}function Ahe(e){return parseInt(e,10)}var iSn=nF,sSn=h,aSn=uD,lSn=k2n,gy=sSn.createElement,cSn=q2n,uSn=Q2n,dSn=nSn,fSn=SRe,hSn=iSn,pSn=_Re,mSn=aSn({getDefaultProps:function(){return{data:null,search:uSn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:pSn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&fSn(r);return gy("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?gy("div",{className:"json-inspector__not-found"},"Nothing found"):gy(cSn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return gy("div",{className:"json-inspector__toolbar"},gy(e,{onChange:lSn(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:dSn(e,t)})},getOriginal:function(e){return hSn(this.props.data,e)}});const gSn=Pe(mSn);var vSn=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const ySn=Pe(vSn);function hz(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function ERe(e){const{document:t}=e,r=jn().get(t._type),{error:o,value:i}=DB({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const pz=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(KAe,{onReset:o,hooks:t,args:r,children:n})},bSn=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(KAe,{...o,hooks:t,args:r,children:n})};function xSn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const wSn=5e3;let d3;const kRe=()=>(d3||(d3=Ri(document,"visibilitychange").pipe(ci(null),ce(()=>document.visibilityState==="visible"),Jn(),rt(e=>e?Wo(0,wSn):Qn),Io({refCount:!0,bufferSize:1}))),d3);function CSn(e,t){let{versionedClient:n}=t;const r=fi(e),o=$n(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ce(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function _Sn(e,t){const{versionedClient:n}=t;return kRe().pipe(rt(()=>CSn(e,t)),rt(r=>{if(!r)return ve({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Rn(i=>{if(xSn(i)&&i.statusCode===404)return ve({totalCount:0,references:[]});throw i}))}))}const SSn=ph(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),ESn=ph(e=>{let[t,n]=e;return kRe().pipe(rt(()=>_Sn(t,{versionedClient:n})))});function kSn(e){const t=mr(cn),n=il(),r=$n(e),[o,i]=SSn(h.useMemo(()=>[r,n],[n,r])),[s,a]=ESn(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function jSn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=ni(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(cr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(S0,{"aria-label":r})})})}function TSn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=ni(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(cr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Mu,{})})})}function jRe(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=bt(i.title)&&h.isValidElement(i.title)||CT(i.title)||C_n(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=bo(()=>EA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(Kt,{space:4,children:[r&&r.length>0&&l.jsx(rN,{presence:r}),l.jsx(jSn,{document:c}),l.jsx(TSn,{document:a})]});return l.jsx(vh,{...OB({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function fs(){throw new Error("Pane is missing router context")}const fD=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>fs(),ChildLink:()=>fs(),ReferenceChildLink:()=>fs(),handleEditReference:()=>fs(),ParameterizedLink:()=>fs(),replaceCurrent:()=>fs(),closeCurrentAndAfter:()=>fs(),closeCurrent:()=>fs(),duplicateCurrent:()=>fs(),setView:()=>fs(),setParams:()=>fs(),setPayload:()=>fs(),navigateIntent:()=>fs(),createPathWithParams:()=>fs()}),ASn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(fD),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(vT,{...t,ref:n,state:s})}),TRe=h.createContext(null);function g1(){const e=h.useContext(TRe);if(!e)throw new Error("PaneLayout: missing context value");return e}const DSn=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(fD);return l.jsx(vT,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),U$n=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(DSn,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:zr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),W$n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(fD),{params:s,payload:a,...c}=t,u=ti(s),d=ti(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(vT,{ref:n,...c,state:f})});function Xc(){return h.useContext(fD)}const Dhe=[];function ISn(e){const{onClick:t,type:n,value:r}=e,o=$n(r==null?void 0:r._id),i=kC(o),s=zi(),{ReferenceChildLink:a}=Xc(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:Dhe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(Pp,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(jRe,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:Dhe,schemaType:n,value:r})})}var Ihe=Object.freeze,PSn=Object.defineProperty,TC=(e,t)=>Ihe(PSn(e,"raw",{value:Ihe(t||e.slice())})),Phe,Ohe,Rhe,$he,Mhe;const ARe=O(M)(Phe||(Phe=TC([`
  margin-left: auto;
`]))),OSn=O.details(Ohe||(Ohe=TC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),ARe),RSn=O.summary(Rhe||(Rhe=TC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),$Sn=O.table($he||($he=TC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.space[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),MSn=O(U)(Mhe||(Mhe=TC([`
  min-height: 35px;
`]))),Fhe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(Kt,{space:2,children:[l.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(it,{portal:!0,placement:"top",content:l.jsx(eo,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(L,{size:1,muted:!0,children:l.jsx(vm,{})})})]}):null};function FSn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=jn(),d=qo(),f=h.useCallback(y=>{const x=u.get(y._type);return x?l.jsx(ISn,{type:x,value:y,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(vh,{icon:jl,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(X,{children:[l.jsx(X,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(U,{children:[l.jsx(L,{"aria-hidden":"true",size:1,children:l.jsx(Lr,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(L,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to “",r,"”"]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(L,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),l.jsx(X,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(U,{direction:"column",children:[n.totalCount>0&&l.jsxs(ee,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>l.jsx(M,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(Fhe,{...n})})]}),t.totalCount>0&&l.jsxs(OSn,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(RSn,{children:l.jsx(X,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(U,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(L,{size:3,children:l.jsx(VF,{})})}),l.jsxs(U,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(L,{children:[p," in ",v]})}),l.jsx(M,{children:l.jsx(L,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx(ARe,{children:l.jsx(L,{muted:!0,children:l.jsx(el,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs($Sn,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Ht,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Ht,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Ht,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:w,documentId:C}=y;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(L,{size:1,children:b})}),l.jsx("td",{children:l.jsx(L,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(MSn,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx(g_n,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(oe,{title:"Copy ID to clipboard",mode:"bleed",icon:$u,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(Fhe,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var Lhe=Object.freeze,LSn=Object.defineProperty,DRe=(e,t)=>Lhe(LSn(e,"raw",{value:Lhe(t||e.slice())})),Bhe,Nhe;const BSn=O(M).attrs({padding:4})(Bhe||(Bhe=DRe([`
  box-sizing: border-box;
`]))),NSn=O(U).attrs({align:"center",direction:"column",justify:"center"})(Nhe||(Nhe=DRe([`
  height: 300px;
`])));function zSn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=kSn(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(ERe,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),y=!u;return l.jsx(Fi,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(en,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(oe,{mode:"ghost",onClick:o,text:"Cancel"}),y&&l.jsx(oe,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(BSn,{children:c&&a&&!u?l.jsx(FSn,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(NSn,{"data-testid":"loading-container",children:[l.jsx(hr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function IRe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Fi,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(U,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(oe,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(L,{children:"An error occurred while loading referencing documents."})})}):l.jsx(P0,{onCatch:r,children:l.jsx(zSn,{...e})})}const VSn={constrainSize:!0,placement:"left-start",portal:!0};function F5(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(Or,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(Or,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Ht,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(F5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Or,{}),l.jsx(Y6,{disabled:t,icon:r.icon,popover:VSn,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(F5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Or,{}),l.jsx(HSn,{disabled:t,node:r})]})}function HSn(e){const{node:t}=e;return t.intent?l.jsx(WSn,{...e,intent:t.intent}):l.jsx(USn,{...e})}function USn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason});return l.jsx(uC,{content:o,placement:"left",children:l.jsx(Ne,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&ra,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function WSn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(L,{size:1,children:o.disabled.reason}),s=Fw({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(uC,{content:i,placement:"left",children:l.jsx(Ne,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?ra:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const YSn={constrainSize:!0,placement:"bottom",portal:!0};function rF(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&rF(n.children,t))}function PRe(e){const{nodes:t}=e,n=h.useId(),r=rF(t,"critical"),o=rF(t,"caution");return l.jsx(nn,{button:l.jsx(gh,{icon:Po,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Nt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(F5,{isAfterGroup:c,node:i},i.key)})}),popover:YSn})}const qSn=!1,Dv=51,Iv=Dv*4,ORe=h.createContext(null);var zhe=Object.freeze,GSn=Object.defineProperty,KSn=(e,t)=>zhe(GSn(e,"raw",{value:zhe(t||e.slice())})),Vhe;const ZSn=O(is)(Vhe||(Vhe=KSn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function XSn(e){let{disabled:t,element:n}=e;const{resize:r}=g1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(ZSn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Hhe=Object.freeze,QSn=Object.defineProperty,JSn=(e,t)=>Hhe(QSn(e,"raw",{value:Hhe(t||e.slice())})),Uhe;const eEn=O(X)(Uhe||(Uhe=JSn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),hD=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,y]=h.useState(null),{collapse:x,collapsed:b,expand:w,expandedElement:C,mount:_,panes:S}=g1(),E=S.find(q=>q.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=b?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=fr(n),P=(r=E==null?void 0:E.flex)!=null?r:u,$=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,R=(i=E==null?void 0:E.currentMaxWidth)!=null?i:c,z=h.useCallback(q=>{y(q),I.current=q},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,g]);const B=h.useCallback(()=>{g&&x(g)},[x,g]),H=h.useCallback(()=>{g&&w(g)},[w,g]),W=h.useMemo(()=>({collapse:B,collapsed:b?!1:A,expand:H,index:j,isLast:T,rootElement:g}),[A,B,H,T,b,j,g]),V=h.useMemo(()=>{if(!b)return A?Dv:$===0||T?f||Iv:$||f||Iv},[A,$,T,b,f]),G=h.useMemo(()=>{if(A)return Dv;if(!(b&&T))return T?p?R??p:void 0:R??p},[A,R,T,b,p]),te=b&&!T,N=h.useMemo(()=>!T&&!b&&l.jsx(td,{zOffset:"paneResizer",children:l.jsx(XSn,{disabled:A||D,element:g})}),[A,T,b,D,g]),Y=h.useMemo(()=>({flex:P,minWidth:V,maxWidth:G===1/0?void 0:G}),[P,V,G]);return l.jsxs(l.Fragment,{children:[l.jsx(td,{zOffset:"pane",children:l.jsx(ORe.Provider,{value:W,children:l.jsxs(eEn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:te,id:d,overflow:b?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:z,style:Y,children:[qSn,l.jsx(Uu,{element:g,children:!te&&l.jsx(U,{direction:"column",height:"fill",children:s})})]})})}),N]})});function wh(){const e=h.useContext(ORe);if(!e)throw new Error("Pane: missing context value");return e}var Whe=Object.freeze,tEn=Object.defineProperty,nEn=(e,t)=>Whe(tEn(e,"raw",{value:Whe(t||e.slice())})),Yhe;const RRe=O(X)(Yhe||(Yhe=nEn([`
  position: relative;
  outline: none;
`])));RRe.displayName="PaneContent__root";const pD=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=wh(),{collapsed:u}=g1();return l.jsx(RRe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var qhe=Object.freeze,rEn=Object.defineProperty,$Re=(e,t)=>qhe(rEn(e,"raw",{value:qhe(t||e.slice())})),Ghe,Khe;const oEn=O(is)(Ghe||(Ghe=$Re([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),iEn=O(X)(Khe||(Khe=$Re([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),sEn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=wh();return l.jsx(td,{zOffset:"paneFooter",children:l.jsx(oEn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(iEn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var Zhe=Object.freeze,aEn=Object.defineProperty,v1=(e,t)=>Zhe(aEn(e,"raw",{value:Zhe(t||e.slice())})),Xhe,Qhe,Jhe,epe,tpe,npe;const lEn=O(is)(Xhe||(Xhe=v1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),cEn=O(U)(Qhe||(Qhe=v1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),uEn=O(X)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return de(Jhe||(Jhe=v1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),dEn=O(Oi)(epe||(epe=v1([`
  width: 66%;
  max-width: 175px;
`]))),fEn=O(L)(tpe||(tpe=v1([`
  cursor: default;
  outline: none;
`]))),hEn=O(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return de(npe||(npe=v1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],At(n.base.bg,0),r[3])}),mz=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=wh(),g=oh(v||null),y=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),b=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Wu,{zOffset:100,children:l.jsx(lEn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(td,{zOffset:"paneHeader",children:l.jsxs(X,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(cEn,{onClick:b,padding:2,sizing:"border",style:y,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(uEn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(dEn,{animated:!0,radius:1}),!s&&l.jsx(fEn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(U,{align:"center",hidden:p,children:l.jsx(td,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(hEn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function MRe(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(pEn,{node:t,padding:n}):t.type==="group"?l.jsx(gEn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function pEn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(mEn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(L,{size:1,children:n.disabled.reason});return l.jsx(uC,{content:o,placement:"bottom",children:l.jsx(gh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function mEn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason}),s=Fw({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(uC,{content:i,placement:"bottom",children:l.jsx(gh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function gEn(e){var t;const{node:n,padding:r}=e;return l.jsx(nn,{button:l.jsx(gh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:jl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Nt,{children:n.children.map((o,i)=>{var s;return l.jsx(F5,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var rpe=Object.freeze,vEn=Object.defineProperty,yEn=(e,t)=>rpe(vEn(e,"raw",{value:rpe(t||e.slice())})),ope;const bEn=O(X)(ope||(ope=yEn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function xEn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:Iv,c=(i=n.minWidth)!=null?i:Iv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),y=e.left.width+g,x=e.right.width-g,b=y/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:b,leftW:y,rightFlex:w,rightW:x}}function wEn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const ipe=[];function CEn(e,t){const n=new WeakMap;for(const o of t)n.set(o,wEn(e,o));const r=(o,i)=>{const s=n.get(o)||ipe,a=n.get(i)||ipe,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function _En(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(b){r.add(b),a===b&&(a=null),x()}function f(b){r.delete(b),a=b,x()}function p(b,w){return n.set(b,{...w,original:w}),t.push(b),i&&CEn(i,t),f(b),()=>{const C=t.indexOf(b);C>-1&&t.splice(C,1),n.delete(b),x()}}function m(b,w,C){var _,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],D=n.get(A);if(D){if(b==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),b==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:P,leftFlex:$,rightFlex:R}=xEn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:P}),x()}if(b==="end"){u=!1;const I=c.get(w),P=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=P==null?void 0:P.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(b){i=b}function g(b){s=b,x()}function y(b){return e.push(b),()=>{const w=e.push(b);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:y};function x(){var b,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*Dv;let A=s-T;for(const I of S){const P=n.get(I);if(!P)continue;const $=P.currentMinWidth||P.minWidth||Iv,R=I===k,z=r.has(I),B=$>A,H=R?!1:z||B,W=c.get(I);E.set(I,{element:I,collapsed:H,currentMinWidth:(b=W==null?void 0:W.width)!=null?b:P.currentMinWidth,currentMaxWidth:(w=W==null?void 0:W.width)!=null?w:P.currentMaxWidth,flex:(_=(C=W==null?void 0:W.flex)!=null?C:P.flex)!=null?_:1}),H?A-=Dv:A-=$-Dv}const D=[];for(const I of t){const P=E.get(I);P&&D.push(P)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function Y$n(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>_En(),[]),[a,c]=h.useState(null),u=oh(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(TRe.Provider,{value:v,children:l.jsx(bEn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function gz(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const FRe=sCt(gz);function LRe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(BRe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function BRe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>BRe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const SEn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(Pm,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(oe,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(oe,{...o,as:i,"data-as":"a",ref:n})});function f3(e){let{reveal:t,loading:n,children:r}=e;const o=Go();return t?l.jsx(it,{content:n?l.jsx(M,{padding:2,children:l.jsx(L,{children:"Loading…"})}):l.jsx(Mc,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const EEn={constrainSize:!0,placement:"bottom",portal:!0},spe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function kEn(e){let{templateItems:t}=e;const n=jn(),r=p1(),[o,i]=rz({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(f3,{reveal:!0,loading:i,children:l.jsx(oe,{"aria-label":"Insufficient permissions",icon:Do,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=spe(n,r,c);return f?l.jsx(f3,{reveal:d,loading:i,children:l.jsx(SEn,{"aria-label":c.title,icon:c.icon||Do,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(nn,{button:l.jsx(oe,{icon:Do,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Nt,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Ht,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=spe(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,y)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:y}):l.jsx(Pm,{...g,intent:p.type,params:p.params,ref:y}));return v.displayName="Link",l.jsx(f3,{reveal:f,loading:i,children:l.jsx(Ne,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:EEn})}function jEn(e){return e!=null}const TEn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},AEn=h.memo(function(t){const{initialValueTemplateItems:n=fn,menuItems:r=fn,menuItemGroups:o=fn,actionHandlers:i=TWt}=t,s=p1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>LRe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(gz),[c]),d=h.useMemo(()=>c.filter(FRe),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:y}=m.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:b,menuItemIndex:v,initialDocumentId:_}}).filter(jEn).map(m=>{let{initialDocumentId:v,item:g,template:y,menuItemIndex:x,templateParams:b}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:y.id,type:"initialValueTemplateItem",title:g.title||y.title,icon:g.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,s]),p=h.useMemo(()=>Wf([...f,...n],m=>TEn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(U,{gap:1,children:[p.length>0&&l.jsx(kEn,{templateItems:p}),u.map(m=>l.jsx(MRe,{node:m},m.key)),d.length>0&&l.jsx(PRe,{nodes:d})]})}),DEn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx(Lr,{})});function IEn(e){const{layout:t,value:n}=e;return l.jsx(vh,{...DEn(n._id,n._type),layout:t})}function ape(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function PEn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=jn(),m=zi(),{ChildLink:v}=Xc(),g=kC(n),y=!!(i&&i.name&&p.get(i.name)),[x,b]=h.useState(!1),w=h.useMemo(()=>c&&s4e(c)?!i||!y?l.jsx(IEn,{value:c}):l.jsx(jRe,{documentPreviewStore:m,icon:ape(t,i,Rf),layout:r,schemaType:i,value:c,presence:g}):l.jsx(vh,{status:l.jsx(L,{muted:!0,children:l.jsx(Lc,{})}),icon:ape(t,i,H0e),layout:r,title:a}),[m,y,t,r,i,a,c,g]),C=h.useMemo(()=>function(E){return l.jsx(v,{...E,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){b(!1);return}b(!0)},[]);return h.useEffect(()=>b(!1),[s]),l.jsx(Pp,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const NRe=h.createContext(null);function Br(){const e=h.useContext(NRe);if(!e)throw new Error("DocumentPane: missing context value");return e}const OEn={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},zRe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=Br(),{delete:s}=Zl(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=xh({id:t,type:n,permission:"delete"}),y=Go();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:vo,disabled:!0,label:"Delete",title:l.jsx(Mc,{operationLabel:"delete this document",currentUser:y})}:{tone:"critical",icon:vo,disabled:a||!!s.disabled||g,title:s.disabled&&OEn[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(IRe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};zRe.action="delete";const REn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},VRe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Zl(t,n),[a,c]=h.useState(!1),[u,d]=xh({id:t,type:n,permission:"discardDraft"}),f=Go(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Fu,disabled:!0,label:"Discard changes",title:l.jsx(Mc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Fu,disabled:!!s.disabled||d,title:s.disabled&&REn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};VRe.action="discardChanges";const $En={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},HRe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Zl(t,n),{navigateIntent:i}=Ul(),[s,a]=h.useState(!1),[c,u]=xh({id:t,type:n,permission:"duplicate"}),d=Go(),f=h.useCallback(()=>{const p=md();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:$u,disabled:!0,label:"Duplicate",title:l.jsx(Mc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:$u,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&$En[o.disabled]||"",onHandle:f}};HRe.action="duplicate";const vz=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Zl(t,n),s=O3e(t,n),{navigateIntent:a}=Ul(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:GF,dialog:m,disabled:v}};vz.action="restore";const MEn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function FEn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):MEn[e]}const URe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=Zl(n,r),d=ZN(n,r),f=$3e(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=Br(),y=KN(v,g),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(a4e),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=xh({id:n,type:r,permission:"publish"}),k=Go(),T=ni((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?FEn(u.disabled,T)||"":b?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(b||I(),C(!1))},[_,I,b,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const z=R?"published":null,H=setTimeout(()=>{c(z)},R?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const P=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:l.jsx(Mc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const $=!!(w||(t=y==null?void 0:y.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?ra:S0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:P}};URe.action="publish";const LEn={NOT_PUBLISHED:"This document is not published"},WRe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Zl(t,n),[a,c]=h.useState(!1),[u,d]=xh({id:t,type:n,permission:"unpublish"}),f=Go(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(IRe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:iE,label:"Unpublish",title:l.jsx(Mc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:iE,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?LEn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};WRe.action="unpublish";const BEn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},NEn=!1,YRe={},q$n=Symbol("LOADING_PANE"),qRe="documentPanelPortalElement",GRe={activePanes:[]};function G$n(e){GRe.activePanes=e}function zEn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=GRe.activePanes||[],a=t.id||md(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:YRe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const VEn={};function HEn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function UEn(e){return(e||[]).map(t=>t.map(ekn).join("|")).map(encodeURIComponent).join(";")}function WEn(e){return JSON.stringify(e)}function YEn(e){return tkn(decodeURIComponent(e))}function qEn(e){return UEn(e)}const GEn=Gi.create("/",[Gi.intents("/intent"),Gi.create("/edit/:type/:editDocumentId",[Gi.create({path:"/:params",transform:{params:{toState:HEn,toPath:WEn}}})]),Gi.create({path:"/:panes",children:[Gi.create("/:action",Gi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:YEn,toPath:qEn}}})]),KEn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,ZEn=e=>/^[a-z0-9]+=[^=]+/i.test(e),XEn=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),KRe=["view","since","rev","inspect","comment"],QEn=Boolean;function JEn(e,t){const n={...t,params:VEn,payload:void 0};return e.reduce((r,o)=>{if(ZEn(o)){const i=o.slice(0,o.indexOf("=")),s=o.slice(i.length+1);r.params={...r.params,[decodeURIComponent(i)]:decodeURIComponent(s)}}else XEn(o)?r.payload=okn(o):console.warn("Unknown pane segment: %s - skipping",o);return r},n)}function ekn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:l2e(r),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!KRe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(QEn).flat()).join(",")||","}function tkn(e){return e.indexOf(",{")!==-1?nkn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return JEn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...$i(n.params,KRe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function nkn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(KEn)||[];if(!r){n=n.slice(1);continue}const s=i&&rkn(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function rkn(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function okn(e){try{return e?a2e(e):void 0}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}const ikn=320,skn=600,oF=320,akn=540,lkn={},iF="inspect:",ckn=[{id:"inspectors"},{id:"links"}],sF="sanity/desk/history",ukn="sanity/desk/validation",Rb="sanity/desk/comments";var lpe=Object.freeze,dkn=Object.defineProperty,fkn=(e,t)=>lpe(dkn(e,"raw",{value:lpe(t||e.slice())})),cpe;const upe=O(zwe)(cpe||(cpe=fkn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),hkn=/[^\p{Alpha}\p{White_Space}]/gu,pkn=new RegExp("\\p{White_Space}+","u");function mkn(e){const t=e.replace(hkn,"").split(pkn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function mD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>mkn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(upe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(upe,{...n})}const ZRe=25,gkn={minWidth:ZRe};function ZS(){return l.jsx("div",{style:gkn})}var dpe=Object.freeze,vkn=Object.defineProperty,ykn=(e,t)=>dpe(vkn(e,"raw",{value:dpe(t||e.slice())})),fpe;const bkn={open:500,close:0},hpe=O.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de(fpe||(fpe=ykn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function XRe(e){const{selected:t,userId:n}=e,[r,o]=m1(n),i=Go();return!r||o?l.jsx(hpe,{children:"@Loading"}):l.jsx(it,{portal:!0,open:t,delay:bkn,content:l.jsxs(U,{align:"center",padding:2,gap:2,children:[l.jsx(U,{children:l.jsx(mD,{user:r})}),l.jsx(L,{size:1,children:r.displayName})]}),children:l.jsxs(hpe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var ppe=Object.freeze,xkn=Object.defineProperty,wkn=(e,t)=>ppe(xkn(e,"raw",{value:ppe(t||e.slice())})),mpe;const Ckn=O(L)(mpe||(mpe=wkn([`
  word-break: break-word;
`])));function zs(e){const{children:t}=e;return l.jsx(Ckn,{size:1,children:t})}var gpe=Object.freeze,_kn=Object.defineProperty,Skn=(e,t)=>gpe(_kn(e,"raw",{value:gpe(t||e.slice())})),vpe;const Ekn=O(ee)(()=>de(vpe||(vpe=Skn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),kkn=[],jkn={block:{normal:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},h1:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},h2:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},h3:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},h4:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},h5:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},h6:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},code:e=>{let{children:t}=e;return l.jsx(zs,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},number:e=>{let{children:t}=e;return l.jsx(zs,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(zs,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(XRe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function Tkn(e){const{blocks:t}=e;return l.jsx(Ekn,{children:l.jsx(r2n,{value:t||kkn,components:jkn})})}const Akn=Mve({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),Dkn=Mve({type:"block",name:"block",of:[Akn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),Ikn=f4e({type:"array",name:"body",of:[Dkn]}),Pkn=r9.compile({name:"comments",types:[Ikn]}),Okn=Pkn.get("body"),Rkn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$kn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),Mkn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Fkn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function QRe(e){const t=h.useRef(e);return h.useMemo(()=>!Ut(t.current,e),[e])}function AC(e){return e?e==null?void 0:e.some(t=>{var n;return Ou(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Js(r)?r.text:r.userId))}):!1}const JRe=ne.createContext(null);function Lkn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=xo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),y=h.useMemo(()=>AC(a),[a]),x=QRe(a),b=h.useCallback(()=>{c||we.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(we.getSelection(u))},[u]),_=h.useCallback(k=>{const T=we.getSelection(u),A=T?T.focus.offset:0,D=we.focusChild(u),I=Js(D)&&D||void 0,P=k.inputType==="insertText",$=k.inputType==="deleteContentBackward",R=P&&k.data==="@",z=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,B=(I==null?void 0:I.text.substring(A-1,A))===" ",H=P&&k.data===" "&&!p;if(R&&(A<1||B)){C();return}if(H||$&&((I==null?void 0:I.text.length)===1||z===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Js(D)){let W=D.text.substring(z+1,A);P&&(W+=k.data),$&&(W=W.substring(0,W.length-1)),m(W)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),we.focus(u),we.insertChild(u,u.schemaTypes.span,{text:"@"}),g(we.getSelection(u))},[u]);Ni(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(P=>P.name==="mention"),[D,I]=v&&we.findByPath(u,v.focus.path)||[];if(D&&Js(D)&&I&&A){we.focus(u);const P=(T=we.getSelection(u))==null?void 0:T.focus.offset;typeof P<"u"&&(we.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:P}},{mode:"selected"}),we.insertChild(u,A,{userId:k}),we.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:y,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:b,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[y,w,u,n,r,b,o,x,S,E,i,d,p,_,C,c,a]);return l.jsx(JRe.Provider,{value:j,children:t})}function e$e(){const e=h.useContext(JRe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var ype=Object.freeze,Bkn=Object.defineProperty,Nkn=(e,t)=>ype(Bkn(e,"raw",{value:ype(t||e.slice())})),bpe;const zkn=O(U)(bpe||(bpe=Nkn([""]))),Vkn={width:"50%"};function Hkn(e){const{user:t,onSelect:n}=e,[r]=m1(t.id),o=l.jsx(mD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(Oi,{size:1,style:Vkn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(X,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(U,{align:"center",gap:3,children:[l.jsxs(zkn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(M6,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const xpe=[],Ukn=O(ee)({maxWidth:"220px"}),wpe=41,Wkn=4,Ykn=7,qkn=O(U)({maxHeight:wpe*Ykn+Wkn*2+wpe/2}),Gkn=ne.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(Hkn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||xpe;const g=iK(a).toLocaleLowerCase(),y=i==null?void 0:i.map(b=>({...b,displayName:iK(b.displayName||"").toLocaleLowerCase()}));return((v=y==null?void 0:y.filter(b=>{var w;return(w=b==null?void 0:b.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((b,w)=>{var C,_;const S=(C=b.displayName)==null?void 0:C.startsWith(g),E=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||xpe},[i,a]);if(r)return l.jsx(Ukn,{children:l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(hr,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(qkn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),Kkn=e=>{const{children:t}=e;return l.jsx(zs,{children:t})},Zkn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(XRe,{selected:r,userId:n==null?void 0:n.userId}):t},Xkn={passive:!0};function Qkn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,Xkn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var Cpe=Object.freeze,Jkn=Object.defineProperty,t$e=(e,t)=>Cpe(Jkn(e,"raw",{value:Cpe(t||e.slice())})),_pe,Spe;const e5n=["bottom","top"],t5n={outline:"none"},Epe=[],n5n=O.span(()=>de(_pe||(_pe=t$e([`
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])))),r5n=O(tn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return de(Spe||(Spe=t$e([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function o5n(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=G0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:b,onBeforeInput:w,value:C}=e$e(),_=Qkn({disabled:!x,rootElement:u.current}),S=h.useCallback(()=>l.jsx(n5n,{children:n}),[n]),E=h.useCallback(()=>{x&&v()},[v,x]);dr(E,[a]);const j=h.useCallback(A=>{switch(A.key){case"Enter":if(A.shiftKey)break;if(A.preventDefault(),A.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(A.preventDefault(),A.stopPropagation(),v());break}i&&i(A)},[m,v,x,i,s]),k=h.useMemo(()=>{if(p)return;const A=(C||Epe).slice(-1)[0],D=Ou(A)?A.children.slice(-1)[0]:void 0;if(!D)return;const I={path:[{_key:A._key},"children",{_key:D._key}],offset:Js(D)?D.text.length:0};return{focus:I,anchor:I}},[C,p]);h.useEffect(()=>{var A;(A=f.current)==null||A.setSearchTerm(b)},[b]),h.useEffect(()=>{x&&p&&!Ut(p.anchor,p.focus)&&v()},[x,v,p]);const T=l.jsx(Gkn,{inputElement:d.current,loading:y.loading,onSelect:g,options:y.data||Epe,ref:f});return l.jsxs("div",{ref:u,children:[l.jsx(r5n,{arrow:!1,constrainSize:!0,content:T,disabled:!x,fallbackPlacements:e5n,open:x,placement:"bottom",ref:c,referenceElement:_}),l.jsx(F5e,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:j,ref:d,renderBlock:Kkn,renderChild:Zkn,renderPlaceholder:S,selection:k,style:t5n,tabIndex:t?0:void 0})]})}var kpe=Object.freeze,i5n=Object.defineProperty,yz=(e,t)=>kpe(i5n(e,"raw",{value:kpe(t||e.slice())})),jpe,Tpe,Ape;const XS=O(M)(jpe||(jpe=yz([`
  max-height: 20vh;
  overflow-y: auto;
`]))),s5n=O(Or)({height:20,width:1}),Dpe=O(oe).attrs({fontSize:1,padding:2})(Tpe||(Tpe=yz([`
  /* border-radius: 50%; */
`]))),a5n=O(X)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return de(Ape||(Ape=yz([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,XS,XS,XS)});function l5n(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=m1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:y}=e$e(),x=c?l.jsx(mD,{user:u}):null,b=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(U,{align:"flex-start",gap:2,children:[x,l.jsx(a5n,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:y?"transparent":"default",children:l.jsxs(ee,{children:[l.jsx(XS,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(o5n,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(Dpe,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:y,icon:$kn,mode:"bleed",onClick:b}),l.jsx(s5n,{}),l.jsx(Dpe,{"aria-label":"Send comment",disabled:!d||!m||y,icon:Rkn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const c5n=9999999;function u5n(e){const{onClose:t,onConfirm:n}=e,r=h.useCallback(i=>{i.stopPropagation(),t()},[t]),o=h.useCallback(i=>{i.stopPropagation(),n()},[n]);return l.jsx(Owe,{tone:"default",children:l.jsx(y$,{zOffset:c5n,children:l.jsx(Fi,{header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(en,{columns:2,padding:2,gap:2,children:[l.jsx(oe,{text:"Cancel",mode:"ghost",onClick:r}),l.jsx(oe,{onClick:o,text:"Discard",tone:"critical"})]}),children:l.jsx(ee,{padding:4,children:l.jsx(L,{children:"Do you want to discard the comment?"})})})})})}const h3=[],d5n={behavior:"smooth",block:"center",inline:"center"},gD=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:y,readOnly:x,value:b=h3,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),T=h.useRef(null),A=h.useRef(null),D=h.useRef(null),[I,P]=h.useState(Ex()),$=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&we.focus(S.current)})},[]),R=h.useCallback(()=>{P(Ex())},[]),z=h.useCallback(te=>{if(te.type==="ready"&&s&&$(),te.type==="focus"&&_(!0),te.type==="blur"&&_(!1),te.type==="patch"&&S.current){const N=we.getValue(S.current);u(N||h3)}},[s,u,$]),B=h.useCallback(()=>{var te;(te=E.current)==null||te.scrollIntoView(d5n)},[]),H=h.useCallback(()=>{g(),R(),$(),B()},[g,$,R,B]),W=h.useCallback(()=>{f(),R()},[f,R]),V=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),$()}}),[$]);h.useImperativeHandle(n,()=>({focus:$,blur(){S.current&&we.blur(S.current)},scrollTo:B,reset:R,discardDialogController:V}),[V,$,R,B]);const G=h.useCallback(te=>{if(!i)return;const N=te.target,Y=D.current;if(Y&&N===T.current){B6(Y);return}Y&&N===A.current&&Gp(Y)},[i]);return l.jsxs(l.Fragment,{children:[j&&l.jsx(u5n,{onClose:d,onConfirm:W}),l.jsx(ee,{ref:E,"data-testid":"comment-input",onFocus:G,children:l.jsx(we,{onChange:z,readOnly:x,ref:S,schemaType:Okn,value:b||h3,children:l.jsxs(Lkn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:b,children:[i&&l.jsx("div",{ref:T,tabIndex:0}),l.jsx(ee,{ref:D,children:l.jsx(l5n,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:H,placeholder:y,withAvatar:w})}),i&&l.jsx("div",{ref:A,tabIndex:0})]})},I)})]})}),p3=3;var Ipe=Object.freeze,f5n=Object.defineProperty,h5n=(e,t)=>Ipe(f5n(e,"raw",{value:Ipe(t||e.slice())})),Ppe;const p5n={open:500},m5n=O(L)(Ppe||(Ppe=h5n([`
  min-width: max-content;
`])));function g5n(e){const{children:t,text:n}=e;return l.jsx(it,{delay:p5n,portal:!0,placement:"top",content:l.jsx(m5n,{size:1,children:n}),padding:2,children:l.jsx(U,{children:t})})}var Ope=Object.freeze,v5n=Object.defineProperty,y5n=(e,t)=>Ope(v5n(e,"raw",{value:Ope(t||e.slice())})),Rpe;const b5n={open:500},x5n={placement:"bottom-end"},w5n=O(X)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(Rpe||(Rpe=y5n([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function C5n(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f}=e,p=!!(o||i||s);return l.jsx(rCe,{delay:b5n,children:l.jsx(U,{children:l.jsxs(w5n,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(g5n,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(oe,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?cj:oE,mode:"bleed",onClick:u,padding:2})}),l.jsx(nn,{id:"comment-actions-menu",button:l.jsx(oe,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!p,icon:Po,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Nt,{children:[l.jsx(Ne,{fontSize:1,hidden:!n,icon:Mu,onClick:s,text:"Edit comment"}),l.jsx(Ne,{fontSize:1,hidden:!t,icon:vo,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(Or,{hidden:!t&&!n}),l.jsx(Ne,{fontSize:1,hidden:!o,icon:$f,onClick:o,text:"Copy link to comment"})]}),popover:x5n})]})})})}var $pe=Object.freeze,_5n=Object.defineProperty,y1=(e,t)=>$pe(_5n(e,"raw",{value:$pe(t||e.slice())})),Mpe,Fpe,Lpe,Bpe,Npe,zpe;const Uy=O(M)(Mpe||(Mpe=y1([""])));function S5n(e){const{children:t,isParent:n}=e,r=h.useCallback(o=>{o.stopPropagation()},[]);return l.jsx(Uy,{"data-root-menu":n?"true":"false",onClick:r,children:t})}const E5n={width:"50%"},Vpe=O(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=fe.gray[n?200:800].hex;return de(Fpe||(Fpe=y1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),k5n=O(ee)(Lpe||(Lpe=y1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),j5n=O(U)(Bpe||(Bpe=y1([`
  min-height: `,`px;
`])),ZRe),T5n=O(X)(Npe||(Npe=y1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),A5n=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(zpe||(zpe=y1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Uy,n[1],n[1],Uy,Uy,Uy)}),D5n={agoSuffix:!0};function Hpe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:y,authorId:x,message:b,_id:w,lastEditedAt:C}=r,[_]=m1(x),[S,E]=h.useState(b),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(b),[I,P]=h.useState(!1),$=QRe(S),R=h.useMemo(()=>AC(S),[S]),z=h.useRef(null),B=y?new Date(y):new Date,H=ni(B,D5n),W=oi(B,"PPPPp"),V=C?oi(new Date(C),"PPPPp"):null,G=i||a,te=h.useCallback(()=>P(!0),[]),N=h.useCallback(()=>P(!1),[]),Y=h.useCallback(()=>u==null?void 0:u(w),[w,u]),q=h.useCallback(Re=>{Re.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),se=h.useCallback(()=>{k(!1),E(D.current)},[]),re=h.useCallback(()=>{var Re;if(!R||!$){se();return}(Re=z.current)==null||Re.discardDialogController.open()},[se,$,R]),K=h.useCallback(Re=>{Re.isDefaultPrevented()||(Re.key==="Escape"&&(Re.preventDefault(),Re.stopPropagation(),re()),m&&m(Re))},[m,re]),Q=h.useCallback(()=>{var Re;(Re=z.current)==null||Re.discardDialogController.close()},[]),le=h.useCallback(()=>{var Re;(Re=z.current)==null||Re.discardDialogController.close(),se()},[se]),me=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ae=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),Ce=h.useCallback(()=>{k(Re=>!Re)},[]),_e=h.useCallback(()=>P(!1),[]),he=h.useCallback(()=>{$||se()},[se,$]),be=h.useCallback(Re=>{Re.key==="Escape"&&!$&&se()},[se,$]);Ni(j,_e),dr(he,[T]);const Le=_!=null&&_.displayName?l.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(Oi,{size:1,style:E5n});return l.jsxs(A5n,{"data-menu-open":I?"true":"false",onKeyDown:be,ref:A,space:4,children:[l.jsxs(k5n,{space:1,"data-muted":G,children:[l.jsxs(U,{align:"center",gap:p3,flex:1,children:[l.jsx(mD,{user:_}),l.jsx(U,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(U,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:Le}),!G&&l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Vpe,{muted:!0,size:0,title:W,children:H}),V&&l.jsx(Vpe,{muted:!0,size:0,title:V,children:"(edited)"})]})]})}),!j&&!G&&l.jsx(S5n,{isParent:s,children:l.jsx(C5n,{canDelete:t,canEdit:n,isParent:s,onCopyLink:Y,onDeleteStart:Z,onEditStart:Ce,onMenuClose:N,onMenuOpen:te,onStatusChange:ae,readOnly:g,status:r.status})})]}),j&&l.jsxs(U,{align:"flex-start",gap:2,children:[l.jsx(ZS,{}),l.jsx(ee,{flex:1,children:l.jsx(gD,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:E,onDiscardCancel:Q,onDiscardConfirm:le,onKeyDown:K,onSubmit:me,readOnly:g,ref:z,value:S,withAvatar:!1})})]}),!j&&l.jsxs(U,{gap:p3,children:[l.jsx(ZS,{}),l.jsx(Tkn,{blocks:b})]})]}),G&&l.jsxs(j5n,{gap:p3,children:[l.jsx(ZS,{}),l.jsxs(U,{align:"center",gap:1,flex:1,children:[l.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(U,{hidden:a,children:l.jsx(T5n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:q,padding:1,radius:2,tone:"primary",children:l.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Upe=Object.freeze,I5n=Object.defineProperty,P5n=(e,t)=>Upe(I5n(e,"raw",{value:Upe(t||e.slice())})),Wpe;const n$e=O(X).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(Wpe||(Wpe=P5n([`
  // ...
`])));var Ype=Object.freeze,O5n=Object.defineProperty,bz=(e,t)=>Ype(O5n(e,"raw",{value:Ype(t||e.slice())})),qpe,Gpe,Kpe;const vy=[],yy=5,R5n=O(n$e)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return de(qpe||(qpe=bz([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When the comment is not selected, we want to apply hover styles.
    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),$5n=O(oe)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return de(Gpe||(Gpe=bz([`
    font-weight: `,`;
  `])),n)}),M5n=O(oe)(Kpe||(Kpe=bz([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),F5n=ne.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:y,readOnly:x,replies:b=vy}=t,[w,C]=h.useState(vy),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>AC(w),[w]),[T,A]=h.useState(!1),D=h.useCallback(()=>A(!0),[]),I=h.useCallback(()=>A(!1),[]),P=h.useCallback(()=>{const Y={fieldPath:y.target.path.field,message:w,parentCommentId:y._id,status:(y==null?void 0:y.status)||"open",threadId:y.threadId};v==null||v(Y),C(vy)},[v,y._id,y==null?void 0:y.status,y.target.path.field,y.threadId,w]),$=h.useCallback(()=>{var Y;if(!k){C(vy);return}(Y=j.current)==null||Y.discardDialogController.open()},[k]),R=h.useCallback(Y=>{Y.isDefaultPrevented()||Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),$())},[$]),z=h.useCallback(()=>{var Y;(Y=j.current)==null||Y.discardDialogController.close()},[]),B=h.useCallback(()=>{var Y,q;C(vy),(Y=j.current)==null||Y.discardDialogController.close(),(q=j.current)==null||q.focus()},[]),H=h.useCallback(Y=>{Y.stopPropagation(),m==null||m({fieldPath:y.target.path.field,origin:"inspector",threadId:y.threadId})},[m,y.target.path.field,y.threadId]),W=h.useCallback(Y=>{Y.stopPropagation(),S(!1),E.current=!0},[]),V=h.useMemo(()=>_?b==null?void 0:b.slice(-yy):b,[b,_]),G=h.useMemo(()=>b?b.length>yy:!1,[b]),te=h.useMemo(()=>"".concat((b==null?void 0:b.length)-yy," more ").concat((b==null?void 0:b.length)-yy===1?"comment":"comments"),[b==null?void 0:b.length]);h.useEffect(()=>{b.length>yy&&!E.current&&S(!0)},[b]);const N=h.useMemo(()=>V.map(Y=>{var q,Z;return l.jsx(ee,{as:"li","data-comment-id":Y._id,children:l.jsx(Hpe,{canDelete:Y.authorId===i.id,canEdit:Y.authorId===i.id,comment:Y,currentUser:i,hasError:((q=Y._state)==null?void 0:q.type)==="createError",isRetrying:((Z=Y._state)==null?void 0:Z.type)==="createRetrying",mentionOptions:a,onInputKeyDown:R,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},Y._id)}),[i,R,a,c,u,d,f,x,V]);return l.jsx(ee,{space:2,children:l.jsxs(R5n,{"data-active":s?"true":"false","data-hovered":T?"true":"false",onClick:H,onMouseEnter:D,onMouseLeave:I,tone:s?"primary":void 0,children:[l.jsx(M5n,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(ee,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(ee,{as:"li","data-comment-id":y._id,children:l.jsx(Hpe,{canDelete:y.authorId===i.id,canEdit:y.authorId===i.id,comment:y,currentUser:i,hasError:((n=y._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=y._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),G&&!E.current&&l.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(ZS,{}),l.jsx($5n,{fontSize:1,iconRight:el,mode:"bleed",onClick:W,padding:2,space:2,text:te})]}),N,o&&l.jsx(gD,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:z,onDiscardConfirm:B,onKeyDown:R,onSubmit:P,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),L5n={close:0,open:500},Zpe=l.jsx(L,{muted:!0,children:l.jsx(Lc,{})}),m3=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function B5n(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(it,{delay:L5n,content:l.jsx(ee,{space:2,padding:2,children:i.map(m3)}),children:l.jsx(M,{children:m3("...",s)})}),c&&Zpe]},a):l.jsxs(h.Fragment,{children:[m3(i,s),c&&Zpe]},a)}),[r]);return l.jsx(U,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const N5n=4,Xpe=0,Qpe=1,z5n=2;function b1(e){let t=e.length;for(;--t>=0;)e[t]=0}const V5n=0,r$e=1,H5n=2,U5n=3,W5n=258,xz=29,DC=256,Xx=DC+1+xz,Pv=30,wz=19,o$e=2*Xx+1,yp=15,g3=16,Y5n=7,Cz=256,i$e=16,s$e=17,a$e=18,aF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),QS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),q5n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l$e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G5n=512,mu=new Array((Xx+2)*2);b1(mu);const $b=new Array(Pv*2);b1($b);const Qx=new Array(G5n);b1(Qx);const Jx=new Array(W5n-U5n+1);b1(Jx);const _z=new Array(xz);b1(_z);const L5=new Array(Pv);b1(L5);function v3(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let c$e,u$e,d$e;function y3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const f$e=e=>e<256?Qx[e]:Qx[256+(e>>>7)],ew=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ks=(e,t,n)=>{e.bi_valid>g3-n?(e.bi_buf|=t<<e.bi_valid&65535,ew(e,e.bi_buf),e.bi_buf=t>>g3-e.bi_valid,e.bi_valid+=n-g3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},wc=(e,t,n)=>{ks(e,n[t*2],n[t*2+1])},h$e=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},K5n=e=>{e.bi_valid===16?(ew(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Z5n=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=yp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<o$e;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},p$e=(e,t,n)=>{const r=new Array(yp+1);let o=0,i,s;for(i=1;i<=yp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=h$e(r[a]++,a))}},X5n=()=>{let e,t,n,r,o;const i=new Array(yp+1);for(n=0,r=0;r<xz-1;r++)for(_z[r]=n,e=0;e<1<<aF[r];e++)Jx[n++]=r;for(Jx[n-1]=r,o=0,r=0;r<16;r++)for(L5[r]=o,e=0;e<1<<QS[r];e++)Qx[o++]=r;for(o>>=7;r<Pv;r++)for(L5[r]=o<<7,e=0;e<1<<QS[r]-7;e++)Qx[256+o++]=r;for(t=0;t<=yp;t++)i[t]=0;for(e=0;e<=143;)mu[e*2+1]=8,e++,i[8]++;for(;e<=255;)mu[e*2+1]=9,e++,i[9]++;for(;e<=279;)mu[e*2+1]=7,e++,i[7]++;for(;e<=287;)mu[e*2+1]=8,e++,i[8]++;for(p$e(mu,Xx+1,i),e=0;e<Pv;e++)$b[e*2+1]=5,$b[e*2]=h$e(e,5);c$e=new v3(mu,aF,DC+1,Xx,yp),u$e=new v3($b,QS,0,Pv,yp),d$e=new v3(new Array(0),q5n,0,wz,Y5n)},m$e=e=>{let t;for(t=0;t<Xx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Pv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<wz;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Cz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},g$e=e=>{e.bi_valid>8?ew(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Jpe=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},b3=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Jpe(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Jpe(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},eme=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?wc(e,o,t):(s=Jx[o],wc(e,s+DC+1,t),a=aF[s],a!==0&&(o-=_z[s],ks(e,o,a)),r--,s=f$e(r),wc(e,s,n),a=QS[s],a!==0&&(r-=L5[s],ks(e,r,a)));while(i<e.sym_next);wc(e,Cz,t)},lF=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=o$e,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)b3(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,b3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Z5n(e,t),p$e(n,c,e.bl_count)},tme=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[i$e*2]++):a<=10?e.bl_tree[s$e*2]++:e.bl_tree[a$e*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},nme=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do wc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(wc(e,i,e.bl_tree),a--),wc(e,i$e,e.bl_tree),ks(e,a-3,2)):a<=10?(wc(e,s$e,e.bl_tree),ks(e,a-3,3)):(wc(e,a$e,e.bl_tree),ks(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},Q5n=e=>{let t;for(tme(e,e.dyn_ltree,e.l_desc.max_code),tme(e,e.dyn_dtree,e.d_desc.max_code),lF(e,e.bl_desc),t=wz-1;t>=3&&e.bl_tree[l$e[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},J5n=(e,t,n,r)=>{let o;for(ks(e,t-257,5),ks(e,n-1,5),ks(e,r-4,4),o=0;o<r;o++)ks(e,e.bl_tree[l$e[o]*2+1],3);nme(e,e.dyn_ltree,t-1),nme(e,e.dyn_dtree,n-1)},ejn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Xpe;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Qpe;for(n=32;n<DC;n++)if(e.dyn_ltree[n*2]!==0)return Qpe;return Xpe};let rme=!1;const tjn=e=>{rme||(X5n(),rme=!0),e.l_desc=new y3(e.dyn_ltree,c$e),e.d_desc=new y3(e.dyn_dtree,u$e),e.bl_desc=new y3(e.bl_tree,d$e),e.bi_buf=0,e.bi_valid=0,m$e(e)},v$e=(e,t,n,r)=>{ks(e,(V5n<<1)+(r?1:0),3),g$e(e),ew(e,n),ew(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},njn=e=>{ks(e,r$e<<1,3),wc(e,Cz,mu),K5n(e)},rjn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===z5n&&(e.strm.data_type=ejn(e)),lF(e,e.l_desc),lF(e,e.d_desc),s=Q5n(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?v$e(e,t,n,r):e.strategy===N5n||i===o?(ks(e,(r$e<<1)+(r?1:0),3),eme(e,mu,$b)):(ks(e,(H5n<<1)+(r?1:0),3),J5n(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),eme(e,e.dyn_ltree,e.dyn_dtree)),m$e(e),r&&g$e(e)},ojn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Jx[n]+DC+1)*2]++,e.dyn_dtree[f$e(t)*2]++),e.sym_next===e.sym_end);var ijn=tjn,sjn=v$e,ajn=rjn,ljn=ojn,cjn=njn,ujn={_tr_init:ijn,_tr_stored_block:sjn,_tr_flush_block:ajn,_tr_tally:ljn,_tr_align:cjn};const djn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var tw=djn;const fjn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},hjn=new Uint32Array(fjn()),pjn=(e,t,n,r)=>{const o=hjn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Mo=pjn,um={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:mjn,_tr_stored_block:cF,_tr_flush_block:gjn,_tr_tally:Af,_tr_align:vjn}=ujn,{Z_NO_FLUSH:Df,Z_PARTIAL_FLUSH:yjn,Z_FULL_FLUSH:bjn,Z_FINISH:Oa,Z_BLOCK:ome,Z_OK:Qo,Z_STREAM_END:ime,Z_STREAM_ERROR:Dc,Z_DATA_ERROR:xjn,Z_BUF_ERROR:x3,Z_DEFAULT_COMPRESSION:wjn,Z_FILTERED:Cjn,Z_HUFFMAN_ONLY:S2,Z_RLE:_jn,Z_FIXED:Sjn,Z_DEFAULT_STRATEGY:Ejn,Z_UNKNOWN:kjn,Z_DEFLATED:vD}=qm,jjn=9,Tjn=15,Ajn=8,Djn=29,Ijn=256,uF=Ijn+1+Djn,Pjn=30,Ojn=19,Rjn=2*uF+1,$jn=15,Gt=3,ff=258,Ic=ff+Gt+1,Mjn=32,g0=42,Sz=57,dF=69,fF=73,hF=91,pF=103,bp=113,Wy=666,Qi=1,x1=2,dm=3,w1=4,Fjn=3,xp=(e,t)=>(e.msg=um[t],t),sme=e=>e*2-(e>4?9:0),Gd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ljn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let Bjn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,If=Bjn;const Vs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Qs=(e,t)=>{gjn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Vs(e.strm)},gn=(e,t)=>{e.pending_buf[e.pending++]=t},by=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},mF=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=tw(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Mo(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},y$e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Ic?e.strstart-(e.w_size-Ic):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+ff;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=ff-(p-r),r=p-ff,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},v0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ic)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ljn(e),r+=t),e.strm.avail_in===0)break;if(n=mF(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Gt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=If(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=If(e,e.ins_h,e.window[o+Gt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Gt)););}while(e.lookahead<Ic&&e.strm.avail_in!==0)},b$e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Oa||t===Df||r!==o+e.strm.avail_in)))break;s=t===Oa&&r===o+e.strm.avail_in?1:0,cF(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Vs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(mF(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?w1:t!==Df&&t!==Oa&&e.strm.avail_in===0&&e.strstart===e.block_start?x1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(mF(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Oa)&&t!==Df&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Oa&&e.strm.avail_in===0&&r===o?1:0,cF(e,e.block_start,r,s),e.block_start+=r,Vs(e.strm)),s?dm:Qi)},w3=(e,t)=>{let n,r;for(;;){if(e.lookahead<Ic){if(v0(e),e.lookahead<Ic&&t===Df)return Qi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Gt&&(e.ins_h=If(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Ic&&(e.match_length=y$e(e,n)),e.match_length>=Gt)if(r=Af(e,e.strstart-e.match_start,e.match_length-Gt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Gt){e.match_length--;do e.strstart++,e.ins_h=If(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=If(e,e.ins_h,e.window[e.strstart+1]);else r=Af(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Qs(e,!1),e.strm.avail_out===0))return Qi}return e.insert=e.strstart<Gt-1?e.strstart:Gt-1,t===Oa?(Qs(e,!0),e.strm.avail_out===0?dm:w1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Qi:x1},hg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Ic){if(v0(e),e.lookahead<Ic&&t===Df)return Qi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Gt&&(e.ins_h=If(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Gt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ic&&(e.match_length=y$e(e,n),e.match_length<=5&&(e.strategy===Cjn||e.match_length===Gt&&e.strstart-e.match_start>4096)&&(e.match_length=Gt-1)),e.prev_length>=Gt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Gt,r=Af(e,e.strstart-1-e.prev_match,e.prev_length-Gt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=If(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Gt-1,e.strstart++,r&&(Qs(e,!1),e.strm.avail_out===0))return Qi}else if(e.match_available){if(r=Af(e,0,e.window[e.strstart-1]),r&&Qs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Qi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Af(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Gt-1?e.strstart:Gt-1,t===Oa?(Qs(e,!0),e.strm.avail_out===0?dm:w1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Qi:x1},Njn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=ff){if(v0(e),e.lookahead<=ff&&t===Df)return Qi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Gt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+ff;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=ff-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Gt?(n=Af(e,1,e.match_length-Gt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Af(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Qs(e,!1),e.strm.avail_out===0))return Qi}return e.insert=0,t===Oa?(Qs(e,!0),e.strm.avail_out===0?dm:w1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Qi:x1},zjn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(v0(e),e.lookahead===0)){if(t===Df)return Qi;break}if(e.match_length=0,n=Af(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Qs(e,!1),e.strm.avail_out===0))return Qi}return e.insert=0,t===Oa?(Qs(e,!0),e.strm.avail_out===0?dm:w1):e.sym_next&&(Qs(e,!1),e.strm.avail_out===0)?Qi:x1};function nc(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Yy=[new nc(0,0,0,0,b$e),new nc(4,4,8,4,w3),new nc(4,5,16,8,w3),new nc(4,6,32,32,w3),new nc(4,4,16,16,hg),new nc(8,16,32,32,hg),new nc(8,16,128,128,hg),new nc(8,32,128,256,hg),new nc(32,128,258,1024,hg),new nc(32,258,258,4096,hg)],Vjn=e=>{e.window_size=2*e.w_size,Gd(e.head),e.max_lazy_match=Yy[e.level].max_lazy,e.good_match=Yy[e.level].good_length,e.nice_match=Yy[e.level].nice_length,e.max_chain_length=Yy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Gt-1,e.match_available=0,e.ins_h=0};function Hjn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Rjn*2),this.dyn_dtree=new Uint16Array((2*Pjn+1)*2),this.bl_tree=new Uint16Array((2*Ojn+1)*2),Gd(this.dyn_ltree),Gd(this.dyn_dtree),Gd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($jn+1),this.heap=new Uint16Array(2*uF+1),Gd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*uF+1),Gd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const IC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==g0&&t.status!==Sz&&t.status!==dF&&t.status!==fF&&t.status!==hF&&t.status!==pF&&t.status!==bp&&t.status!==Wy?1:0},x$e=e=>{if(IC(e))return xp(e,Dc);e.total_in=e.total_out=0,e.data_type=kjn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Sz:t.wrap?g0:bp,e.adler=t.wrap===2?0:1,t.last_flush=-2,mjn(t),Qo},w$e=e=>{const t=x$e(e);return t===Qo&&Vjn(e.state),t},Ujn=(e,t)=>IC(e)||e.state.wrap!==2?Dc:(e.state.gzhead=t,Qo),C$e=(e,t,n,r,o,i)=>{if(!e)return Dc;let s=1;if(t===wjn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>jjn||n!==vD||r<8||r>15||t<0||t>9||i<0||i>Sjn||r===8&&s!==1)return xp(e,Dc);r===8&&(r=9);const a=new Hjn;return e.state=a,a.strm=e,a.status=g0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Gt-1)/Gt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,w$e(e)},Wjn=(e,t)=>C$e(e,t,vD,Tjn,Ajn,Ejn),Yjn=(e,t)=>{if(IC(e)||t>ome||t<0)return e?xp(e,Dc):Dc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Wy&&t!==Oa)return xp(e,e.avail_out===0?x3:Dc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Vs(e),e.avail_out===0)return n.last_flush=-1,Qo}else if(e.avail_in===0&&sme(t)<=sme(r)&&t!==Oa)return xp(e,x3);if(n.status===Wy&&e.avail_in!==0)return xp(e,x3);if(n.status===g0&&n.wrap===0&&(n.status=bp),n.status===g0){let o=vD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=S2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=Mjn),o+=31-o%31,by(n,o),n.strstart!==0&&(by(n,e.adler>>>16),by(n,e.adler&65535)),e.adler=1,n.status=bp,Vs(e),n.pending!==0)return n.last_flush=-1,Qo}if(n.status===Sz){if(e.adler=0,gn(n,31),gn(n,139),gn(n,8),n.gzhead)gn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),gn(n,n.gzhead.time&255),gn(n,n.gzhead.time>>8&255),gn(n,n.gzhead.time>>16&255),gn(n,n.gzhead.time>>24&255),gn(n,n.level===9?2:n.strategy>=S2||n.level<2?4:0),gn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(gn(n,n.gzhead.extra.length&255),gn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Mo(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=dF;else if(gn(n,0),gn(n,0),gn(n,0),gn(n,0),gn(n,0),gn(n,n.level===9?2:n.strategy>=S2||n.level<2?4:0),gn(n,Fjn),n.status=bp,Vs(e),n.pending!==0)return n.last_flush=-1,Qo}if(n.status===dF){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Mo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Vs(e),n.pending!==0)return n.last_flush=-1,Qo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Mo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=fF}if(n.status===fF){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Mo(e.adler,n.pending_buf,n.pending-o,o)),Vs(e),n.pending!==0)return n.last_flush=-1,Qo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,gn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Mo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=hF}if(n.status===hF){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Mo(e.adler,n.pending_buf,n.pending-o,o)),Vs(e),n.pending!==0)return n.last_flush=-1,Qo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,gn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Mo(e.adler,n.pending_buf,n.pending-o,o))}n.status=pF}if(n.status===pF){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Vs(e),n.pending!==0))return n.last_flush=-1,Qo;gn(n,e.adler&255),gn(n,e.adler>>8&255),e.adler=0}if(n.status=bp,Vs(e),n.pending!==0)return n.last_flush=-1,Qo}if(e.avail_in!==0||n.lookahead!==0||t!==Df&&n.status!==Wy){let o=n.level===0?b$e(n,t):n.strategy===S2?zjn(n,t):n.strategy===_jn?Njn(n,t):Yy[n.level].func(n,t);if((o===dm||o===w1)&&(n.status=Wy),o===Qi||o===dm)return e.avail_out===0&&(n.last_flush=-1),Qo;if(o===x1&&(t===yjn?vjn(n):t!==ome&&(cF(n,0,0,!1),t===bjn&&(Gd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Vs(e),e.avail_out===0))return n.last_flush=-1,Qo}return t!==Oa?Qo:n.wrap<=0?ime:(n.wrap===2?(gn(n,e.adler&255),gn(n,e.adler>>8&255),gn(n,e.adler>>16&255),gn(n,e.adler>>24&255),gn(n,e.total_in&255),gn(n,e.total_in>>8&255),gn(n,e.total_in>>16&255),gn(n,e.total_in>>24&255)):(by(n,e.adler>>>16),by(n,e.adler&65535)),Vs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Qo:ime)},qjn=e=>{if(IC(e))return Dc;const t=e.state.status;return e.state=null,t===bp?xp(e,xjn):Qo},Gjn=(e,t)=>{let n=t.length;if(IC(e))return Dc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==g0||r.lookahead)return Dc;if(o===1&&(e.adler=tw(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Gd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,v0(r);r.lookahead>=Gt;){let c=r.strstart,u=r.lookahead-(Gt-1);do r.ins_h=If(r,r.ins_h,r.window[c+Gt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Gt-1,v0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Gt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Qo};var Kjn=Wjn,Zjn=C$e,Xjn=w$e,Qjn=x$e,Jjn=Ujn,eTn=Yjn,tTn=qjn,nTn=Gjn,rTn="pako deflate (from Nodeca project)",Mb={deflateInit:Kjn,deflateInit2:Zjn,deflateReset:Xjn,deflateResetKeep:Qjn,deflateSetHeader:Jjn,deflate:eTn,deflateEnd:tTn,deflateSetDictionary:nTn,deflateInfo:rTn};const oTn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var iTn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)oTn(n,r)&&(e[r]=n[r])}}return e},sTn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},yD={assign:iTn,flattenChunks:sTn};let _$e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_$e=!1}const nw=new Uint8Array(256);for(let e=0;e<256;e++)nw[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;nw[254]=nw[254]=1;var aTn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const lTn=(e,t)=>{if(t<65534&&e.subarray&&_$e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var cTn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=nw[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return lTn(i,o)},uTn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+nw[e[n]]>t?n:t},rw={string2buf:aTn,buf2string:cTn,utf8border:uTn};function dTn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S$e=dTn;const E$e=Object.prototype.toString,{Z_NO_FLUSH:fTn,Z_SYNC_FLUSH:hTn,Z_FULL_FLUSH:pTn,Z_FINISH:mTn,Z_OK:B5,Z_STREAM_END:gTn,Z_DEFAULT_COMPRESSION:vTn,Z_DEFAULT_STRATEGY:yTn,Z_DEFLATED:bTn}=qm;function PC(e){this.options=yD.assign({level:vTn,method:bTn,chunkSize:16384,windowBits:15,memLevel:8,strategy:yTn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S$e,this.strm.avail_out=0;let n=Mb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==B5)throw new Error(um[n]);if(t.header&&Mb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=rw.string2buf(t.dictionary):E$e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Mb.deflateSetDictionary(this.strm,r),n!==B5)throw new Error(um[n]);this._dict_set=!0}}PC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?mTn:fTn,typeof e=="string"?n.input=rw.string2buf(e):E$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===hTn||i===pTn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Mb.deflate(n,i),o===gTn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Mb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===B5;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};PC.prototype.onData=function(e){this.chunks.push(e)};PC.prototype.onEnd=function(e){e===B5&&(this.result=yD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ez(e,t){const n=new PC(t);if(n.push(e,!0),n.err)throw n.msg||um[n.err];return n.result}function xTn(e,t){return t=t||{},t.raw=!0,Ez(e,t)}function wTn(e,t){return t=t||{},t.gzip=!0,Ez(e,t)}var CTn=PC,_Tn=Ez,STn=xTn,ETn=wTn,kTn=qm,jTn={Deflate:CTn,deflate:_Tn,deflateRaw:STn,gzip:ETn,constants:kTn};const E2=16209,TTn=16191;var ATn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,y=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=y[m&b];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=E2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=E2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=E2;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=TTn;break e}else{t.msg="invalid literal/length code",A.mode=E2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const pg=15,ame=852,lme=592,cme=0,C3=1,ume=2,DTn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ITn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PTn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OTn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),RTn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(pg+1),A=new Uint16Array(pg+1);let D=null,I,P,$;for(u=0;u<=pg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=pg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),y=1,u=1;u<=pg;u++)if(y<<=1,y-=T[u],y<0)return-1;if(y>0&&(e===cme||p!==1))return-1;for(A[1]=0,u=1;u<pg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===cme?(j=D=s,k=20):e===C3?(j=DTn,D=ITn,k=257):(j=PTn,D=OTn,k=0),b=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===C3&&x>ame||e===ume&&x>lme)return 1;for(;;){I=u-g,s[d]+1<k?(P=0,$=s[d]):s[d]>=k?(P=D[s[d]-k],$=j[s[d]-k]):(P=32+64,$=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(b>>g)+C]=I<<24|P<<16|$|0;while(C!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(b&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,y=1<<v;v+g<p&&(y-=T[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===C3&&x>ame||e===ume&&x>lme)return 1;_=b&S,o[_]=m<<24|v<<16|E-i|0}}return b!==0&&(o[E+b]=u-g<<24|64<<16|0),a.bits=m,0};var Fb=RTn;const $Tn=0,k$e=1,j$e=2,{Z_FINISH:dme,Z_BLOCK:MTn,Z_TREES:k2,Z_OK:fm,Z_STREAM_END:FTn,Z_NEED_DICT:LTn,Z_STREAM_ERROR:Ka,Z_DATA_ERROR:T$e,Z_MEM_ERROR:A$e,Z_BUF_ERROR:BTn,Z_DEFLATED:fme}=qm,bD=16180,hme=16181,pme=16182,mme=16183,gme=16184,vme=16185,yme=16186,bme=16187,xme=16188,wme=16189,N5=16190,su=16191,_3=16192,Cme=16193,S3=16194,_me=16195,Sme=16196,Eme=16197,kme=16198,j2=16199,T2=16200,jme=16201,Tme=16202,Ame=16203,Dme=16204,Ime=16205,E3=16206,Pme=16207,Ome=16208,yr=16209,D$e=16210,I$e=16211,NTn=852,zTn=592,VTn=15,HTn=VTn,Rme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function UTn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<bD||t.mode>I$e?1:0},P$e=e=>{if(Gm(e))return Ka;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=bD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(NTn),t.distcode=t.distdyn=new Int32Array(zTn),t.sane=1,t.back=-1,fm},O$e=e=>{if(Gm(e))return Ka;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,P$e(e)},R$e=(e,t)=>{let n;if(Gm(e))return Ka;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ka:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,O$e(e))},$$e=(e,t)=>{if(!e)return Ka;const n=new UTn;e.state=n,n.strm=e,n.window=null,n.mode=bD;const r=R$e(e,t);return r!==fm&&(e.state=null),r},WTn=e=>$$e(e,HTn);let $me=!0,k3,j3;const YTn=e=>{if($me){k3=new Int32Array(512),j3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Fb(k$e,e.lens,0,288,k3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Fb(j$e,e.lens,0,32,j3,0,e.work,{bits:5}),$me=!1}e.lencode=k3,e.lenbits=9,e.distcode=j3,e.distbits=5},M$e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},qTn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,y=0,x,b,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gm(e)||!e.output||!e.input&&e.avail_in!==0)return Ka;n=e.state,n.mode===su&&(n.mode=_3),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=fm;e:for(;;)switch(n.mode){case bD:if(n.wrap===0){n.mode=_3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Mo(n.check,k,2,0),u=0,d=0,n.mode=hme;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=yr;break}if((u&15)!==fme){e.msg="unknown compression method",n.mode=yr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=yr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?wme:su,u=0,d=0;break;case hme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==fme){e.msg="unknown compression method",n.mode=yr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=yr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Mo(n.check,k,2,0)),u=0,d=0,n.mode=pme;case pme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Mo(n.check,k,4,0)),u=0,d=0,n.mode=mme;case mme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Mo(n.check,k,2,0)),u=0,d=0,n.mode=gme;case gme:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Mo(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=vme;case vme:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Mo(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=yme;case yme:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Mo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=bme;case bme:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Mo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=xme;case xme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=yr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=su;break;case wme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=Rme(u),u=0,d=0,n.mode=N5;case N5:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,LTn;e.adler=n.check=1,n.mode=su;case su:if(t===MTn||t===k2)break e;case _3:if(n.last){u>>>=d&7,d-=d&7,n.mode=E3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Cme;break;case 1:if(YTn(n),n.mode=j2,t===k2){u>>>=2,d-=2;break e}break;case 2:n.mode=Sme;break;case 3:e.msg="invalid block type",n.mode=yr}u>>>=2,d-=2;break;case Cme:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yr;break}if(n.length=u&65535,u=0,d=0,n.mode=S3,t===k2)break e;case S3:n.mode=_me;case _me:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=su;break;case Sme:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yr;break}n.have=0,n.mode=Eme;case Eme:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Fb($Tn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=yr;break}n.have=0,n.mode=kme;case kme:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=yr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===yr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=yr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Fb(k$e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=yr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Fb(j$e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=yr;break}if(n.mode=j2,t===k2)break e;case j2:n.mode=T2;case T2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,ATn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===su&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(b&&!(b&240)){for(C=x,_=b,S=w;y=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,b===0){n.mode=Ime;break}if(b&32){n.back=-1,n.mode=su;break}if(b&64){e.msg="invalid literal/length code",n.mode=yr;break}n.extra=b&15,n.mode=jme;case jme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Tme;case Tme:for(;y=n.distcode[u&(1<<n.distbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(b&240)){for(C=x,_=b,S=w;y=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,b&64){e.msg="invalid distance code",n.mode=yr;break}n.offset=w,n.extra=b&15,n.mode=Ame;case Ame:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yr;break}n.mode=Dme;case Dme:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=T2);break;case Ime:if(c===0)break e;o[s++]=n.length,c--,n.mode=T2;break;case E3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Mo(n.check,o,p,s-p):tw(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:Rme(u))!==n.check){e.msg="incorrect data check",n.mode=yr;break}u=0,d=0}n.mode=Pme;case Pme:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=yr;break}u=0,d=0}n.mode=Ome;case Ome:j=FTn;break e;case yr:j=T$e;break e;case D$e:return A$e;case I$e:default:return Ka}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<yr&&(n.mode<E3||t!==dme))&&M$e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Mo(n.check,o,p,e.next_out-p):tw(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===su?128:0)+(n.mode===j2||n.mode===S3?256:0),(f===0&&p===0||t===dme)&&j===fm&&(j=BTn),j},GTn=e=>{if(Gm(e))return Ka;let t=e.state;return t.window&&(t.window=null),e.state=null,fm},KTn=(e,t)=>{if(Gm(e))return Ka;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,fm):Ka},ZTn=(e,t)=>{const n=t.length;let r,o,i;return Gm(e)||(r=e.state,r.wrap!==0&&r.mode!==N5)?Ka:r.mode===N5&&(o=1,o=tw(o,t,n,0),o!==r.check)?T$e:(i=M$e(e,t,n,n),i?(r.mode=D$e,A$e):(r.havedict=1,fm))};var XTn=O$e,QTn=R$e,JTn=P$e,eAn=WTn,tAn=$$e,nAn=qTn,rAn=GTn,oAn=KTn,iAn=ZTn,sAn="pako inflate (from Nodeca project)",gu={inflateReset:XTn,inflateReset2:QTn,inflateResetKeep:JTn,inflateInit:eAn,inflateInit2:tAn,inflate:nAn,inflateEnd:rAn,inflateGetHeader:oAn,inflateSetDictionary:iAn,inflateInfo:sAn};function aAn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lAn=aAn;const F$e=Object.prototype.toString,{Z_NO_FLUSH:cAn,Z_FINISH:uAn,Z_OK:ow,Z_STREAM_END:T3,Z_NEED_DICT:A3,Z_STREAM_ERROR:dAn,Z_DATA_ERROR:Mme,Z_MEM_ERROR:fAn}=qm;function OC(e){this.options=yD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S$e,this.strm.avail_out=0;let n=gu.inflateInit2(this.strm,t.windowBits);if(n!==ow)throw new Error(um[n]);if(this.header=new lAn,gu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=rw.string2buf(t.dictionary):F$e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=gu.inflateSetDictionary(this.strm,t.dictionary),n!==ow)))throw new Error(um[n])}OC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?uAn:cAn,F$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=gu.inflate(n,s),i===A3&&o&&(i=gu.inflateSetDictionary(n,o),i===ow?i=gu.inflate(n,s):i===Mme&&(i=A3));n.avail_in>0&&i===T3&&n.state.wrap>0&&e[n.next_in]!==0;)gu.inflateReset(n),i=gu.inflate(n,s);switch(i){case dAn:case Mme:case A3:case fAn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===T3))if(this.options.to==="string"){let c=rw.utf8border(n.output,n.next_out),u=n.next_out-c,d=rw.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===ow&&a===0)){if(i===T3)return i=gu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};OC.prototype.onData=function(e){this.chunks.push(e)};OC.prototype.onEnd=function(e){e===ow&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function kz(e,t){const n=new OC(t);if(n.push(e),n.err)throw n.msg||um[n.err];return n.result}function hAn(e,t){return t=t||{},t.raw=!0,kz(e,t)}var pAn=OC,mAn=kz,gAn=hAn,vAn=kz,yAn=qm,bAn={Inflate:pAn,inflate:mAn,inflateRaw:gAn,ungzip:vAn,constants:yAn};const{Deflate:xAn,deflate:wAn,deflateRaw:CAn,gzip:_An}=jTn,{Inflate:SAn,inflate:EAn,inflateRaw:kAn,ungzip:jAn}=bAn;var TAn=xAn,AAn=wAn,DAn=CAn,IAn=_An,PAn=SAn,OAn=EAn,RAn=kAn,$An=jAn,MAn=qm,L$e={Deflate:TAn,deflate:AAn,deflateRaw:DAn,gzip:IAn,Inflate:PAn,inflate:OAn,inflateRaw:RAn,ungzip:$An,constants:MAn};function FAn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function B$e(e,t){return y0(e)?e[Number(t)]:e[t]}function N$e(e,t){if(e){var n=t.shift(),r=B$e(e,n);return t.length&&(y0(r)||iw(r))?N$e(r,t):r}}function y0(e){return Array.isArray(e)}function iw(e){return e&&typeof e=="object"}function D3(e,t,n){if(y0(e)){e[Number(t)]=n;return}if(iw(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function Fme(e){if(y0(e))return e.slice(0);if(iw(e))return FAn({},e);throw new Error("shallowClone: source must be an object or an array")}function LAn(e,t){return t?N$e(e,t.split("/")):e}function BAn(e,t,n){if(!t){if(y0(n)||iw(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(LAn(e,t)===n)return e;for(var r=Fme(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=B$e(i,a);if(c===void 0&&(c={},D3(i,a,c)),!y0(c)&&!iw(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=Fme(i);D3(s,a,u),s=u}else D3(s,a,n)}return r}const Ov=[],gF={},NAn="auto",zAn=1,z5=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],Lme=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function z$e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const VAn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function HAn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function V$e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const H$e=h.createContext(null);function C1(){const e=h.useContext(H$e);if(!e)throw new Error("Props: missing context value");return e}const UAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=C1();return l.jsxs(U,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(Yj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),WAn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=C1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Fr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),YAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=C1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Hf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),qAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=C1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Fr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),GAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=C1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(eCe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function KAn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(UAn,{schema:t,value:n}):t.type==="number"?l.jsx(WAn,{schema:t,value:n}):t.type==="select"?l.jsx(YAn,{schema:t,value:n}):t.type==="string"?l.jsx(qAn,{schema:t,value:n}):t.type==="text"?l.jsx(GAn,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const ZAn=h.memo(function(){const{schemas:t,value:n}=C1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(KAn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Rv=Ut,U$e=h.createContext(null);function sl(){const e=h.useContext(U$e);if(!e)throw new Error("Workshop: missing context value");return e}const XAn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,QAn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function JAn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return XAn(t)}function eDn(e){const t=QAn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function tDn(e){if(e.length===0)return"";const t=eDn(e);return L$e.inflate(t,{to:"string"})}function nDn(e){if(e.length===0)return"";const t=L$e.deflate(e);return JAn(t)}function rDn(e){return nDn(JSON.stringify(e))}function Bme(e){try{return JSON.parse(tDn(e))}catch{return{}}}function oDn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const iDn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=sl(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:Bme(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,y)=>{o({type:"workshop/props/setPropValue",name:g,value:y})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(y=>{const x=oDn(y,g);return Rv(y,x)?y:x})}),[r]),h.useEffect(()=>{const g=rDn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:Bme(String(s))||{}})))},[s]),l.jsx(H$e.Provider,{value:v,children:n})});function sDn(){return{name:"props",title:"Properties",inspector:ZAn,provider:iDn}}const W$e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=Ov,collections:v=Ov,frameUrl:g="/frame/",scopes:y,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const b=h.useMemo(()=>[sDn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>HAn(y,c),[c,y]),_=h.useMemo(()=>({plugins:b,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:y,story:C,title:x,viewport:f,zoom:p}),[b,n,o,v,s,g,a,c,u,d,w,y,C,x,f,p]);let S=r;for(const E of b)E.provider&&(S=h.createElement(E.provider,{options:E.options||gF},S));return l.jsx(U$e.Provider,{value:_,children:S})});function Y$e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Rv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Rv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Rv(e.payload,n)?e:{...e,payload:n}}return e}const Nme=(()=>{try{return{}.ROOT_PATH}catch{return}})(),aDn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,lDn=/\/@fs\//g,cDn=/\?([a-z]{1})=([0-9]+)/g;function zme(e){let t=decodeURIComponent(e);return t=e.replace(aDn,"").replace(lDn,"/").replace(cDn,""),Nme?uDn(t,Nme+"/"):t}function uDn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const dDn=h.memo(function(){const{story:t}=sl(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(X,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(hDn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(fDn,{story:t}),children:l.jsx(X,{as:"main",height:"fill",children:l.jsx(P0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),fDn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),"…"]}),l.jsx(U,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(hr,{muted:!0})})]})}),hDn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(ee,{space:4,children:[l.jsx(Yo,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(oe,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(lr,{size:1,children:zme(n.stack)}),r&&l.jsx(lr,{size:1,children:"Component stack:"+zme(r.componentStack)})]})})});function q$e(e){return Array.isArray(e)}function G$e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function pDn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(q$e(c)){for(const u of c)if(G$e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function mDn(){const e=typeof window>"u"?{}:VAn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>pDn(),[]),i=h.useMemo(()=>z$e(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(b=>{i.publish(b),o.message.publish(b)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:y},x]=h.useState(()=>mDn());return h.useEffect(()=>i.subscribe(b=>x(w=>Y$e(w,b))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(q6,{children:l.jsx(Uu,{element:s,children:l.jsx(jm,{element:c,children:l.jsx(W$e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:y,children:l.jsxs(X,{height:"fill",ref:a,children:[l.jsx(dDn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var Vme=Object.freeze,gDn=Object.defineProperty,vDn=(e,t)=>Vme(gDn(e,"raw",{value:Vme(t||e.slice())})),Hme;E0e(Hme||(Hme=vDn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Ume=Object.freeze,yDn=Object.defineProperty,bDn=(e,t)=>Ume(yDn(e,"raw",{value:Ume(t||e.slice())})),Wme;const xDn=h.memo(cx),wDn=O(X)(Wme||(Wme=bDn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),CDn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(_Dn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(is,{style:i,children:l.jsx(wDn,{padding:2,shadow:1,children:l.jsx(Zj,{space:1,children:s})})})});function _Dn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(xDn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var Yme=Object.freeze,SDn=Object.defineProperty,EDn=(e,t)=>Yme(SDn(e,"raw",{value:Yme(t||e.slice())})),qme;const kDn=O(X)(qme||(qme=EDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),Gme=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),jDn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=sl(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(kDn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[c&&l.jsx(CDn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(dCe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(Gme,{component:d.plugin.inspector,options:d.plugin.options||gF})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(Gme,{component:a.plugin.inspector,options:a.plugin.options||gF})})]})})}),Kme=dw;function TDn(){const{broadcast:e,scope:t,story:n,title:r}=sl(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(ADn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const ADn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(U6,{separator:l.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(L,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(L,{size:[2,2,1],children:o})]})}),DDn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=sl(),a=h.useMemo(()=>n==="/"?void 0:V$e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(oe,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:Qf,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function IDn(){const{broadcast:e,scheme:t}=sl(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(PDn,{dark:t==="dark",onToggleScheme:n})}const PDn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(oe,{fontSize:1,icon:n?qF:XF,mode:"bleed",onClick:r,padding:2})}),ODn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=sl(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx($Dn,{disabled:!n,setViewport:o,viewport:r})}),RDn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},$Dn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(nn,{button:l.jsx(oe,{disabled:r,fontSize:1,iconRight:Hl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=z5.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Nt,{children:z5.map(s=>l.jsx(Ne,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:RDn})});function MDn(){const{broadcast:e,story:t,zoom:n}=sl(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(LDn,{disabled:!t,setZoom:r,zoom:n})}const FDn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},LDn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(nn,{button:l.jsx(oe,{disabled:r,fontSize:1,iconRight:Hl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Lme.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Nt,{children:Lme.map(s=>l.jsx(Ne,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:FDn})}),BDn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=_m(),{story:a,title:c}=sl();return l.jsx(X,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(U,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(oe,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:YF,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(U,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(TDn,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(oe,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:fj,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(Kt,{space:1,children:[l.jsx(DDn,{}),l.jsx(ODn,{}),l.jsx(MDn,{}),l.jsx(IDn,{})]})})]})})});function K$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return K$e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function NDn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=BAn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...K$e(e,s,i));return o}const zDn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(ee,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(X,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),VDn=h.memo(function(t){const{items:n}=t;return l.jsx(mCe,{space:1,children:l.jsx(Z$e,{items:n})})}),Z$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=sl(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(HDn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(ux,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(UDn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(ux,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),HDn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(Z$e,{basePath:o,items:r.items}),[r,o]);return l.jsx(ux,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),UDn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(ux,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(ux,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var Zme=Object.freeze,WDn=Object.defineProperty,YDn=(e,t)=>Zme(WDn(e,"raw",{value:Zme(t||e.slice())})),Xme;const qDn=O(X)(Xme||(Xme=YDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),GDn={flex:"none"},KDn={lineHeight:0},ZDn=[2,2,1],XDn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=sl(),s=h.useMemo(()=>NDn(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return Ov;const v=a.toLowerCase(),g=[];for(const y of i)for(const x of y.stories)((m=y.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:y,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(QDn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),QDn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(qDn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(is,{style:GDn,children:l.jsx(X,{padding:2,shadow:1,style:KDn,children:l.jsx(Fr,{border:!1,clearButton:!!c,fontSize:ZDn,icon:ii,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(X,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(zDn,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(VDn,{items:o.items})})]})]})})});var Qme=Object.freeze,JDn=Object.defineProperty,eIn=(e,t)=>Qme(JDn(e,"raw",{value:Qme(t||e.slice())})),Jme;const tIn=O.iframe(Jme||(Jme=eIn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),nIn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=sl(),p=z5.find(w=>w.name===d)||z5[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>V$e({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),y=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),b=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(X,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(U,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(eo,{width:0,children:l.jsxs(ee,{padding:4,space:4,children:[l.jsx(Yo,{align:"center",children:u}),l.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(hr,{muted:!0}),l.jsx(eo,{height:"fill",hidden:!o||s==="/",style:y,width:"auto",children:l.jsx(X,{height:"fill",shadow:1,children:l.jsx(tIn,{ref:n,src:g,style:b})})})]})})});function rIn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(q$e(u)){for(const d of u)if(G$e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function ege(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function tge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==NAn&&(s.viewport=o),i&&i!==zAn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>z$e(),[]),d=h.useMemo(()=>rIn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:y,payload:x,scheme:b,viewport:w,zoom:C},_]=h.useState(()=>ege(i.get(),a)),S=_m(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(b),I=h.useRef(y),P=h.useRef({scheme:b,viewport:w,zoom:C,...x}),$=h.useCallback(V=>{u.publish(V),d.message.publish(V)},[u,d]),R=h.useMemo(()=>Kme(V=>i.push(V),150),[i]),z=h.useMemo(()=>Kme(V=>i.replace(V),150),[i]),B=h.useCallback(()=>{j(V=>!V),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(V=>!V)},[]),W=h.useRef(S);return h.useEffect(()=>{W.current<2&&S>=2&&(j(!1),T(!1)),W.current=S},[S]),h.useEffect(()=>{j(!1)},[y]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>z.cancel(),[z]),h.useEffect(()=>u.subscribe(V=>{_(G=>{const te=Y$e(G,V),N=!Rv(G,te);if(N){if(V.type==="workshop/setPath"){if(I.current!==te.path){I.current=te.path;const Y=tge(te,!1);R({path:te.path,query:Y})}}else if(V.type!=="workshop/setState"){const Y=tge(te);Rv(P.current,Y)||(P.current=Y,z({path:te.path,query:Y}))}}return N?te:G})}),[R,z,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(V=>{const G=ege(V,void 0,g);$({type:"workshop/setState",value:G})}),[$,g,i]),h.useEffect(()=>{D.current=b,s(b)},[s,b]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(W$e,{config:o,broadcast:$,channel:u,frameReady:g,origin:"main",path:y,payload:x,scheme:b,viewport:w,zoom:C,children:l.jsx(q6,{children:l.jsx(Uu,{element:f,children:l.jsx(jm,{element:m,children:l.jsxs(U,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(BDn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:H,onNavigatorToggle:B}),l.jsxs(U,{flex:1,children:[l.jsx(XDn,{collections:o.collections,expanded:E}),l.jsx(nIn,{frameRef:d.setElement,hidden:E||k}),l.jsx(jDn,{expanded:k})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function oIn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(Ov),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(Ov)},[a,u]),m=h.useMemo(()=>AC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),y=h.useCallback(()=>{var w,C;d(Ov),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),b=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(gD,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:y,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:b,readOnly:c,ref:f,value:u})}var nge=Object.freeze,iIn=Object.defineProperty,X$e=(e,t)=>nge(iIn(e,"raw",{value:nge(t||e.slice())})),rge,oge;const sIn=O(U)(rge||(rge=X$e([`
  min-height: 25px;
`]))),aIn=O(oe)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return de(oge||(oge=X$e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function lIn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(y=>{const x={fieldPath:i,message:y,parentCommentId:void 0,status:"open",threadId:md()};c==null||c(x)},[c,i]),p=h.useCallback(y=>{y.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(y=>{y.stopPropagation(),y.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(y=>y.title))||[],[t]),g=v[v.length-1];return l.jsxs(ee,{space:2,children:[l.jsx(sIn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(ee,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(aIn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(B5n,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(n$e,{onClick:m,tone:s?"primary":void 0,children:l.jsx(oIn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(ee,{space:2,children:r})]})}const ige={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function cIn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(U,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(hr,{muted:!0,size:1}),l.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(eo,{width:0,padding:4,children:l.jsxs(ee,{space:3,children:[l.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:ige[t].title}),l.jsx(L,{align:"center",size:1,muted:!0,children:ige[t].message})]})})}):null}const uIn={behavior:"smooth",block:"start",inline:"nearest"};function dIn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const fIn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:y,selectedPath:x,status:b}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(uIn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(dIn(r)),[r]),E=!s&&!i&&S.length>0;return l.jsxs(U,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(cIn,{error:i,hasNoComments:S.length===0,loading:s,status:b}),E&&l.jsx(ee,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Uu,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return l.jsx(ee,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(lIn,{breadcrumbs:A,canCreateNewThread:b==="open",currentUser:o,fieldPath:k,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:y,children:T.map(P=>{var $,R;const z=P.replies.slice().reverse(),B=b==="open"&&(($=P.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=P.parentComment._state)==null?void 0:R.type)!=="createRetrying",H=(x==null?void 0:x.threadId)===P.parentComment.threadId&&(x==null?void 0:x.fieldPath)===P.parentComment.target.path.field;return l.jsx(F5n,{canReply:B,currentUser:o,isSelected:H,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:P.parentComment,readOnly:y,replies:z},P.parentComment._id)})},k)},k)})})})]})}),hIn=ne.memo(fIn),pIn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function mIn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=pIn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Fi,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(en,{columns:2,padding:2,gap:2,children:[l.jsx(oe,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(oe,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(ee,{padding:4,space:4,children:[l.jsx(L,{children:c}),s&&l.jsx(cr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var sge=Object.freeze,gIn=Object.defineProperty,jz=(e,t)=>sge(gIn(e,"raw",{value:sge(t||e.slice())})),age,lge,cge;const vIn=O(M)(age||(age=jz([`
  max-width: 280px;
`]))),yIn=gm(lge||(lge=jz([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),bIn=O(tn)(cge||(cge=jz([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),yIn);function xIn(e){const{onDismiss:t}=e;return l.jsx(bIn,{content:l.jsx(vIn,{padding:4,children:l.jsxs(ee,{space:3,children:[l.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(U,{justify:"flex-end",marginTop:2,children:l.jsx(oe,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const Q$e=h.createContext(null);function wIn(e){const t={};return e!==null&&(t.identity=e.id),t}const I3=new Map;async function CIn(e,t,n){I3.has(t)||I3.set(t,FTe("*[".concat(t,"]")));const r=I3.get(t),o=wIn(e),{identity:i}=o,s={...o},a=await(await ITe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function _In(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await CIn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const uge={data:[],error:null,loading:!0};let dge=null;function SIn(e){const{documentValue:t}=e,n=yCn(),r=oz(),o=mr(cn),[i,s]=h.useState(uge),a=h.useMemo(()=>{const u=n.get().pipe(ce(v=>{var g;return(g=v.members)==null?void 0:g.filter(y=>!y.isRobot)})).pipe(rt(async v=>{const g=v.map(x=>{let{id:b}=x;return b});return await r.getUsers(g)}),ce(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=dge,f=d?ve(d):o.observable.fetch('*[_type == "system.group"]');return Int([u,f]).pipe(dt(async v=>{let[g,y]=v;d||(dge=y);const x=g==null?void 0:g.map(async w=>{const _=[...y.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await _In(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ce(v=>({error:null,loading:!1,data:Im(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=ve(uge),d=Wr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function EIn(e){const{documentId:t,documentType:n}=e||{},r=jn().get(n),{title:o}=Gl(),{createPathWithParams:i,params:s}=Xc(),a=zi(),c=bo(()=>!t||!r?ve(null):EA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:Rb}),y="".concat(window.location.origin).concat(g);return{documentTitle:f,url:y,workspaceTitle:o}},[i,f,s,o])}}function kIn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,y=yT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Gl(),b=h.useMemo(()=>x.find(k=>k.name===y),[y,x]),{getNotificationValue:w}=EIn({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||md(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:P=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:P},R={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:$,tool:(b==null?void 0:b.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(z){throw c==null||c(R._id,z),z}return}try{await t.create(R)}catch(z){throw c==null||c(R._id,z),z}},[b==null?void 0:b.name,g,t,r,o,i,w,s,a,c,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function J$e(){const e=h.useContext(Q$e);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function jIn(){const e=h.useContext(iMe);if(!e)throw new Error("useCommentsSetup: missing context value");return e}const eMe=h.createContext(null),TIn=ne.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{enabled:i,isLoading:s}=M3e("studioComments"),{enabled:a}=Ln().document.unstable_comments,c=h.useMemo(()=>a({documentType:o,documentId:$n(r)}),[r,o,a]),u=h.useMemo(()=>!(s||!i||!c),[c,i,s]);return l.jsx(eMe.Provider,{value:u,children:n})});function xD(){return!!h.useContext(eMe)}const tMe=h.createContext(null),AIn=1,nMe="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(AIn),DIn=e=>{try{window.localStorage.setItem(nMe,JSON.stringify(e))}catch{}},IIn=()=>{try{const e=window.localStorage.getItem(nMe);return e?JSON.parse(e):!1}catch{return!1}};function PIn(e){const{children:t}=e,[n,r]=h.useState(IIn()),o=h.useCallback(()=>{r(!0),DIn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(tMe.Provider,{value:i,children:t})}function OIn(){const e=h.useContext(tMe);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function rMe(){const e=h.useContext(sMe);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function RIn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function $In(e,t){switch(t.type){case"COMMENTS_SET":{const n=RIn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const MIn={comments:{}},FIn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},LIn="_createdAt",BIn="desc",NIn=['_type == "comment"',"target.document._ref == $documentId"],zIn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,VIn="order(".concat(LIn," ").concat(BIn,")"),fge="*[".concat(NIn.join(" && "),"] ").concat(zIn," | ").concat(VIn);function HIn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer($In,MIn),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:$n(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(fge,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(fge,u,FIn).pipe(Rn(g=>(c(g),ve(g)))):ve(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function oMe(e,t){var n;const r=Il(t),o=r[0];if(o&&Za(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=zr(r.slice(1));return s?oMe(i.type,s):i}}}function UIn(e,t){if(typeof t=="number")return t;const n=U9(e,t);return n===-1?!1:n}function WIn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Il(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),y=i.slice(0,u),x=oMe(n,zr(g)),b=c.hasOwnProperty("_key"),w=Va(o,y),C=Va(o,g),_={document:o,currentUser:t,parent:w,value:C};if(b&&Array.isArray(w)){const S=UIn(w,c),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=fo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:Op(x.type)}),a=x.type;return}if(zl(a)){const S=Va(o,y),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(P=>P.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(P=>P.name===c);if(!E&&C){const P=(p=a==null?void 0:a.of)==null?void 0:p.map(z=>z==null?void 0:z.fields).filter(Boolean).flat(),$=P==null?void 0:P.find(z=>(z==null?void 0:z.name)===c),R=fo((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:Op($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=Op(k==null?void 0:k.type),A=fo((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=fo(k==null?void 0:k.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function YIn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=WIn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const vF=[],qIn={open:vF,resolved:vF},GIn=h.memo(function(t){const{children:n,documentId:r,documentType:o,isCommentsOpen:i,onCommentsOpen:s}=t,[a,c]=h.useState("open"),{client:u,runSetup:d,isRunningSetup:f}=jIn(),p=$n(r),m=KN(p,o,"low"),v=h.useMemo(()=>m.draft||m.published,[m.draft,m.published]),{dispatch:g,data:y=vF,error:x,loading:b}=HIn({documentId:p,client:u}),w=SIn(h.useMemo(()=>({documentValue:v}),[v])),C=jn().get(o),_=Go(),{name:S,dataset:E,projectId:j}=Gl(),k=h.useMemo(()=>{if(!C||!_)return qIn;const B=Z0(y,["_createdAt"],["desc"]),H=YIn({comments:B,schemaType:C,currentUser:_,documentValue:v});return{open:H.filter(W=>W.parentComment.status==="open"),resolved:H.filter(W=>W.parentComment.status==="resolved")}},[_,y,v,C]),T=h.useCallback(B=>k.open.filter(H=>H.threadId===B).length,[k.open]),A=h.useCallback(B=>y==null?void 0:y.find(H=>H._id===B),[y]),D=h.useCallback(async B=>{var H,W;const V=((W=(H=y==null?void 0:y.find(G=>G._id===B._id))==null?void 0:H._state)==null?void 0:W.type)==="createError";g({type:"COMMENT_ADDED",payload:{...B,_state:V?{type:"createRetrying"}:void 0}})},[y,g]),I=h.useCallback((B,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:B,...H}})},[g]),P=h.useCallback((B,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:B,...H}})},[g]),$=h.useCallback((B,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:B,_state:{error:H,type:"createError"}}})},[g]),{operation:R}=kIn(h.useMemo(()=>({client:u,currentUser:_,dataset:E,documentId:p,documentType:o,projectId:j,schemaType:C,workspace:S,getThreadLength:T,runSetup:d,onCreate:D,onCreateError:$,onEdit:P,onUpdate:I}),[u,_,E,p,o,j,C,S,T,d,D,$,P,I])),z=h.useMemo(()=>({isRunningSetup:f,status:a,setStatus:c,getComment:A,isCommentsOpen:i,onCommentsOpen:s,comments:{data:k,error:x,loading:b||f},create:{execute:R.create},remove:{execute:R.remove},edit:{execute:R.edit},update:{execute:R.update},mentionOptions:w}),[x,A,i,f,b,w,s,R.create,R.edit,R.remove,R.update,a,k]);return l.jsx(Q$e.Provider,{value:z,children:n})}),iMe=h.createContext(null),hge="v2023-11-13";function KIn(e){const{children:t}=e,{dataset:n,projectId:r}=Gl(),o=mr(cn),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:hge,dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:hge}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const y=d(g);s(y),await y.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(iMe.Provider,{value:p,children:t})}const sMe=h.createContext(null),ZIn=ne.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(sMe.Provider,{value:s,children:n})}),XIn=O(X)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),QIn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(XIn,{ref:n,children:l.jsxs(U,{padding:2,children:[l.jsxs(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(ACn,{})]}),l.jsxs(U,{flex:"none",padding:1,gap:2,children:[l.jsx(nn,{id:"comment-status-menu-button",button:l.jsx(oe,{text:hn(i),fontSize:1,padding:2,mode:"bleed",iconRight:el,space:2}),menu:l.jsxs(Nt,{style:{width:"180px"},children:[l.jsx(Ne,{fontSize:1,iconRight:i==="open"?ra:void 0,onClick:s,text:"Open comments"}),l.jsx(Ne,{fontSize:1,iconRight:i==="resolved"?ra:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(oe,{"aria-label":"Close comments",fontSize:1,icon:HF,mode:"bleed",onClick:r,padding:2})]})]})})});var pge=Object.freeze,JIn=Object.defineProperty,aMe=(e,t)=>pge(JIn(e,"raw",{value:pge(t||e.slice())})),mge,gge;const ePn="https://snty.link/comments-beta-feedback",tPn=O.span(mge||(mge=aMe([`
  margin-right: 0.2em;
`]))),nPn=O.a(gge||(gge=aMe([`
  white-space: nowrap;
`]))),rPn=O(X)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function oPn(){return l.jsx(rPn,{padding:3,children:l.jsxs(L,{muted:!0,size:1,children:["Help improve comments."," ",l.jsxs(nPn,{href:ePn,target:"_blank",rel:"noreferrer",children:[l.jsx(tPn,{children:"Share your feedback "})," ",l.jsx(Qf,{})]})]})})}var vge=Object.freeze,iPn=Object.defineProperty,sPn=(e,t)=>vge(iPn(e,"raw",{value:vge(t||e.slice())})),yge;const aPn=O(is)(yge||(yge=sPn([`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`])));function lPn(e){return xD()?l.jsx(aPn,{children:l.jsx(cPn,{...e})}):null}function cPn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Go(),{params:m,createPathWithParams:v,setParams:g}=Xc(),y=ti(m)||YRe,x=h.useRef(y==null?void 0:y.comment),b=h.useRef(!1),w=qo().push,{onPathOpen:C,ready:_}=Br(),{isDismissed:S,setDismissed:E}=OIn(),{comments:j,create:k,edit:T,getComment:A,isRunningSetup:D,mentionOptions:I,remove:P,setStatus:$,status:R,update:z}=J$e(),{isTopLayer:B}=pa(),H=h.useMemo(()=>j.data[R],[j,R]),W=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:V,setSelectedPath:G}=rMe(),te=h.useCallback(he=>{$(he),G(null)},[G,$]),N=h.useCallback(()=>{t(),G(null)},[t,G]),Y=h.useCallback(he=>{const be=v({...m,comment:he}),Le="".concat(window.location.origin).concat(be);navigator.clipboard.writeText(Le).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),q=h.useCallback(he=>{const be=A(he);be&&k.execute({fieldPath:be.target.path.field,id:be._id,message:be.message,parentCommentId:be.parentCommentId,status:be.status,threadId:be.threadId})},[k,A]),Z=h.useCallback(()=>{s||(r(!1),i(null))},[s]),se=h.useCallback(he=>{if(G(he),he!=null&&he.fieldPath){const be=Il(he.fieldPath);C(be)}},[C,G]),re=h.useCallback(he=>{k.execute(he),G({fieldPath:he.fieldPath,origin:"inspector",threadId:he.threadId})},[k,G]),K=h.useCallback(he=>{k.execute(he)},[k]),Q=h.useCallback((he,be)=>{T.execute(he,be)},[T]),le=h.useCallback(he=>{var be;const Le=H.find(lt=>{var ot;return((ot=lt.parentComment)==null?void 0:ot._id)===he}),Re=!!(Le&&((be=Le==null?void 0:Le.replies)==null?void 0:be.length)>0);r(!0),i({commentId:he,isParent:Re})},[H]),me=h.useCallback(async he=>{try{a(!0),await P.execute(he),Z()}catch(be){u(be)}finally{a(!1)}},[Z,P]),ae=h.useCallback((he,be)=>{const Le=A(he);Le&&(G({fieldPath:Le.target.path.field||null,origin:be||"inspector",threadId:Le.threadId||null}),setTimeout(()=>{var Re;(Re=d.current)==null||Re.scrollToComment(he)}))},[A,G]),Ce=h.useCallback((he,be)=>{z.execute(he,{status:be}),be==="open"&&($("open"),ae(he))},[ae,$,z]),_e=h.useCallback(()=>{V&&B&&G(null)},[B,V,G]);return dr(_e,[f.current]),h.useEffect(()=>{const he=A(x.current||"");!W&&he&&b.current===!1&&($(he.status||"open"),ae(he._id,"url"),b.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,ae,W,m,g,$]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(mIn,{...o,error:c,loading:s,onClose:Z,onConfirm:me}),l.jsxs(U,{direction:"column",flex:1,height:"fill",onClick:_e,overflow:"hidden",ref:f,children:[l.jsx(xIn,{onDismiss:E,open:!S,placement:"left-start",children:l.jsx(QIn,{onClose:N,onViewChange:te,view:R})}),p&&l.jsx(hIn,{comments:H,currentUser:p,error:j.error,loading:W,mentionOptions:I,onCopyLink:Y,onCreateRetry:q,onDelete:le,onEdit:Q,onNewThreadCreate:re,onPathSelect:se,onReply:K,onStatusChange:Ce,readOnly:D,ref:d,selectedPath:V,status:R}),l.jsx(oPn,{})]})]})}function uPn(){return{hidden:!xD(),icon:M0e,showAsAction:!0,title:"Comments"}}const dPn={name:Rb,component:lPn,useMenuItem:uPn};var bge=Object.freeze,fPn=Object.defineProperty,lMe=(e,t)=>bge(fPn(e,"raw",{value:bge(t||e.slice())})),xge,wge;const Cge={open:500},hPn=O(L)(xge||(xge=lMe([`
  width: max-content;
`]))),pPn=O(ee)(wge||(wge=lMe([`
  width: 320px;
`])));function mPn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useRef(null),w=t>0,C=h.useCallback(()=>{f&&(p(!1),y==null||y.focus())},[y,f,p]),_=h.useCallback(()=>{c(),C()},[C,c]),S=h.useMemo(()=>AC(m),[m]),E=h.useCallback(()=>{var I;if(!S){C();return}(I=b.current)==null||I.discardDialogController.open()},[C,S]),j=h.useCallback(I=>{I.isDefaultPrevented()||d&&d(I)},[d]),k=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close()},[]),T=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close(),C(),u()},[C,u]),A=h.useCallback(I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),E())},[E]),D=h.useCallback(()=>{f&&E()},[f,E]);if(dr(D,[v]),!w){const I=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),P=l.jsx(pPn,{padding:2,space:4,children:l.jsx(gD,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:k,onDiscardConfirm:T,onKeyDown:j,onSubmit:_,placeholder:I,readOnly:o,ref:b,value:m})});return l.jsx(tn,{constrainSize:!0,content:P,fallbackPlacements:["bottom-end"],open:f,placement:"right-start",portal:!0,ref:g,onKeyDown:A,children:l.jsx("div",{children:l.jsx(it,{delay:Cge,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Add comment"})}),children:l.jsx(oe,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:Mkn,mode:"bleed",onClick:a,padding:2,ref:x,selected:f})})})})}return l.jsx(it,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(hPn,{size:1,children:["View comment",t>1?"s":""]})}),delay:Cge,fallbackPlacements:["bottom"],children:l.jsx(oe,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(L,{size:1,children:l.jsx(Fkn,{})}),l.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var _ge=Object.freeze,gPn=Object.defineProperty,cMe=(e,t)=>_ge(gPn(e,"raw",{value:_ge(t||e.slice())})),Sge,Ege;const vPn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function yPn(e){return xD()?l.jsx(wPn,{...e}):e.renderDefault(e)}const kge={behavior:"smooth",block:"start"},bPn=O(ud.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=fe.blue[o.dark?900:50].hex;return de(Sge||(Sge=cMe([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),xPn=O(ee)(Ege||(Ege=cMe([`
  position: relative;
`])));function wPn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=h.useRef(null),{element:s}=Sm(),a=Go(),{comments:c,create:u,isCommentsOpen:d,isRunningSetup:f,mentionOptions:p,onCommentsOpen:m,setStatus:v,status:g}=J$e(),{selectedPath:y,setSelectedPath:x}=rMe(),b=h.useMemo(()=>Op(e.schemaType),[e.schemaType]),[w,C]=h.useState(null),_=h.useMemo(()=>!d||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===zr(e.path),[d,e.path,y==null?void 0:y.fieldPath,y==null?void 0:y.origin]),S=h.useMemo(()=>{const P=zr(e.path);return c.data.open.map(R=>R.fieldPath===P?R.commentsCount:0).reduce((R,z)=>R+z,0)||0},[c.data.open,e.path]),E=S>0,j=h.useCallback(P=>{x({threadId:P,origin:"form",fieldPath:zr(e.path)}),C(P)},[e.path,x]),k=h.useCallback(()=>{var P;if(E){g==="resolved"&&v("open"),n(!1),m==null||m();const $=(P=c.data.open.find(R=>R.fieldPath===zr(e.path)))==null?void 0:P.threadId;$&&j($);return}n($=>!$)},[E,g,m,c.data.open,v,e.path,j]),T=h.useCallback(()=>{if(r){const P=md(),$={fieldPath:zr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:P};u.execute($),m==null||m(),g==="resolved"&&v("open"),o(null),j(P)}},[u,j,m,e.path,v,g,r]),A=h.useCallback(()=>o(null),[]),D=h.useMemo(()=>({...kge,boundary:s,scrollMode:"if-needed",block:"start"}),[s]);h.useEffect(()=>{_&&i.current&&d&&r0(i.current,D)},[s,d,_,e.path,D]),h.useEffect(()=>{if(d&&w){const P=document.querySelector('[data-group-id="'.concat(w,'"]'));P&&(P.scrollIntoView(kge),C(null))}},[d,w]);const I=h.useMemo(()=>({button:a&&l.jsx(mPn,{count:Number(S),currentUser:a,fieldTitle:b,isRunningSetup:f,mentionOptions:p,onChange:o,onClick:k,onCommentAdd:T,onDiscard:A,open:t,setOpen:n,value:r}),hasComments:E,isAddingComment:t}),[a,S,b,p,k,T,A,t,r,f,E]);return l.jsxs(xPn,{ref:i,children:[e.renderDefault({...e,__internal_comments:I}),l.jsx(I6,{children:_&&l.jsx(bPn,{animate:"animate",exit:"exit",initial:"initial",variants:vPn})})]})}function CPn(e){return l.jsx(KIn,{children:l.jsx(PIn,{children:e.renderDefault(e)})})}const _Pn=hDe({name:"sanity/desk/comments",document:{inspectors:[dPn]},form:{components:{field:yPn}},studio:{components:{layout:CPn}}}),Tz="sanityStudio:desk:renameDismissed",Az=(()=>{if(typeof localStorage>"u")return!1;const e="lsCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})();function SPn(){const[e,t]=h.useState(()=>!kPn());h.useEffect(()=>{if(typeof window>"u"||!Az)return()=>{};function r(o){o.newValue!==o.oldValue&&o.key===Tz&&t(o.newValue!=="1")}return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]);const n=h.useCallback(()=>{t(!1),EPn()},[]);return{showOnboarding:e,dismissOnboarding:n}}function EPn(){Az&&localStorage.setItem(Tz,"1")}function kPn(){return Az?localStorage.getItem(Tz)==="1":!0}const jPn=u9("desk-is-now-structure");function TPn(e){return function(){const[n,r]=h.useState(void 0),{showOnboarding:o,dismissOnboarding:i}=SPn(),s=h.useCallback(a=>{const c=a==null?void 0:a.closest("[data-hidden]");r((c==null?void 0:c.getAttribute("data-hidden"))!=="true")},[]);return l.jsx("div",{ref:s,children:l.jsx(tn,{content:l.jsx(APn,{onDismiss:i}),open:o&&n,portal:!0,placement:"bottom",fallbackPlacements:["top","bottom"],__unstable_margins:[9,0,0,0],tone:"default",width:0,children:l.jsx(e,{})})})}}function APn(e){const t=h.useCallback(n=>{n.stopPropagation()},[]);return l.jsxs(ee,{as:"section",padding:3,space:3,onClick:t,children:[l.jsxs(ee,{padding:2,space:4,children:[l.jsx(U,{gap:2,align:"center",children:l.jsxs(L,{as:"h1",size:1,weight:"semibold",children:[l.jsx("strong",{children:"Desk"})," is now ",l.jsx("strong",{children:"Structure"})]})}),l.jsx(ee,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"We've renamed this tool to better reflect its purpose alongside the new Presentation tool."})})]}),l.jsxs(en,{columns:2,gap:3,children:[l.jsx(oe,{as:"a","data-as":"a",href:jPn,icon:Qf,target:"_blank",rel:"noreferrer",fontSize:1,padding:3,text:"Learn more",mode:"ghost"}),l.jsx(oe,{fontSize:1,icon:ra,onClick:e.onDismiss,padding:3,text:"Got it",tone:"primary"})]})]})}const uMe=h.createContext(null);function _1(){const e=h.useContext(uMe);if(!e)throw new Error("DeskTool: missing context value");return e}const DPn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},IPn={create:W3,delete:vo,discardDraft:Ii,initial:W3,editDraft:Mu,editLive:Mu,publish:S0,unpublish:iE};function dMe(e){return DPn[e]}function PPn(e){return IPn[e]}function OPn(e){let{maxLength:t,userIds:n}=e;return l.jsx(Wj,{maxLength:t,children:n.map(r=>l.jsx(Ga,{user:r,withTooltip:!0},r))})}var jge=Object.freeze,RPn=Object.defineProperty,$p=(e,t)=>jge(RPn(e,"raw",{value:jge(t||e.slice())})),Tge,Age,Dge,Ige,Pge,Oge,Rge;const JS=O(U)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return de(Tge||(Tge=$p([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),$Pn=O(oe)(e=>{let{$selected:t,$disabled:n}=e;return de(Ige||(Ige=$p([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),JS,JS,t&&de(Age||(Age=$p([`
      `,`::before {
        background: transparent;
      }
    `])),JS),n&&de(Dge||(Dge=$p([`
      cursor: not-allowed;
    `]))))}),MPn=O(M)(Pge||(Pge=$p([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),FPn=O(L)(Oge||(Oge=$p([`
  text-transform: capitalize;
`]))),LPn=O(M)(Rge||(Rge=$p([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ge(t.sanity.space[1]))}),$ge={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function BPn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=PPn(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return oi(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx($Pn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":$ge[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(U,{align:"stretch",children:[l.jsx(JS,{align:"center",children:l.jsx(MPn,{padding:2,children:l.jsx(L,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(ee,{space:2,margin:2,children:[o&&l.jsx(U,{children:l.jsx(X,{padding:1,radius:2,shadow:1,tone:i?"primary":$ge[t.type],children:l.jsx(Ht,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(FPn,{size:1,weight:"medium",children:dMe(c)||l.jsx("code",{children:c})})}),l.jsx(LPn,{paddingX:1,children:l.jsx(L,{size:0,muted:!0,children:p})})]}),l.jsx(U,{flex:1,justify:"flex-end",align:"center",children:l.jsx(OPn,{maxLength:3,userIds:d})})]})})})}var Mge=Object.freeze,NPn=Object.defineProperty,V5=(e,t)=>Mge(NPn(e,"raw",{value:Mge(t||e.slice())})),Fge,Lge,Bge,Nge;const zPn=O(ee)(Fge||(Fge=V5([`
  max-width: 200px;
`]))),VPn=O(U)(Lge||(Lge=V5([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),HPn=O(M)(e=>{let{$visible:t}=e;return de(Nge||(Nge=V5([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&de(Bge||(Bge=V5([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),yF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const y=g===0,x=d&&g===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[l.jsx(BPn,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(hr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(HPn,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(zPn,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"No document history"}),l.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(VPn,{direction:"column",children:l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};yF.displayName="Timeline";function UPn(){return l.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[l.jsx(cr,{tone:"critical",children:l.jsx(da,{})}),l.jsxs(ee,{space:4,children:[l.jsx(cr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(cr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var zge=Object.freeze,WPn=Object.defineProperty,YPn=(e,t)=>zge(WPn(e,"raw",{value:zge(t||e.slice())})),Vge;const qPn=O(tn)(Vge||(Vge=YPn([`
  overflow: hidden;
  overflow: clip;
`])));function fMe(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=Br(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),y=qo(),x=uo(c,B=>B.chunks),b=uo(c,B=>B.isLoading),w=uo(c,B=>B.hasMoreChunks),C=uo(c,B=>B.realRevChunk),_=uo(c,B=>B.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(B=>{d&&(B.key==="Escape"||B.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);dr(j,[p,v]),Ps(k);const T=h.useCallback(B=>{try{const[H,W]=c.findRangeForRev(B);i("closed"),o(H,W)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),A=h.useCallback(B=>{try{const[H,W]=c.findRangeForSince(B);i("closed"),o(H,W)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),D=h.useCallback(()=>{b||c.loadMore()},[b,c]),I=s?l.jsx(UPn,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(yF,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(yF,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),P=GPn((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(tEe(dMe(t.type)),": ").concat(P):"Latest version",R=t?"Since: ".concat(P):"Since: unknown version",z=n==="rev"?$:R;return l.jsx(qPn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(oe,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Hl,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?z:"Loading history"})})}function GPn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return oi(n,"MMM d, yyyy, hh:mm a")},[e])}const KPn=O(X)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function hMe(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(KPn,{...s,as:t,children:[l.jsxs(U,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(oe,{"aria-label":r,fontSize:1,icon:Ii,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Hge=Object.freeze,ZPn=Object.defineProperty,XPn=(e,t)=>Hge(ZPn(e,"raw",{value:Hge(t||e.slice())})),Uge;const QPn=O.div(Uge||(Uge=XPn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function JPn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(QPn,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var Wge=Object.freeze,eOn=Object.defineProperty,tOn=(e,t)=>Wge(eOn(e,"raw",{value:Wge(t||e.slice())})),Yge;const nOn=O(M)(Yge||(Yge=tOn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function rOn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(nOn,{as:t,...i,ref:a,style:m,children:[n,l.jsx(JPn,{onResize:p,onResizeStart:f})]})}function oOn(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=wh(),{closeInspector:i,inspector:s}=Br(),{features:a}=_1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(rOn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:akn,minWidth:oF,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function iOn(){return l.jsx(hz,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(hr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function sOn(e){const t=new Map;return kA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var qge=Object.freeze,aOn=Object.defineProperty,lOn=(e,t)=>qge(aOn(e,"raw",{value:qge(t||e.slice())})),Gge;const cOn=O(wA)(Gge||(Gge=lOn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function uOn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=Br(),a=h.useRef(null),c=uo(i,y=>y.diff),u=uo(i,y=>y.onOlderRevision),d=uo(i,y=>y.selectionState),f=uo(i,y=>y.sinceTime),p=d==="loading",m=!u,v=ne.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:SWt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=ne.useMemo(()=>c?sOn(c):[],[c]);return l.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(hMe,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(fMe,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(ts,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(Wj,{maxLength:4,"aria-label":"Changes by",children:g.map(y=>{let{author:x}=y;return l.jsx(Ga,{user:x},x)})})})})]})}),l.jsx(X,{flex:1,children:l.jsx(Uu,{element:a.current,children:l.jsx(cOn,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(dOn,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function dOn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(_4,{}):o?l.jsx(iOn,{}):n?l.jsx(zDe.Provider,{value:r,children:l.jsx(hC,{diff:n,schemaType:i})}):l.jsx(_4,{})}const fOn={name:sF,useMenuItem:()=>{const{features:e}=_1();return{hidden:!e.reviewChanges,icon:GF,title:"Review changes"}},component:uOn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function hOn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!bt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!Eee(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":bt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(bt(a)&&a._key){if(!Eee(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>bt(d)&&d._key===a._key),!bt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>bt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const pOn={error:da,warning:Lr,info:vm},mOn={error:"critical",warning:"caution",info:"primary"};function gOn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=Br(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(hMe,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(X,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(ee,{space:2,children:i.map((c,u)=>l.jsx(vOn,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function vOn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(P0,{onCatch:a,children:[s&&l.jsx(X,{padding:3,radius:2,tone:"critical",children:l.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(X,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:mOn[t.level],children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(L,{size:1,children:h.createElement(pOn[t.level])})}),l.jsxs(ee,{flex:1,space:2,children:[l.jsx(yOn,{path:t.path,schemaType:r,value:o}),l.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function yOn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>hOn({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(L,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function bOn(e){const{documentId:t,documentType:n}=e,{validation:r}=ZN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(h4e),s=o.some(p4e),a=h.useMemo(()=>i?da:s?Lr:cj,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const xOn={name:ukn,component:gOn,useMenuItem:bOn},wOn=[URe,WRe,VRe,HRe,zRe,vz],COn=[BEn],_On=[xOn,fOn],SOn=hDe(e=>{const t=e?typeof e.name=="string":!1,n=(e==null?void 0:e.icon)||G0e,r=t?n:TPn(n);return{name:"@sanity/desk-tool",document:{actions:o=>Array.from(new Set([...o,...wOn])),badges:o=>Array.from(new Set([...o,...COn])),inspectors:o=>Array.from(new Set([...o,..._On]))},plugins:[_Pn()],tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:r,component:h.lazy(()=>M2e(()=>import("./index-qM48g456-4e4efdd9.js"),[])),canHandleIntent:(o,i)=>o==="create"?EOn(i):o==="edit"?kOn(i):!1,getIntentState:zEn,controlsDocumentTitle:!0,options:e,router:GEn}]}});function EOn(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function kOn(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}class ln extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var On=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(On||{});const jOn=["_id","_type","_createdAt","_updatedAt","_rev"];function bF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return jOn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>bF(c,r)).join(","),"}")}const i=r.length>0&&bF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function TOn(e,t){return t.map(n=>bF(e,n.field.split("."))).join(", ")}const pMe={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},AOn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},DOn=pMe,Kge=[pMe,AOn];function mMe(e,t,n){return e instanceof Kf?e.serialize({path:n,index:t}):e}class Kf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new ln("`title` is required for menu item",t.path,t.index,i).withHelpUrl(On.TITLE_REQUIRED)}if(!r&&!o)throw new ln("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(On.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new ln("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(On.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Kf(this._context);return n.spec={...this.spec,...t||{}},n}}function gMe(e,t,n){return new Kf(e).group("sorting").title("Sort by ".concat(t.title)).icon(ZF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function vMe(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Kge):Kge).map(o=>gMe(e,o,TOn(r,o.by)))}function yMe(e,t,n){return e instanceof sw?e.serialize({path:n,index:t}):e}class sw{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new sw(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new sw(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new ln("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(On.ID_REQUIRED);if(!r)throw new ln("`title` is required for a menu item group",t.path,n).withHelpUrl(On.TITLE_REQUIRED);return{id:n,title:r}}}const bMe=/([^A-Za-z0-9-_.])/;function RC(e,t,n){if(typeof e!="string")throw new ln("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(bMe)||[];if(r)throw new ln('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new ln("Structure node id cannot start with __edit__",t,n);return e}function wD(e,t){if(t)return t;const n=She(e);return bMe.test(n)?She(CTe(e)):n}class aw{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new ln("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(On.ID_REQUIRED);if(!s)throw new ln("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(On.ID_REQUIRED);return{id:RC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>mMe(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>yMe(a,c,t.path))}}clone(t){const n=new aw;return n.spec={...this.spec,...t||{}},n}}async function xMe(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=$n(t),o=fi(t);return(await e(cn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class Dz{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||h2n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new ln("`id` is required for view item",t.path,t.index).withHelpUrl(On.ID_REQUIRED);if(!r)throw new ln("`title` is required for view item",t.path,t.index).withHelpUrl(On.TITLE_REQUIRED);return{id:RC(n,t.path,t.index),title:r,icon:o}}}function IOn(e){return typeof e.serialize=="function"}function wMe(e,t,n){return IOn(e)?e.serialize({path:n,index:t}):e}const POn=e=>bt(e)&&e.type==="component";class CD extends Dz{constructor(t){const n=POn(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new ln("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(On.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new CD;return n.spec={...this.spec,...t||{}},n}}class _D extends Dz{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new _D;return n.spec={...this.spec,...t||{}},n}}const CMe=e=>new _D(e),OOn=e=>new CD(e);var ROn=Object.freeze({__proto__:null,ComponentViewBuilder:CD,FormViewBuilder:_D,GenericViewBuilder:Dz,component:OOn,form:CMe,maybeSerializeView:wMe});const $On=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await xMe(n,r)),!a)throw new ln("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class Zf{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new ln("`id` is required for document nodes",t,n,r).withHelpUrl(On.ID_REQUIRED);if(!s||!s.id)throw new ln("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(On.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new ln("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[CMe()]).map((d,f)=>wMe(d,f,t)),c=a.map(d=>d.id),u=go(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new ln("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||$On(this._context),id:RC(i,t,n),type:"document",options:MOn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Zf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function MOn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function FOn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Zf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function LOn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Zge=["default","card","media","detail","block"],_Me=Symbol("Document type list canHandleIntent"),Iz=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:Pz(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};Iz.identity=_Me;class SD{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new ln("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(On.ID_REQUIRED);if(!o.templateId)throw new ln("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(On.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new ln("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(On.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new SD(this._context);return n.spec={...this.spec,...t},n}}function BOn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function NOn(e,t,n){return e instanceof SD?e.serialize({path:n,index:t}):e}function zOn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a={};i&&i.schemaType&&(a.type=i.schemaType),o.templateId&&(a.template=o.templateId);const c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Kf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||Do).intent({type:"create",params:c}).serialize()})}function VOn(){}const SMe=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&Iz(e,t,{pane:r,index:o})};class EMe{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Zge.includes(o))throw new ln("`layout` must be one of ".concat(Zge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>NOn(s,a,r));return{id:RC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||VOn,canHandleIntent:this.spec.canHandleIntent||SMe,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>mMe(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>yMe(s,a,r))}}}const HOn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new ln("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(On.QUERY_PROVIDED_FOR_FILTER);return r},UOn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||xMe(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Zf(e).id("editor").documentId(t).schemaType(""))};class $C extends EMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new ln("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(On.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new ln("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(On.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),u9(On.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||UOn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||cn.apiVersion,filter:HOn(this.spec,t)}}}clone(t){const n=new $C(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=WOn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=YOn(n.spec)),n}getSpec(){return this.spec}}function WOn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(Pz(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:Do}))}function YOn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=Pz(n,r);return o.length===1?o[0]:void 0}function Pz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=qOn(e,t);return n.length===0&&(n=GOn(e,t)),n}function qOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function GOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const KOn=e=>e instanceof S1?"ListBuilder":e3n(e)?"Promise":Array.isArray(e)?"array":typeof e,ZOn=e=>e.type==="listItem",XOn=(e,t,n)=>(n.pane.items||[]).filter(n3n).some(i=>i.schemaType.name===t.type&&i._id===t.id)||SMe(e,t,n),QOn=(e,t)=>{const o=(t.parent.items.filter(ZOn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function JOn(e,t,n){if(e instanceof E1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||KOn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new ln('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(On.INVALID_LIST_ITEM)}return e}function e3n(e){return bt(e)&&typeof e.then=="function"}class S1 extends EMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new ln("`id` is required for lists",t.path,t.index).withHelpUrl(On.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new ln("`items` must be an array of items",t.path,t.index).withHelpUrl(On.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>JOn(a,c,o)),s=i.filter((a,c)=>xTe(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new ln("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(On.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||XOn,child:this.spec.child||QOn,items:i}}clone(t){const n=new S1(this._context);return n.spec={...this.spec,...t||{}},n}}class E1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new ln("`id` is required for list items",t.path,t.index).withHelpUrl(On.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new ln("`title` is required for list items",t.path,n).withHelpUrl(On.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new ln('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(On.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof aw||o instanceof $C||o instanceof Zf||o instanceof S1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:RC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new E1(this._context);return n.spec={...this.spec,...t||{}},n}}const t3n=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Zf(e).id("documentEditor").documentId(n)};class Oz extends E1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new ln("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(On.SCHEMA_TYPE_REQUIRED);const r=n.child||t3n(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new Oz(this._context);return n.spec={...this.spec,...t||{}},n}}function n3n(e){return bt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class H5 extends $C{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new H5(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new H5(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===_Me?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function r3n(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const o3n=["sanity.imageAsset","sanity.fileAsset"];function i3n(e){return o3n.includes(e)}function s3n(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function a3n(e){return e.type==="list"}function l3n(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&s3n(r)}).filter(n=>!i3n(n))}function kMe(e){return l3n(e).map(n=>jMe(e,n))}function jMe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||hn(t);return new E1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=a3n(a)?a.items.find(d=>d.id===i):null;let u=TMe(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function TMe(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||hn(i),u=r3n(a);return new H5(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(DOn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||Iz).menuItems(s.menuItems||[...vMe(e,a),new Kf(e).group("layout").title("Compact view").icon(t1e).action("setLayout").params({layout:"default"}),new Kf(e).group("layout").title("Detailed view").icon(n1e).action("setLayout").params({layout:"detail"})])}function c3n(e){return!e||typeof e=="string"?!1:!!e.icon}function u3n(e){const t=kMe(e);return new S1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>c3n(n.getSchemaType())))}function d3n(e){let{defaultDocumentNode:t,source:n}=e;const r=Ugn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Zf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId($n(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>u3n(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return TMe(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return jMe(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return kMe(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Zf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return LOn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new S1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new E1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Kf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new sw(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return zOn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new $C(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Oz(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return gMe(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return vMe(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return FOn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return BOn(o,...a)},initialValueTemplateItem:(s,a)=>new SD(o,{id:s,parameters:a,templateId:s}),component:s=>Sr.isValidElementType(s)?new aw().component(s):new aw(s),divider:()=>({id:KEe("__divider__"),type:"divider"}),view:ROn,context:o};return i}function K$n(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Ln(),a=Hgn(s),c=il(),u=h.useMemo(()=>d3n({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(uMe.Provider,{value:p,children:r})}function AMe(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(hD,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(mz,{title:s}),l.jsx(pD,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function f3n(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=ve(null);return an(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(eT(i),GCe(o))}))}var Xge=Object.freeze,h3n=Object.defineProperty,p3n=(e,t)=>Xge(h3n(e,"raw",{value:Xge(t||e.slice())})),Qge;const m3n="Loading…",g3n=O(U)(Qge||(Qge=p3n([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),DMe=h.memo(e=>{const{delay:t=300,flex:n,message:r=f3n,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:m3n);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const b=d.subscribe(p);return()=>b.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,y]=h.useState(!1);h.useEffect(()=>{if(m)return MQe(()=>y(!0))},[m]);const x=l.jsxs(g3n,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(hr,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(hD,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(pD,{children:x})})});DMe.displayName="LoadingPane";function v3n(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function y3n(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const b3n=["patch","commit"],x3n=h.memo(function(){const{push:t}=qo(),{documentId:n,documentType:r}=Br(),o=O3e(n,r),i=h.useRef(o),s=Xc();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:v3n(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!b3n.includes(o.op)&&t({closable:!0,status:"success",title:y3n(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function w3n(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(iF).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function C3n(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:_0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function _3n(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:N0e,shortcut:"Ctrl+Alt+O"}:null}function S3n(e){const t=w3n(e),n=[_3n(e)].filter(Boolean);return[...t,C3n(e),...n]}const E3n=e=>bt(e)&&typeof e._id=="string"&&typeof e._type=="string";function k3n(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Ln().document,s=srt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(s8(500),rt(a=>E3n(a)?Er(i({document:a})):ve(void 0)),Rn(a=>{const c=bt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function j3n(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const T3n=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=ti(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function A3n(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(T3n,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const IMe=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o,onFocusPath:i}=e,s=jn(),a=p1(),{actions:c,badges:u,unstable_fieldActions:d,unstable_languageFilter:f,inspectors:p}=Ln().document,m=sz(),v=Xc(),g=v.setParams,{features:y}=_1(),{push:x}=qo(),{options:b,menuItemGroups:w=ckn,title:C=null,views:_=[]}=r,S=ti(b),E=S.id,j=$n(E),k=b.type,T=ti(v.params)||lkn,A=ti(v.payload),{templateName:D,templateParams:I}=h.useMemo(()=>j3n(a,{documentType:k,templateName:S.template,templateParams:S.templateParameters,panePayload:A,urlTemplate:T.template}),[k,S,T,A,a]),P=Jxn({documentId:j,documentType:k,templateName:D,templateParams:I}),$=ti(P),{patch:R}=Zl(j,k),z=KN(j,k),{validation:B}=ZN(j,k),H=nxn(j,k),W=s.get(k),V=(z==null?void 0:z.draft)||(z==null?void 0:z.published)||$.value,[G,te]=h.useState(!1),[N,Y]=h.useState([]),q=h.useMemo(()=>c({schemaType:k,documentId:j}),[c,j,k]),Z=h.useMemo(()=>u({schemaType:k,documentId:j}),[u,j,k]),se=h.useMemo(()=>f({schemaType:k,documentId:j}),[j,k,f]),re=ti(B),K=ti(_),[Q,le]=h.useState(()=>T.path?Il(T.path):fn),me=h.useRef(Q),ae=T.view||K[0]&&K[0].id||null,[Ce,_e]=h.useState("closed"),[he,be]=h.useState(null),Le=qwn({documentId:j,documentType:k,onError:be,rev:T.rev,since:T.since}),Re=uo(Le,He=>He.onOlderRevision),lt=uo(Le,He=>He.revTime),ot=uo(Le,He=>He.sinceAttributes),Bt=uo(Le,He=>He.timelineDisplayed),Rt=uo(Le,He=>He.timelineReady),Ae=uo(Le,He=>He.isPristine),Ge=h.useMemo(()=>Rt?!(z!=null&&z.draft)&&!(z!=null&&z.published)&&!Ae:!1,[z==null?void 0:z.draft,z==null?void 0:z.published,Ae,Rt]),Ye=k3n(V),[tt,xt]=h.useState([]);h.useEffect(()=>{const He=m.documentPresence(j).subscribe(Vn=>{xt(Vn)});return()=>{He.unsubscribe()}},[j,m]);const Ee=h.useMemo(()=>p({documentId:j,documentType:k}),[j,k,p]),[Be,ct]=h.useState(()=>T.inspect||null),pi=h.useRef(T.inspect);h.useEffect(()=>{pi.current!==T.inspect&&(pi.current=T.inspect,ct(T.inspect||null))},[T.inspect]);const on=Ee==null?void 0:Ee.find(He=>He.name===Be),Ko=Ee.find(He=>He.name===sF),qt=(on==null?void 0:on.name)===sF,no=!!V,al=h.useMemo(()=>S3n({currentInspector:on,features:y,hasValue:no,inspectorMenuItems:N,inspectors:Ee,previewUrl:Ye}),[on,y,no,N,Ee,Ye]),ll=T.inspect==="on",$s=qt?ot:(z==null?void 0:z.published)||null,Bn=h.useMemo(()=>W?d({documentId:j,documentType:k,schemaType:W}):[],[j,k,d,W]),zn=H==="connected"&&z.ready&&(Rt||!!he),Gr=h.useMemo(()=>Re?Bt||{_id:V._id,_type:V._type}:V,[Re,Bt,V]),We=h.useCallback((He,Vn)=>{g({...T,since:He,rev:Vn||void 0})},[T,g]),wt=h.useCallback(He=>{le(He),me.current!==He&&(me.current=He,i==null||i(He)),m.setLocation([{type:"document",documentId:j,path:He,lastActiveAt:new Date().toISOString()}])},[j,i,m,le]),er=h.useCallback(He=>{AD.current||(le(fn),me.current!==fn&&(me.current=fn,i==null||i(fn)))},[i,le]),Nn=h.useRef(()=>{throw new Error("Nope")});Nn.current=He=>{R.execute(GCn(He.patches),$.value)};const ga=h.useCallback(He=>Nn.current(He),[]),jr=h.useCallback(He=>{var Vn,Tn,Kr,Jc;const eu=He&&Ee.find(mi=>mi.name===He);if(He&&!eu){console.warn('No inspector named "'.concat(He,'"'));return}if(on){if(eu){const mi=(Tn=(Vn=eu.onClose)==null?void 0:Vn.call(eu,{params:T}))!=null?Tn:{params:T};ct(null),pi.current=void 0,g({...mi.params,inspect:void 0});return}if(on){const mi=(Jc=(Kr=on.onClose)==null?void 0:Kr.call(on,{params:T}))!=null?Jc:{params:T};ct(null),pi.current=void 0,g({...mi.params,inspect:void 0})}}},[on,Ee,T,g]),Oo=h.useCallback((He,Vn)=>{var Tn,Kr,Jc,eu;const mi=Ee.find(Yz=>Yz.name===He);if(!mi){console.warn('No inspector named "'.concat(He,'"'));return}if((on==null?void 0:on.name)===mi.name){g({...T,...Vn,inspect:mi.name});return}let T1=T;on&&(T1=((Kr=(Tn=mi.onClose)==null?void 0:Tn.call(mi,{params:T1}))!=null?Kr:{params:T1}).params);const o4e=(eu=(Jc=mi.onOpen)==null?void 0:Jc.call(mi,{params:T1}))!=null?eu:{params:T1};ct(mi.name),pi.current=mi.name,g({...o4e.params,...Vn,inspect:mi.name})},[on,Ee,T,g]),Ms=h.useCallback(()=>{Ko&&jr(Ko.name)},[jr,Ko]),va=h.useCallback(()=>{y.reviewChanges&&Ko&&Oo(Ko.name)},[y.reviewChanges,Oo,Ko]),Km=h.useCallback(()=>v.closeCurrent(),[v]),MC=h.useCallback(()=>v.duplicateCurrent(),[v]),Xl=h.useCallback(function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!ll;g(He?{...T,inspect:"on"}:$i(T,"inspect"))},[ll,T,g]),Qc=h.useCallback(He=>{if(He.action==="production-preview"&&Ye)return window.open(Ye),!0;if(He.action==="inspect")return Xl(!0),!0;if(He.action==="reviewChanges")return va(),!0;if(typeof He.action=="string"&&He.action.startsWith(iF)){const Vn=He.action.slice(iF.length),Tn=Ee.find(Kr=>Kr.name===Vn);if(Tn)return Tn.name===Be?jr(Tn.name):Oo(Tn.name),!0}return!1},[jr,va,Be,Ee,Oo,Ye,Xl]),k1=h.useCallback(He=>{for(const Vn of al)if(Vn.shortcut&&Ci(Vn.shortcut,He)){He.preventDefault(),He.stopPropagation(),Qc(Vn);return}},[Qc,al]),UMe=h.useCallback(()=>Xl(!1),[Xl]),[WMe,YMe]=h.useState([]),[qMe,Fz]=h.useState(),[Lz,Bz]=h.useState(),[Nz,zz]=h.useState(),GMe=h.useCallback((He,Vn)=>{Bz(Tn=>Qh(Tn,He,Vn))},[]),KMe=h.useCallback((He,Vn)=>{zz(Tn=>Qh(Tn,He,Vn))},[]),ZMe=h.useCallback((He,Vn)=>Fz(Tn=>Qh(Tn,He,Vn)),[]),XMe=V._createdAt?"update":"create",Vz=!!(W!=null&&W.liveEdit),ED=V._id?V._id:"dummy-id",QMe=h.useMemo(()=>({...V,_id:Vz?$n(ED):fi(ED)}),[Vz,V,ED]),[j1,kD]=iwn({document:QMe,permission:XMe}),Hz=!(V!=null&&V._id),JMe=h.useMemo(()=>{var He;const Vn=!kD&&!(j1!=null&&j1.granted),Tn=!pZ(W,"update"),Kr=Hz&&!pZ(W,"create"),Jc=H==="reconnecting",eu=(He=z.transactionSyncLock)==null?void 0:He.enabled;return!zn||lt!==null||Vn||Tn||Kr||Jc||eu||G||Ge},[H,z.transactionSyncLock,Hz,Ge,G,kD,j1==null?void 0:j1.granted,zn,lt,W]),jD=qCn(W,{value:Gr,readOnly:JMe,comparisonValue:$s,focusPath:Q,openPath:WMe,collapsedPaths:Lz,presence:tt,validation:re,collapsedFieldSets:Nz,fieldGroupState:qMe,changesOpen:qt}),FC=h.useRef(jD);FC.current=jD;const TD=h.useCallback(He=>{OCn(FC.current,He).forEach(Tn=>{Tn.type==="expandPath"&&Bz(Kr=>Qh(Kr,Tn.path,!1)),Tn.type==="expandFieldSet"&&zz(Kr=>Qh(Kr,Tn.path,!1)),Tn.type==="setSelectedGroup"&&Fz(Kr=>Qh(Kr,Tn.path,Tn.groupName))}),YMe(He)},[FC]),e4e={actions:q,activeViewId:ae,badges:Z,changesOpen:qt,closeInspector:jr,collapsedFieldSets:Nz,collapsedPaths:Lz,compareValue:$s,connectionState:H,displayed:Gr,documentId:j,documentIdRaw:E,documentType:k,editState:z,fieldActions:Bn,focusPath:Q,inspector:on||null,inspectors:Ee,menuItems:al,onBlur:er,onChange:ga,onFocus:wt,onPathOpen:TD,onHistoryClose:Ms,onHistoryOpen:va,onInspectClose:UMe,onKeyUp:k1,onMenuAction:Qc,onPaneClose:Km,onPaneSplit:MC,onSetActiveFieldGroup:ZMe,onSetCollapsedPath:GMe,onSetCollapsedFieldSet:KMe,openInspector:Oo,index:n,inspectOpen:ll,validation:re,menuItemGroups:w||[],paneKey:o,previewUrl:Ye,ready:zn,schemaType:W,isPermissionsLoading:kD,permissions:j1,setTimelineMode:_e,setTimelineRange:We,setIsDeleting:te,isDeleting:G,isDeleted:Ge,timelineError:he,timelineMode:Ce,timelineStore:Le,title:C,value:V,views:K,formState:jD,unstable_languageFilter:se};h.useEffect(()=>{H==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting…"})})},[H,x]);const AD=h.useRef(!1);h.useEffect(()=>{var He;if(zn&&T.path){const{path:Vn,...Tn}=T,Kr=N4e((He=FC.current)==null?void 0:He.value,Il(Vn));AD.current=!0,le(Kr),TD(Kr),me.current!==Kr&&(me.current=Kr,i==null||i(Kr));const Jc=setTimeout(()=>{AD.current=!1},0);return v.setParams(Tn),()=>clearTimeout(Jc)}},[T,j,i,TD,zn,v]);const[t4e,n4e]=h.useState([]),Uz=xD(),Wz=h.useCallback(()=>{(on==null?void 0:on.name)!==Rb&&Oo(Rb)},[on==null?void 0:on.name,Oo]),r4e=h.useMemo(()=>Uz?l.jsx(GIn,{documentId:j,documentType:k,isCommentsOpen:(on==null?void 0:on.name)===Rb,onCommentsOpen:Wz,children:l.jsx(ZIn,{children:t})}):t,[t,Uz,on==null?void 0:on.name,j,k,Wz]);return l.jsxs(NRe.Provider,{value:e4e,children:[Ee.length>0&&l.jsx(A3n,{documentId:j,documentType:k,inspectors:Ee,onMenuItems:Y}),Bn.length>0&&W&&l.jsx(mC,{actions:Bn,documentId:j,documentType:k,onActions:n4e,path:fn,schemaType:W}),l.jsx(gC,{actions:t4e,path:fn,children:r4e})]})});IMe.displayName="DocumentPaneProvider";function xF(e,t,n){const r=bCn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const jg={id:"parsed",title:"Parsed"},Tg={id:"raw",title:"Raw JSON"},D3n=[jg,Tg],U5=ySn(1e3);function PMe(e,t){const n=U5.get(e);return n===void 0?(U5.set(e,Array.isArray(t)||bt(t)),PMe(e,t)):n}function I3n(e){const{path:t}=e,n=U5.get(t);n!==void 0&&U5.set(t,!n)}function OMe(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Jge(e){OMe(e.currentTarget)}function P3n(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),OMe(e.currentTarget))}function O3n(e){return bt(e)&&kv(e._id)&&kv(e._type)}var eve=Object.freeze,R3n=Object.defineProperty,$3n=(e,t)=>eve(R3n(e,"raw",{value:eve(t||e.slice())})),tve;const M3n=O.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return de(tve||(tve=$3n([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ge(o[4]),ge(o[3]),ge(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ge(o[4]/2),n.syntax.property,n.syntax.constant,ge(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function F3n(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Fr,{icon:ii,onChange:r,placeholder:"Search",radius:2,value:n||""})}function L3n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Br(),o="".concat(r,"_inspect_"),[i,s]=xF("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=D3n.find(d=>d.id===i),c=h.useCallback(()=>{s(jg.id)},[s]),u=h.useCallback(()=>{s(Tg.id)},[s]);return l.jsx(Fi,{id:"".concat(o,"dialog"),header:O3n(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(ERe,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(X,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(Zj,{space:1,children:[l.jsx(cx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(jg.id),label:jg.title,onClick:c,selected:a===jg}),l.jsx(cx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Tg.id),label:Tg.title,onClick:u,selected:a===Tg})]})}),l.jsxs(dCe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===jg&&l.jsx(M3n,{children:l.jsx(gSn,{data:t,isExpanded:PMe,onClick:I3n,search:F3n})}),a===Tg&&l.jsx(lr,{language:"json",tabIndex:0,onKeyDown:P3n,onDoubleClick:Jge,onFocus:Jge,children:JSON.stringify(t,null,2)})]})]})})}var nve=Object.freeze,B3n=Object.defineProperty,N3n=(e,t)=>nve(B3n(e,"raw",{value:nve(t||e.slice())})),rve;const z3n=O(X)(rve||(rve=N3n([`
  position: relative;
  z-index: 50;
`])));function V3n(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=Br(),{restore:o}=Zl(n,r),{navigateIntent:i}=Ul(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(z3n,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(eo,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(hw,{})}),l.jsxs(U,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(L,{size:1,children:"This document has been deleted."}),t&&l.jsx(oe,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var ove=Object.freeze,H3n=Object.defineProperty,RMe=(e,t)=>ove(H3n(e,"raw",{value:ove(t||e.slice())})),ive,sve;const U3n=O(X)(ive||(ive=RMe([`
  position: relative;
  z-index: 50;
`]))),ave=O(L)(sve||(sve=RMe([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),$Me=h.memo(()=>{var e,t,n,r,o,i;const s=zi(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=Xc(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,y=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&Il(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),b=bo(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return ve({loading:!1});const S=$n(g),E=Il(_),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return Wr(ve({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(s8(750),ce(k=>{let{draft:T,published:A}=k;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=pm(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;b.loading||(_=b.result)!=null&&_.refValue&&d({id:b.result.refValue,params:a})},[b.loading,b.result,d,a]);return!g||!x||y||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((r=b.result)!=null&&r.availability.published.available)||((o=b.result)==null?void 0:o.refValue)===p?null:l.jsx(U3n,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(eo,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(Lr,{})}),(i=b.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(ave,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(oe,{onClick:w,icon:E0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(ave,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(oe,{as:f,icon:Ii,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});$Me.displayName="ReferenceChangedBanner";var lve=Object.freeze,W3n=Object.defineProperty,Y3n=(e,t)=>lve(W3n(e,"raw",{value:lve(t||e.slice())})),cve;const q3n=O(X)(cve||(cve=Y3n([`
  position: relative;
  z-index: 50;
`])));function G3n(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Go(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=K3n(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(q3n,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(eo,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(L,{size:1,children:l.jsx(hw,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function K3n(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function Z3n(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const X3n=1e3*60*60*24*24;function Q3n(e){const t=qo(),n=Z3n(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:X3n}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const J3n=e=>e.preventDefault(),eRn=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:y,onFocus:x,onBlur:b,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=Br(),E=il(),j=kC(d),k=h.useMemo(()=>bXt(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;Q3n({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=E.pair.documentEvents(d,f).pipe(Cn(R=>{R.type==="mutation"&&k.publish(tRn(R)),R.type==="rebase"&&k.publish(nRn(R))})).subscribe();return()=>{$.unsubscribe()}},[d,E,f,k]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{g&&!(y!=null&&y.focusPath.length)&&D&&Gp(D)},[g]);const P=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(eo,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(yC,{margins:i,children:l.jsx(M,{as:"form",onSubmit:J3n,ref:P,children:g?y===null?l.jsx(M,{padding:2,children:l.jsx(L,{children:"This form is hidden"})}):l.jsx(mtn,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:y.focusPath,changed:y.changed,focused:y.focused,groups:y.groups,id:"root",members:y.members,onChange:m,onFieldGroupSelect:S,onPathBlur:b,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:y.readOnly,schemaType:y.schemaType,validation:v,value:y.value}):l.jsx(hz,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(hr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function tRn(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:K4(e.origin,t)}}function nRn(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:K4("remote",t).concat(K4("local",n))}}function rRn(){const{activeViewId:e,paneKey:t,views:n}=Br(),r="".concat(t,"tabpanel");return l.jsx(Zj,{space:1,children:n.map((o,i)=>{var s;return l.jsx(oRn,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function oRn(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=Br(),{setView:s}=Xc(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(cx,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function iRn(){const{connectionState:e,schemaType:t,title:n,value:r}=Br(),o=!!r&&e==="connected",{error:i,value:s}=DB({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const sRn=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=Br(),{features:m}=_1(),{index:v,BackLink:g,hasGroupSiblings:y}=Xc(),{actions:x}=nN(),b=h.useMemo(()=>LRe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>b.filter(gz),[b]),C=h.useMemo(()=>b.filter(FRe),[b]),_=f.length>1,S=uo(u,I=>I.revTime),{collapsed:E,isLast:j}=wh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&y,D=!A&&!m.backButton;return l.jsx(mz,{ref:n,loading:!d,title:l.jsx(iRn,{}),tabs:_&&l.jsx(rRn,{}),tabIndex:k,backButton:m.backButton&&v>0&&l.jsx(oe,{as:g,"data-as":"a",icon:fw,mode:"bleed",padding:2}),subActions:l.jsx(fMe,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(U,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,P)=>h.createElement(I,{key:"language-filter-".concat(P),schemaType:c}))}),w.map(I=>l.jsx(MRe,{node:I},I.key)),l.jsx(PRe,{nodes:C},"context-menu"),T&&l.jsx(it,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(oe,{"aria-label":"Split pane right",icon:e1e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(oe,{icon:Ii,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(oe,{icon:Ii,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var uve=Object.freeze,aRn=Object.defineProperty,lRn=(e,t)=>uve(aRn(e,"raw",{value:uve(t||e.slice())})),dve;const cRn=O(M)({position:"relative"}),uRn=O(wA)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:de(dve||(dve=lRn([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),dRn=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:y,isDeleting:x,isDeleted:b,timelineStore:w,formState:C}=Br(),{collapsed:_}=g1(),{collapsed:S}=wh(),E=Em(),{features:j}=_1(),[k,T]=h.useState(null),A=oh(k),D=h.useRef(null),[I,P]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",z=h.useMemo(()=>{if(C)return C.groups.find(q=>q.selected)},[C]),B=h.useMemo(()=>p.find(q=>q.id===s)||p[0]||{type:"form"},[s,p]),H=j.splitPanes&&D.current||E.element,W=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),V=B.type!=="form",G=h.useMemo(()=>B.type==="component"&&B.component&&h.createElement(B.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:B.options,schemaType:v}),[B,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),te=uo(w,q=>q.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{H&&i(H)},[H,i]);const N=h.useMemo(()=>r?l.jsx(L3n,{value:a||f}):null,[r,a,f]),Y=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(sRn,{ref:T}),l.jsx(pD,{children:l.jsxs(U,{height:"fill",children:[(j.resizablePanes||!Y)&&l.jsx(cRn,{flex:2,overflow:"hidden",children:l.jsx(jm,{element:H,__unstable_elements:{documentScrollElement:I},children:l.jsx(Uu,{element:I,children:l.jsxs(Yx,{scrollElement:I,containerElement:$,children:[B.type==="form"&&!y&&m&&l.jsxs(l.Fragment,{children:[l.jsx(G3n,{granted:!!(g!=null&&g.granted),requiredPermission:R}),!x&&b&&l.jsx(V3n,{revisionId:te}),l.jsx($Me,{})]}),l.jsxs(uRn,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:P,children:[l.jsx(eRn,{hidden:V,margins:W,ref:$},c+(m?"_ready":"_pending")),G]},"".concat(z==null?void 0:z.name,"-").concat(c,"}")),N,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),Y&&l.jsx(Uu,{element:o,children:l.jsx(oOn,{documentId:c,documentType:v.name,flex:1})})]})})]})},MMe=["left","bottom"],fRn={small:0,medium:1,large:2,full:"auto"};function hRn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(tn,{content:l.jsx(pRn,{dialog:t}),fallbackPlacements:MMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function pRn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=pa(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return dr(m,[f]),Ps(v),l.jsxs(U,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(L,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(en,{columns:2,gap:2,children:[l.jsx(oe,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(oe,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function mRn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(td,{zOffset:"fullscreen",children:l.jsx(Fi,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:fRn[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function gRn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(tn,{content:l.jsx(vRn,{dialog:t}),fallbackPlacements:MMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function vRn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=pa(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return dr(a,[i]),Ps(c),l.jsx("div",{ref:s,children:n})}function fve(e){const{children:t}=e,{element:n,elements:r}=Em(),o=(r==null?void 0:r[qRe])||n;return l.jsx(jm,{element:o,children:t})}function Rz(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(hRn,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(gRn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(fve,{children:l.jsx(mRn,{dialog:t})});if(t.type==="custom")return l.jsx(fve,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Fi,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function yRn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(nn,{id:"".concat(r,"-action-menu"),button:l.jsx(oe,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:el,mode:"ghost",ref:o}),menu:l.jsx(Nt,{padding:1,children:t.map((p,m)=>l.jsx(bRn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(td,{zOffset:"paneFooter",children:l.jsx(Rz,{dialog:f.dialog,referenceElement:a})})]})}function bRn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t.title})});return l.jsx(Ne,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(it,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(U,{align:"center",paddingX:3,children:[l.jsxs(U,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,Sr.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(L,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(vB,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function FMe(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(U,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(L,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(vB,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(U,{children:[o&&l.jsx(Wu,{zOffset:200,children:l.jsx(it,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(ee,{flex:1,children:l.jsx(oe,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(yRn,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(Rz,{dialog:o.dialog,referenceElement:s})]})}const xRn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=Br();return!t||!o?null:l.jsx(pz,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(FMe,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),wRn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=Br(),o=uo(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[vz],[]);return l.jsx(pz,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(FMe,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),CRn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function _Rn(e){let{states:t}=e;return l.jsx(Kt,{space:1,children:t.map((n,r)=>l.jsx(it,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(M6,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?CRn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function SRn(){const{badges:e,editState:t}=Br();return!t||!e?null:l.jsx(bSn,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(_Rn,{states:r})}})}var hve=Object.freeze,ERn=Object.defineProperty,kRn=(e,t)=>hve(ERn(e,"raw",{value:hve(t||e.slice())})),pve;const jRn=O(U)(pve||(pve=kRn([`
  cursor: default;
`])));function TRn(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=ni(r||"",{minimal:!0,agoSuffix:!0}),a=ni(r||"",{minimal:!0}),c=ni(o||"",{minimal:!0,agoSuffix:!0}),u=ni(o||"",{minimal:!0}),d=ni(o||"",{minimal:!1,agoSuffix:!0}),f=ni(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(jRn,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(it,{placement:"top",portal:!0,content:l.jsx(ee,{padding:3,space:3,children:l.jsx(L,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(oe,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(L,{size:2,"aria-hidden":"true",children:i?l.jsx(X0e,{}):l.jsx(S0,{})})}),!t&&l.jsx(L,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var mve=Object.freeze,ARn=Object.defineProperty,$z=(e,t)=>mve(ARn(e,"raw",{value:mve(t||e.slice())})),gve,vve,yve;const DRn=O(ud.path)(gve||(gve=$z([`
  transform-origin: center;
`]))),IRn=e=>l.jsx(ud.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),PRn=e=>l.jsx(DRn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),ORn=e=>l.jsx(ud.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),RRn=e=>l.jsx(ud.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),$Rn=gm(vve||(vve=$z([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),MRn=O.g(yve||(yve=$z([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),$Rn),FRn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},LRn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},BRn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},NRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},zRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function VRn(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(ud.g,{variants:FRn,initial:t,animate:t,children:[l.jsxs(MRn,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(PRn,{variants:BRn,initial:t,animate:t}),l.jsx(IRn,{variants:LRn,initial:t,animate:t})]}),l.jsx(ORn,{variants:NRn,initial:t,animate:t}),l.jsx(RRn,{variants:zRn,initial:t,animate:t})]})}):null}const HRn=ne.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=ni(i||"",{minimal:!0}),c=ni(i||"",{minimal:!0,agoSuffix:!0}),u=ni(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(it,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(ee,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(L,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(oe,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(L,{children:l.jsx(VRn,{status:o})})}),!r&&l.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),URn=ne.memo(HRn),WRn=1e3,YRn=3e3,qRn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=Br(),d=$3e(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[y,x]=h.useState(null),b=oh(y),w=!b||(b==null?void 0:b.width)<300,[C,_]=h.useState(null),S=uo(c,k=>k.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const k=setTimeout(()=>_("saved"),WRn);return()=>clearTimeout(k)}if(C==="saved"){const k=setTimeout(()=>_(null),YRn);return()=>clearTimeout(k)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>l.jsx(URn,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&l.jsx(M,{marginRight:1,children:l.jsx(TRn,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(U,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(U,{align:"center",flex:1,children:[E,!w&&l.jsx(M,{marginLeft:3,children:l.jsx(SRn,{})})]})]})});var bve=Object.freeze,GRn=Object.defineProperty,KRn=(e,t)=>bve(GRn(e,"raw",{value:bve(t||e.slice())})),xve;const ZRn=O(M)(xve||(xve=KRn([`
  min-width: 10em;
  max-width: 16em;
`])));function XRn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=Br(),o=uo(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(qRn,{})}),l.jsx(ZRn,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(wRn,{}):l.jsx(xRn,{})})]})}),[t,n,o])}function QRn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(y=>y.shortcut&&Ci(y.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(td,{zOffset:"paneFooter",children:l.jsx(Rz,{dialog:f.dialog,referenceElement:t})})])}const LMe=ne.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=Br(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(pz,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(QRn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});LMe.displayName="DocumentActionShortcuts";var wve=Object.freeze,JRn=Object.defineProperty,e$n=(e,t)=>wve(JRn(e,"raw",{value:wve(t||e.slice())})),Cve;const _ve=["fixed","fixed","absolute"],t$n=O(yYt)(Cve||(Cve=e$n([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),Z$n=h.memo(function(t){const{name:n}=Ln();return l.jsx($N,{name:t.pane.source||n,children:l.jsx(n$n,{...t})})});function n$n(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Ln().document,i=Xc(),s=r$n(n.options,i.params),{documentType:a,isLoaded:c}=Xxn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=rz({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?o$n(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:y,routerPanesState:x}=i,b=((t=x[y+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=b,_=h.useMemo(()=>C?{path:Il(C),state:y>=w-1?"none":y>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,y,w]);return s.type==="*"&&!p?l.jsx(DMe,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?l.jsx(TIn,{documentId:s.id,documentType:s.type,children:l.jsx(IMe,{...m,children:l.jsx(gtn,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:l.jsx(i$n,{})})},"".concat(a,"-").concat(s.id))}):l.jsx(AMe,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(ee,{space:4,children:l.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function r$n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=p1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function o$n(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function i$n(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=Br(),{collapsed:f}=g1(),p=nDe(),[m,v]=h.useState(null),[g,y]=h.useState(null),[x,b]=h.useState(null),[w,C]=h.useState(null),_=oh(g),S=_==null?void 0:_.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=skn+(n?oF:0),k=ikn+(n?oF:0);return u?l.jsxs(LMe,{actionsBoxElement:x,as:hD,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:k,onKeyUp:a,rootRef:v,children:[l.jsx(y$,{position:_ve,zOffset:p.portal,children:l.jsx(U,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(t$n,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:l.jsx(dRn,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(jm,{__unstable_elements:{[qRe]:w},children:l.jsx(y$,{position:_ve,zOffset:p.portal,children:l.jsx(sEn,{ref:y,children:l.jsx(XRn,{actionsBoxRef:b})})})}),l.jsx(x3n,{})]}):l.jsx(AMe,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(ee,{space:4,children:[t&&l.jsxs(L,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Gc]})})}const Sve=100,wF=2e3,BMe={by:[{field:"_updatedAt",direction:"desc"}]},s$n={};function a$n(e){return xA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const l$n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function NMe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(l$n);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function c$n(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function u$n(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=d$n(t,r.field);return o?h$n(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function d$n(e,t){const n=Il(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=f$n(r,o);continue}if(!($r(o)||El(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Ru(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function f$n(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function h$n(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var Eve=Object.freeze,p$n=Object.defineProperty,zMe=(e,t)=>Eve(p$n(e,"raw",{value:Eve(t||e.slice())})),kve,jve;const m$n=O(M)(kve||(kve=zMe([`
  position: relative;
`]))),g$n=O(M)(jve||(jve=zMe([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),v$n=[...Array(30).keys()];function y$n(e){const{layout:t}=e;return l.jsx(ee,{padding:2,space:1,children:v$n.map(n=>l.jsx(X,{padding:2,children:l.jsx(vh,{isPlaceholder:!0,layout:t})},n))})}function b$n(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:y}=e,x=jn(),{collapsed:b}=g1(),{collapsed:w,index:C}=wh(),[_,S]=h.useState(!1),E=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const P=$n(A._id),$=t===P,R=!s&&$,z=s&&$,B=I===u.length-1,H=B&&a,W=B&&o;return l.jsxs(l.Fragment,{children:[l.jsx(PEn,{icon:y===!1?!1:void 0,id:P,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:z,value:A}),H&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(hr,{muted:!0})}),W&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",wF," documents"]})})]})},[t,s,u.length,d,x,y,o,a]),k=h.useMemo(()=>i?l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(eo,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(eo,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(eo,{width:1,children:l.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[l.jsx(Yo,{as:"h3",children:"Could not fetch list items"}),l.jsxs(L,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(oe,{icon:E0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return k;if(f==="initial"&&c)return l.jsx(hz,{ms:300,children:l.jsx(y$n,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(m$n,{overflow:"hidden",height:"fill",children:l.jsx(g$n,{children:l.jsx(mh,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,C,c,u,d,f,m,j,g,_]);return l.jsx(pD,{overflow:b||f==="initial"?"hidden":"auto",children:T})}const VMe=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=_1(),{collapsed:d,isLast:f}=wh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(mz,{actions:l.jsx(AEn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(oe,{as:ASn,"data-as":"a",icon:fw,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});VMe.displayName="DocumentListPaneHeader";function x$n(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=mo(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(dt((v,g)=>g===0&&v.type!=="welcome"?Yu(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):ve(v)),aa()),[p,m]=o8(f,v=>v.type==="welcome");return an(p.pipe(Ti(1)),m.pipe(fx(1e3,Rl,{leading:!0,trailing:!0}))).pipe(N7(v=>(c?ve(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(dt(y=>{const x=y.flatMap(E=>n.get(E)||[]),b={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=SDe(b,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?Wo(1200).pipe(dt(S)):S()}))))}const w$n=[],Tve={error:null,onRetry:void 0,result:null},C$n={result:null,error:null};function _$n(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=mr({...cn,apiVersion:i||cn.apiVersion}),a=jn(),[c,u]=h.useState(Tve),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?a$n(m):w$n,[m]),[g,y]=h.useState(!1),[x,b]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>NMe(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===wF,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),k=h.useCallback(D=>{var I,P;if(D.error){u(D);return}const $=((P=(I=D.result)==null?void 0:I.documents)==null?void 0:P.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){y(!0);return}if($<Sve&&$!==0&&!w&&b(!0),(D==null?void 0:D.result)===null){u(z=>({...z.error?D:z}));return}y(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new _r,I=()=>D.next();return x$n({client:s,filter:t,limit:w?wF:Sve,params:n,schema:a,searchQuery:o||"",sort:r||BMe,staticTypeNames:_?[_]:void 0}).pipe(ce(R=>({result:{documents:R},error:null})),ci(C$n),Rn(R=>R instanceof ProgressEvent?Yu(()=>new Error("Request error")):Yu(()=>R)),Rn((R,z)=>Wr(ve({result:null,error:R}),an(Ri(window,"online"),D).pipe(Ti(1),dt(()=>z)))),sa((R,z)=>({...R,...z,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(k);return()=>{D.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{b(!1),y(!1),u(Tve),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var Ave=Object.freeze,S$n=Object.defineProperty,Mz=(e,t)=>Ave(S$n(e,"raw",{value:Ave(t||e.slice())})),Dve,Ive,Pve;const CF=[],E$n=gm(Dve||(Dve=Mz([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),k$n=O(pw)(Ive||(Ive=Mz([`
  animation: `,` 500ms linear infinite;
`])),E$n),j$n=O(X)(Pve||(Pve=Mz([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function T$n(e){const t=h.useRef(e);return qu(t.current,e)||(t.current=e),t.current}const A$n=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Ut(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||CF)}:{...o,selected:!1}})},X$n=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=jn(),{name:u}=Ln(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=CF,menuItemGroups:m,menuItems:v,options:g,title:y}=s,{apiVersion:x,defaultOrdering:b=CF,filter:w}=g,C=T$n(g.params||s$n),_=s.source,S=h.useMemo(()=>NMe(w,C),[w,C]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=xF(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[P,$]=h.useState(null),R=h.useRef(!1),z=h.useMemo(()=>(b==null?void 0:b.length)>0?{by:b}:BMe,[b]),[B,H]=xF(S,"sortOrder",z),W=S&&B?u$n(B,c.get(S)):B,V=ti(W),G=c$n(w),{error:te,hasMaxItems:N,isLazyLoading:Y,isLoading:q,isSearchReady:Z,items:se,onListChange:re,onRetry:K}=_$n({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:V}),Q=h.useMemo(()=>A$n({menuItems:v,sortOrderRaw:B,layout:j}),[j,v,B]),le=tT(he=>he.pipe(ce(be=>be.target.value),Cn(I),i8(be=>be===""?ve(""):Wo(300)),Cn(A)),[]),me=h.useCallback(()=>{A(""),I("")},[]),ae=h.useCallback(he=>{he.key==="Escape"&&me()},[me]);h.useEffect(()=>(R.current===!1&&!q&&(R.current=!0),()=>{R.current=!1}),[q]),h.useEffect(()=>{me(),R.current=!1},[a,me]);const Ce=h.useMemo(()=>q&&se.length===0&&R.current?"spinner":"initial",[q,se.length]),_e=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(j$n,{radius:4,tone:"transparent",children:l.jsx(Fr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!Z,fontSize:[2,2,1],icon:Ce==="spinner"?k$n:ii,onChange:le,onClear:me,onKeyDown:ae,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx($N,{name:_||u,children:l.jsxs(hD,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[NEn,l.jsx(VMe,{contentAfter:_e,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:Q,setLayout:k,setSortOrder:H,title:y}),l.jsx(b$n,{childItemId:n,error:te,filterIsSimpleTypeConstraint:G,hasMaxItems:N,hasSearchQuery:!!T,isActive:o,isLazyLoading:Y,isLoading:q,items:se,layout:j,loadingVariant:Ce,onListChange:re,onRetry:K,paneTitle:y,searchInputElement:P,showIcons:E},a)]})})}),D$n=HMe("production","Missing environment variable: NEXT_PUBLIC_SANITY_DATASET"),I$n=HMe("bv3wnsyk","Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID");function HMe(e,t){if(e===void 0)throw new Error(t);return e}const P$n={name:"form",title:"Form Data",type:"document",fields:[{name:"cid",title:"CID",type:"string",description:"CID field as a string"},{name:"useCase",title:"Use Case",type:"string"},{name:"naam",title:"Naam",type:"string"},{name:"gender",title:"Gender",type:"string"},{name:"email",title:"Email",type:"string"},{name:"mobiel",title:"Mobiel",type:"string"},{name:"postcode",title:"Postcode",type:"string"},{name:"hlasnummer",title:"Hlasnummer",type:"string"},{name:"buildingType",title:"Building Type",type:"string"},{name:"gewenste",title:"Gewenste",type:"string"},{name:"oppervlakte",title:"Oppervlakte",type:"string"},{name:"type",title:"Type",type:"string"},{name:"toepassing",title:"Toepassing",type:"string"},{name:"vloerverwarming",title:"Vloerverwarming",type:"string"},{name:"story",title:"Story",type:"string"}]},O$n={name:"default",title:"Builder Form",projectId:I$n,dataset:D$n,plugins:[SOn()],schema:{types:[P$n]}};txn(document.getElementById("sanity"),O$n,{reactStrictMode:!1,basePath:"/"});export{Yo as $,fw as A,oe as B,mh as C,Z$n as D,Qj as E,N$n as F,jm as G,q$n as H,Gl as I,G$n as J,P0 as K,DMe as L,$N as M,K$n as N,zr as O,hD as P,DSn as Q,U$n as R,dx as S,W$n as T,$i as U,fD as V,ce as W,ln as X,X as Y,eo as Z,NEn as _,X$n as a,ee as a0,Ht as a1,lr as a2,L as a3,u9 as a4,E0 as a5,U as a6,Lr as a7,ci as a8,sa as a9,rt as aa,Jn as ab,_Ce as ac,md as ad,KN as ae,DB as af,Y$n as ag,bnt as ah,Er as ai,ve as aj,Wr as ak,r8 as al,ryt as am,Cl as an,wl as ao,Cs as ap,Pe as aq,Sr as b,mz as c,AEn as d,ASn as e,wh as f,M as g,g1 as h,PEn as i,l as j,pD as k,Wt as l,Ul as m,yT as n,vn as o,bt as p,il as q,h as r,O as s,M2e as t,_1 as u,Ut as v,Ci as w,qo as x,jn as y,Os as z};
